{"version":3,"sources":["../../../packages/ckit/dist/helpers/pw.serde.js","../../../packages/ckit/dist/tx-builders/AcpTransferSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferSudtPwBuilder.js","../../../packages/ckit/dist/helpers/Amount.js","../../../packages/ckit/dist/tx-builders/unipass/config.js","../../../packages/ckit/dist/tx-builders/TransferCkbBuilder.js","../../../packages/ckit/dist/tx-builders/pw/TransferCkbPwBuilder.js","../../../packages/ckit/dist/tx-builders/MintSudtBuilder.js","../../../packages/ckit/dist/tx-builders/pw/MintSudtPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/index.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellBuilder.js","../../../packages/ckit/dist/tx-builders/rc/CreateRcUdtInfoCellPwBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtBuilder.js","../../../packages/ckit/dist/tx-builders/rc/MintRcUdtPwBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeDepositBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeClaimBuilder.js","../../../packages/ckit/dist/tx-builders/ChequeWithdrawBuilder.js","../../../packages/ckit/dist/wallets/pw/PwAdapterSigner.js","../../../packages/ckit/dist/wallets/Secp256k1Wallet.js","../../../packages/ckit/dist/wallets/UnipassWallet.js","../../../packages/ckit/dist/helpers/pw.js","../../../packages/ckit/dist/wallets/unipass/UnipassAdapter.js","../../../packages/ckit/dist/wallets/RcOwnerWallet.js","../../../packages/ckit/dist/providers/index.js","../../../packages/ckit/dist/utils.js","../../../packages/mercury-client/dist/CellOutPointProvider.js","../../../packages/mercury-client/dist/LatestOutPointProvider.js","../../../packages/mercury-client/dist/StaticFutureOutPointProvider.js","../../../packages/ckit/dist/providers/mercury/IndexerCellProvider.js","../../../packages/ckit/dist/providers/CkitProvider.js","../../../packages/ckit/dist/predefined/index.js","../../../packages/ckit/dist/predefined/aggron.js","../../../packages/ckit/dist/predefined/lina.js","../../../packages/utils/dist/index.js","hooks/useConfigStorage.tsx","containers/CkitProviderContainer/index.tsx","wallets/ObservableNonAcpPwLockWallet.ts","wallets/ObservableAcpPwLockWallet.ts","wallets/ObservableUnipassWallet.ts","wallets/ObservableOmnilockWallet.ts","wallets/ObservableAcpOmnilockWallet.ts","containers/WalletContainer/index.tsx","hooks/useUnipass.tsx","utils/AssetAmount.ts","utils/index.ts","hooks/useSendTransaction.tsx","components/OnLoaded/index.tsx","components/Styled/index.tsx","components/Wallet/WalletConnect.tsx","hooks/useSendIssueTx.tsx","hooks/useAssetMetaStorage.tsx","hooks/useFormValidate.tsx","components/Wallet/WalletChange.tsx","components/Wallet/WalletList.tsx","views/Account/index.tsx","components/Assets/AssetList/AssetBalance.tsx","components/Assets/AssetList/SendButton.tsx","hooks/useSendTransferTx.tsx","components/Assets/AssetList/index.tsx","components/Assets/AddAssetButton.tsx","views/Assets/index.tsx","components/Issue/AssetMetaDisplay.tsx","components/Issue/IssueOperation.tsx","components/Issue/index.tsx","views/Issue/index.tsx","views/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","../../../packages/rc-lock/dist/index.js","../../../packages/ckit/dist/errors.js","../../../packages/ckit/dist/tx-builders/builder-utils.js","../../../packages/ckit/dist/tx-builders/pw/AbstractPwSenderBuilder.js","../../../packages/base/dist/index.js","../../../packages/ckit/dist/tx-builders/AbstractTransactionBuilder.js","../../../packages/ckit/dist/helpers/index.js","../../../packages/ckit/dist/wallets/AbstractSingleEntrySigner.js","../../../packages/easy-byte/dist/index.js","../../../packages/ckit/dist/wallets/PwWallet.js","../../../packages/mercury-client/dist/index.js","../../../packages/ckit/dist/index.js","../../../packages/rc-lock/dist/generated/rc_udt_info.js","../../../packages/easy-byte/dist/utils.js","../../../packages/ckit/dist/tx-builders/index.js","../../../packages/ckit/dist/providers/mercury/MercuryProvider.js","../../../packages/base/dist/AbstractProvider.js","../../../packages/base/dist/typeid.js","../../../packages/base/dist/AbstractWallet.js","../../../packages/utils/dist/debug.js","../../../packages/utils/dist/invariant.js","../../../packages/utils/dist/assertion.js","../../../packages/utils/dist/bytes.js","../../../packages/ckit/dist/wallets/index.js","../../../packages/ckit/dist/wallets/RcInternalSigner.js","../../../packages/rc-lock/dist/generated/rc-lock.js","../../../packages/rc-lock/dist/rc.js","../../../packages/easy-byte/dist/struct.js"],"names":["Object","defineProperty","exports","value","serialize","tx","raw","inputs","map","item","since","previousOutput","index","txHash","inputCells","lock","args","codeHash","hashType","type","data","getHexData","capacity","amount","toHexString","outPoint","outputs","version","cellDeps","depType","headerDeps","witnessArgs","witnesses","deserialize","_pwCore","Transaction","RawTransaction","toCell","CellDep","DepType","code","depGroup","OutPoint","require","toScript","x","Script","HashType","Cell","Amount","undefined","AcpTransferSudtBuilder","_errors","_AbstractTransactionBuilder","_TransferSudtPwBuilder","AbstractTransactionBuilder","constructor","options","provider","sender","obj","key","super","this","enumerable","configurable","writable","builder","TransferSudtPwBuilder","recipients","find","option","recipient","RecipientSameWithSenderError","address","build","_utils","_pw","_utils2","_builderUtils","_AbstractPwSenderBuilder","AbstractPwSenderBuilder","optionsGroupBySudt","Map","forEach","oldRecipientOptions","get","sudt","newRecipientOptions","policy","additionalCapacity","createCapacity","concat","set","senderSudtInputCells","recipientSudtInputCells","senderSudtOutputCells","recipientSudtOutputCells","recipientCreateOutputCells","optionsOfSameSudt","deduplicateOptions","sudtScript","totalTransferAmount","add","recipientLiveSudtCell","collectUdtCells","_option$additionalCap","debug","boom","recipientSudtInputCell","output","Pw","toPwScript","toPwOutPoint","out_point","output_data","recipientSudtOutputCell","setSUDTAmount","getSUDTAmount","push","_option$additionalCap2","parseToScript","toString","String","byteLenOfSudt","getLockscriptArgsLength","toUInt128LE","senderSudtInputCell","toPwCell","cellCapacity","sudtAmount","reduce","input","ZERO","senderSudtOutputCell","sub","senderSudtInputCellsCapacity","sum","cell","senderSudtOutputCellsCapacity","recipientSudtInputCellsCapacity","recipientSudtOutputCellsCapacity","recipientCreateOutputCellsCapacity","inputsContainedCapacity","outputsContainedCapacity","txWithoutSupplyCapacity","getCellDepsByCells","getWitnessPlaceholder","needSupplyCapacity","Builder","calcFee","Number","config","MIN_FEE_RATE","senderSudtCellToPayCapacity","gte","senderLockscriptArgsLen","needSearchCapacity","byteLenOfLockOnlyCell","supplyCapacityLiveCells","collectCkbLiveCells","supplyCapacityInputCells","capacityChangeCell","txWithSupplyCapacity","fee","length","existedOption","Error","Array","from","values","BN","_bignumber","BigNumber","CkbAmount","_defineProperty","val","checkIsAmount","__isCkitAmount__","decimals","isInteger","BigInt","times","pow","bn","lt","humanize","decimalPlaces","Infinity","separator","valWithDecimals","originDecimalPlaces","rounded","Math","min","ROUND_FLOOR","toFormat","new","base","toHex","eq","gt","lte","plus","minus","asBN","getCellDeps","isLina","AggronCellDeps","LinaCellDeps","nets","name","url","model","TransferCkbBuilder","_TransferCkbPwBuilder","some","capacityPolicy","TransferCkbPwBuilder","_rxjs","recipientCreatedCells","filter","acpOptions","recipientAcpCells$","pipe","mergeMap","async","resolved","NoAvailableCellError","toArray","recipientAcpCells","lastValueFrom","createdCapacity","totalCapacity","injectedAcpCapacity","senderCells","senderOutput","acc","MintSudtBuilder","_MintSudtPwBuilder","NonAcpPwMintBuilder","buildPwTransaction","_helpers","issuerAddress","senderMintedUdtType","newSudtScript","createdRecipientCells","_item$sudt","recipientLockArgsBytesLen","resolvedFindAcpCells","foundRecipientCells$","_item$sudt2","foundRecipientCells","createdRecipientCellsCapacity","createdCell","foundRecipientCellsAdditionalCapacity","foundCell","neededCapacityFromIssuer","issuerCells","issuerOutput","clone","inputCell","rawTx","_CreateRcUdtInfoCellBuilder","keys","_MintRcUdtBuilder","_rcLock","CreateRcUdtInfoCellBuilder","_CreateRcUdtInfoCellPwBuilder","builtTransaction","CreateRcUdtInfoCellPwBuilder","getTypeHash","rcUdtInfoCell","invariant","toHash","getIssuerLockHash","_base","_dist","_ckbJsToolkit","_jsbi","__esModule","default","sudtInfo","rcIdentity","udtInfo","SerializeUdtInfo","Reader","fromRawString","toArrayBuffer","symbol","description","rcUdtInfoCellSize","byteLenOfRcCell","byteLength","ownerRcLock","newScript","bytes","flag","pubkeyHash","ownerRcAddress","parseToAddress","senderOutpoints","fromCkb","typeIdScript","generateTypeIdScript","previous_output","rcLockScript","rcInfoCell","formatByteLike","OmniSupplyOutputData","encode","current_supply","max_supply","maxSupply","sudt_script_hash","utils","computeScriptHash","fromPwScript","Uint8Array","next","rawTransaction","MintRcUdtBuilder","_MintRcUdtPwBuilder","MintRcUdtPwBuilder","_easyByte","_lodash","helper","RcSupplyLockHelper","mercury","rcLock","newScriptTemplate","sudtType","resolvedInfoCells","listCreatedInfoCells","nonNullable","udtType","findOrCreatePolicies","alreadyDetermined","partition","groupByRecipient","groupBy","mergedFindOrCreatePolicies","items","left","right","then","cells","determineFindOrCreate","rc_identity_flag","rc_identity_pubkey_hash","RcSupplyLockArgs","decode","toBuffer","infoCell","capacityProviderAddress","RcIdentityLockArgs","rc_lock_flag","pad0x","byteWidth","mintedSudtAmount","dataBuf","decoded","encoded","write","setHexData","ChequeDepositBuilder","receiver","skipCheck","asserts","isTemplateOf","receiverLock","senderLock","receiverLockHash","slice","senderLockHash","chequeLock","chequeOccupied","occupiedShannon","byteLenOfChequeCell","chequeCell","toBigUInt128LE","cell_output","changeNeededCapacity","hexDataOccupiedBytes","collectedSudtCells","collectedSudtCapacityAndAmount","ckb","sudtChangeCell","collectedLockOnlyCells","lockOnlyCells","outputCells","ChequeClaimBuilder","searchKey","script","script_type","unclaimedCells","collectCells","claimedSudtCell","ejectExtraCapacity","mergeSudtCells","claimedEmptyChequeCell","inputCapacityCells","collectLockOnlyCells","byteLenOfHexData","changeCell","mergeLockOnlyCells","ChequeWithdrawBuilder","_helpers2","unwithdrawnCells","currEpoch","rpc","get_current_epoch","validEpoch","number","validWithdrawCells","req","method","params","block_number","result","batchRequestCkb","i","epoch","substring","withdrawnChangeCapacity","extraNeededCapacity","withdrawnSudtCells","sudtCell","sudtCapacity","minimalCellCapacity","withdrawnChangeCell","minimalCapacity","toNumber","inputSince","generateSince","relative","cellInput","toCellInput","code_hash","hash_type","CellInput","PwAdapterSigner","serializeBigInt","view","DataView","ArrayBuffer","setUint32","buffer","rawSigner","hasher","Blake2bHasher","messages","sigs","signerLock","getAddress","sig","signMessage","message","toMessages","signMessages","SerializeWitnessArgs","normalizers","NormalizeWitnessArgs","serializeJson","FillSignedWitnesses","validate","hash","SerializeRawTransaction","NormalizeRawTransaction","transformers","TransformRawTransaction","used","_input","update","firstWitness","j","sameWith","currentWitness","digest","reset","Secp256k1Signer","Secp256k1Wallet","_hd","_AbstractSingleEntrySigner","_classPrivateFieldGet","privateMap","descriptor","call","_classApplyDescriptorGet","_classExtractFieldDescriptor","_classPrivateFieldSet","TypeError","_classApplyDescriptorSet","action","has","_privateKey","WeakMap","AbstractWallet","privateKey","lockConfig","setDescriptor","features","_privateKey2","AbstractSingleEntrySigner","privateKeyToBlake160","signature","signRecoverable","Promise","resolve","UnipassWallet","_UnipassAdapter","adapterConfig","adapter","UnipassRedirectAdapter","unipassLockArgs","getLockArgs","sign","seal","fromPwCellDep","dep_type","tx_hash","toPwCellDep","fromPwCell","getData","isLumosCell","pubkeyToLockArgs","getRetFromSearchParams","redirect","isUnipassLoginData","isUnipassSigData","pubkey","ckbHash","hexToBytes","check","replace","searchParams","URLSearchParams","location","search","json","res","JSON","parse","info","delete","pathname","host","protocol","window","qs","newUrl","history","replaceState","path","href","setTimeout","_options$host","_options$loginDataCac","loginDataCacheKey","saveLoginInfo","getLoginDataFromUrl","getLoginDataFromCache","hasLoginInfo","hasSigData","_ref","_this$getLoginDataFro","redirectToLogin","_this$getSignatureFro","getSignatureFromUrl","redirectToSign","generateUnipassNewUrl","success_url","_this$getLoginDataFro2","saveLoginDataToCache","localStorage","setItem","stringify","serialized","getItem","loginData","urlObj","URL","toLowerCase","entries","RcAcpPwSigner","RcAcpWallet","RcPwSigner","RcOwnerWallet","_PwWallet","describeFeatures","getRcSigner","ethProvider","detect","rcSigner","selectedAddress","request","addListener","signer","emitChangedSigner","emitConnectStatusChanged","rcOwnerLockArgs","RcIdentityFlag","ETH","getRcIdentity","signedMessage","personalSign","v","parseInt","padStart","SerializeRcLockWitnessLock","RcIdentityAcpLockArgs","RcLockFlag","ACP_MASK","rc_lock_acp_minimum_ckb","rc_lock_acp_minimum_udt","_MercuryProvider","_CkitProvider","unimplemented","asyncSleep","ms","randomHexString","lengthWithOut0x","floor","random","join","bytesToHex","b","hex","match","startsWith","byte","condition","err","DefaultOutPointProvider","BaseCellOutPointProvider","_rpc","rpcUrl","upgradableScripts","RPC","_liveCellTx$transacti","liveCellTx","get_transaction","transaction","configKey","scriptConfig","SCRIPTS","checkConfigResult","shouldReturnOriginalOutput","originalOutPoint","TX_HASH","INDEX","includes","get_live_cell","status","getScriptDep","LatestOutPointProvider","_","indexerUrl","mercuryClient","MercuryClient","checkConfigByKey","getTypeIdByOutPoint","objects","get_cells","search_key","StaticFutureOutPointProvider","scriptConfigs","RC_LOCK","CODE_HASH","HASH_TYPE","DEP_TYPE","findIndex","found","MercuryCellProvider","collector","queries","queryData","collect","Symbol","asyncIterator","liveCells","CkitProvider","MercuryProvider","init","getScriptConfig","template","issuer","issuerLockHash","scriptLice","predefined","Aggron","_interopRequireWildcard","Lina","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","cache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","PREFIX","_configManager","SECP256K1_BLAKE160","AGGRON4","ANYONE_CAN_PAY","SUDT","PW_ANYONE_CAN_PAY","PW_NON_ANYONE_CAN_PAY","UNIPASS","CHEQUE","LINA","_debug","createDebugger","_invariant","_assertion","_bytes","useConfigStorage","initialConfig","useMemo","ckitConfig","mecuryRPC","ckbRPC","nervosExploreTxUrlPrefix","nervosExploreAddressUrlPrefix","nervosExploreSudtUrlPrefix","useLocalStorage","CkitProviderContainer","createContainer","ckitProvider","setCkitProvider","useState","localConfig","useEffect","NonAcpPwLockWallet","AcpPwLockWallet","ObservableUnipassWallet","makeObservable","connectStatus","observable","ObservableOmnilockWallet","ObservableAcpOmnilockWallet","WalletContainer","useContainer","currentWalletName","setCurrentWalletName","wallets","useLocalObservable","signerAddress","setSignerAddress","error","setError","visible","setVisible","isInitialized","setIsInitialized","setModalVisible","useCallback","runInAction","splice","connect","autorun","wallet","on","remainConnectedWallet","w","connectedWallet","currentWallet","displayWalletName","useUnipass","cachedTx","cacheTx","shouldLogin","cacheLogin","shouldSendTx","clearTx","AssetAmount","rawAmount","humanizeAmount","toRawString","toHumanizeString","truncateMiddle","str","start","end","HEX_REGEX","isValidHexString","test","useSendTransaction","useMutation","serializedTx","serde","sendTransaction","onSuccess","Modal","success","title","content","target","rel","onError","errorMsg","width","OnIncomplete","children","isLoaded","setIsLoaded","mutateAsync","txToSend","catch","StyledCardWrapper","styled","div","WalletConnect","observer","size","onClick","CheckCircleTwoTone","useSendIssueTx","recipientsParams","operationKind","helpers","useAssetMetaStorage","initialAssetMeta","decimal","assetsMeta","setAssetsMeta","addAssetMeta","newValue","useFormValidate","useProvider","validateCkbAddress","e","isLockscriptACP","scripts","checkRcLockFlag","argsBytes","validateACPAddress","validateInviteAddress","validateIssueAcpAddress","validateTransferAddress","validateAmount","assetAmount","fromHumanize","isNaN","WalletChange","truncatedAddress","style","marginTop","marginBottom","span","offset","textAlign","AddressTip","copyable","float","Typography","Text","ModalBorderWrapper","WalletList","closable","onCancel","footer","pagination","dataSource","renderItem","Item","WalletListItem","props","UsbOutlined","SyncOutlined","spin","AccountView","Title","level","paddingTop","AssetBalance","query","useQuery","getUdtBalance","getCkbLiveCellsBalance","enabled","isError","fromRaw","LoadingOutlined","SendButton","issuableSudtScript","isMint","buttonContent","disabled","isLoading","ModalForm","assetMeta","sendTransferTransaction","isTransferLoading","useSendTransferTx","sendIssueTransaction","isIssueLoading","onSubmit","loading","formik","useFormik","initialValues","errors","recipientError","amountError","resetForm","justify","align","htmlFor","getFieldProps","onChange","setFieldValue","Option","id","placeholder","touched","submitForm","AssetList","columns","render","record","showHeader","pageSize","AddAssetButton","buttonProps","setSubmitting","newAssetMeta","onBlur","handleBlur","Group","handleChange","AssetsView","icon","PlusCircleOutlined","fontSize","AssetMetaDisplay","scriptHash","ScriptTip","Link","IssueOperation","setOperationKind","recipientFieldDisplayName","inviteRecipient","issueRecipient","issuePolicy","IssueArea","udtScript","IssueView","isSupportIssue","checkSupported","AppView","BodyWrapper","className","App","queryClient","QueryClient","QueryClientProvider","client","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","_exportNames","UdtInfo","_rc_udt_info","_rc","NoEnoughUdtError","NoEnoughCkbError","CkitError","metadata","expected","actual","lockArgsByteLen","typeArgsByteLen","dataLen","byteLen","toBigUint128LE","readBigUint128LE","totalAmount","total","refinedCell","refinedCapacity","fn","fx","fg","arg","readBigUInt128LE","num","toFixed","toUpperCase","_config","getCellDep","foundEntry","keyToTemplate","getCellDepByKey","promises","getCellDepByScript","all","uniqWith","flatMap","dep1","dep2","inputLockAndTypeScripts","outputTypeScripts","repeat","input_type","output_type","_ScriptManager","ScriptManager","_AbstractProvider","AbstractProvider","_AbstractWallet","deserialized","_Amount","_PwAdapterSigner","_options$hasher","signed","TransformTransaction","_struct","hashMessage","InternalNonAcpPwLockSigner","_detectProvider","_secp256k","ethereum","AbstractPwWallet","addresses","isArray","produceSigner","disconnect","removeEventListener","listener","enable","AbstractPwSigner","ethereumProvider","Platform","eth","Keccak256Hasher","getEthAddress","publicKeyCreate","_CellOutPointProvider","_LatestOutPointProvider","_StaticFutureOutPointProvider","_clientJs","uri","transport","HTTPTransport","headers","Client","RequestManager","payload","order","limit","after_cursor","get_tip","get_transactions","_predefined","_wallets","_providers","_txBuilders","dataLengthError","required","assertDataLength","assertArrayBuffer","reader","verifyAndExtractOffsets","expectedFieldCount","compatible","requiredByteLength","getUint32","firstOffset","itemCount","offsets","serializeTable","buffers","totalSize","array","SerializeUTF8Bytes","SerializeUint128","SerializeByte32","SerializeUdtCellData","versionView","setUint8","udt_info","UdtCellData","Byte32","Uint128","UTF8Bytes","indexAt","getUint8","getDecimals","offset_end","getName","getSymbol","getDescription","decimalsView","getVersion","getCurrentSupply","getMaxSupply","getSudtScriptHash","getUdtInfo","startsWith0x","rm0x","safePadZero","prependZeroToEvenLength","convertEndian","toUnfixedBuffer","toFixedBuffer","byteSize","_buffer","le","isEvenLength","isUnfixed","padEvenLength","expectedByteStringLength","padEnd","reverse","byteString","Buffer","shouldPad0x","isBuffer","unfixed","unfixedSize","alloc","fn1","fn2","SerializedTx","DeserializedTx","_AcpTransferSudtBuilder","_TransferCkbBuilder","_MintSudtBuilder","_ChequeDepositBuilder","_ChequeClaimBuilder","_ChequeWithdrawBuilder","_mercuryClient","_isomorphicFetch","_IndexerCellProvider","mercuryRpc","ckbRpc","mercuryUrl","depOutPointProvider","newOutPoint","batch","jsonrpc","response","body","results","output_data_len_range","cells$","expand","last_cursor","takeWhile","concatMap","scan","defaultValue","takeWhile_","balance$","balance","getTxPoolInfo","tx_pool_info","getChainInfo","get_blockchain_info","send_transaction","udt","minimalAmount","resolvedCell","pollIntervalMs","timeoutMs","Date","now","_tx$tx_status","tx_status","rpcTip","get_tip_block_number","mercuryTip","asIndexerCellProvider","_typeid","newTypeIdScript","outputIndex","findCellDepByAddress","findCellDepByScript","initialized","min_fee_rate","isMainnet","chain","txPoolInfo","encodeToAddress","generateAddress","parseAddress","_eventemitter","event","emitter","isDisconnected","tryConnect","emitError","removeAllListeners","feature","getConnectStatus","getSigner","emit","namespace","_tinyInvariant","hexes","padToEven","hexStringLike","isNumberLike","internal","_RcOwnerWallet","_RcInternalSigner","_Secp256k1Wallet","_UnipassWallet","RcSecp256k1Signer","RcEthSigner","RCLockSigner","RC_MODE","CKB","getAddressByMode","ACP","mode","pubKeykHash","rc_args","PUBKEY_HASH","reject","_privateKey3","ethAddress","SerializeIdentity","SerializeRcIdentity","SerializeRcIdentityOpt","SerializeBytesOpt","rc_identity","preimage","SerializeScriptVec","SerializeScriptVecOpt","SerializeXudtWitnessInput","raw_extension_data","SerializeBytesVec","extension_data","SerializeRCRule","SerializeRCCellVec","SerializeRCData","itemBuffer","SerializeSmtProof","SerializeSmtProofEntry","SerializeSmtProofEntryVec","SerializeSmtUpdateItem","SerializeSmtUpdateItemVec","SerializeSmtUpdateAction","updates","proof","SerializeXudtData","SerializeBytes","SerializeUint32","SerializeUint64","SerializeUint256","SerializeByte32Vec","SerializeScriptOpt","SerializeProposalShortId","SerializeUncleBlockVec","SerializeTransactionVec","SerializeProposalShortIdVec","SerializeCellDepVec","SerializeCellInputVec","SerializeCellOutputVec","SerializeScript","SerializeOutPoint","SerializeCellInput","SerializeCellOutput","SerializeCellDep","SerializeTransaction","SerializeRawHeader","SerializeHeader","SerializeUncleBlock","SerializeBlock","header","uncles","transactions","proposals","SerializeCellbaseWitness","WitnessArgs","CellbaseWitness","Block","UncleBlock","Header","RawHeader","CellOutput","CellOutputVec","CellInputVec","CellDepVec","ProposalShortIdVec","TransactionVec","UncleBlockVec","ProposalShortId","ScriptOpt","Byte32Vec","BytesVec","BytesOpt","Bytes","Uint256","Uint64","Uint32","XudtData","SmtUpdateAction","SmtUpdateItemVec","SmtUpdateItem","SmtProofEntryVec","SmtProofEntry","SmtProof","RCData","RCCellVec","RCRule","XudtWitnessInput","ScriptVecOpt","ScriptVec","RcLockWitnessLock","RcIdentityOpt","RcIdentity","Identity","getIdentity","getProofs","identity","proofs","hasValue","getSignature","getPreimage","len","getRawExtensionData","getExtensionData","getSmtRoot","getFlags","smt_root","flags","t","unionType","getMask","getProof","maskView","mask","getKey","getPackedValues","packed_values","getUpdates","getLock","toBigEndianUint32","toLittleEndianUint32","getCodeHash","getHashType","getArgs","hashTypeView","getTxHash","getIndex","getSince","getPreviousOutput","getCapacity","getType","type_","getOutPoint","getDepType","getHeaderDeps","getInputs","getOutputs","getOutputsData","cell_deps","header_deps","outputs_data","getRaw","getWitnesses","getCompactTarget","getTimestamp","getNumber","getEpoch","getParentHash","getTransactionsRoot","getProposalsHash","getUnclesHash","getDao","compact_target","timestamp","parent_hash","transactions_root","proposals_hash","uncles_hash","dao","getNonce","nonce","getHeader","getProposals","getUncles","getTransactions","getMessage","getInputType","getOutputType","convertToRcIdentityFlag","convertToSudtSupplyInfo","convertToSudtInfo","RcSupplyOutputData","OmniSupplyLockArgs","OmniIdentityLockArgs","_operators","read","buf","createFixedStruct","field","createField","readUInt8","U8","U128LE","U128LEJSBI","outputData","fixedDataLen","fields","currentSupply","type_id_hash","udtId","indexer","SUPPLY_MASK","supplyCells$","newRcSupplyLockScript","infoLock","FixedStruct","U128BEJSBI","U64BEJSBI","U64LEJSBI","U128BE","I128BE","I128LE","U64BE","U64LE","I64BE","I64LE","U32BE","U32LE","I32BE","I32LE","U16BE","U16LE","I16BE","I16LE","I8","createReader","fnName","createWriter","namedField","parsed","bigIntReader","signMask","valueMask","bigIntWriter","jsbiReader","jsbiWriter"],"mappings":"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","file":"static/js/main.ae9222dc.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.serialize = serialize;\nexports.deserialize = deserialize;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nfunction serialize(tx) {\n  const raw = tx.raw;\n  return {\n    raw: {\n      inputs: raw.inputs.map(item => ({\n        since: item.since,\n        previousOutput: {\n          index: item.previousOutput.index,\n          txHash: item.previousOutput.txHash\n        }\n      })),\n      inputCells: raw.inputCells.map(item => ({\n        lock: {\n          args: item.lock.args,\n          codeHash: item.lock.codeHash,\n          hashType: item.lock.hashType\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        },\n        data: item.getHexData(),\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        outPoint: {\n          txHash: item.outPoint.txHash,\n          index: item.outPoint.index\n        }\n      })),\n      outputs: raw.outputs.map(item => ({\n        capacity: {\n          amount: item.capacity.toHexString()\n        },\n        data: item.getHexData(),\n        lock: {\n          args: item.lock.args,\n          hashType: item.lock.hashType,\n          codeHash: item.lock.codeHash\n        },\n        type: item.type && {\n          args: item.type.args,\n          hashType: item.type.hashType,\n          codeHash: item.type.codeHash\n        }\n      })),\n      version: raw.version,\n      cellDeps: raw.cellDeps.map(item => ({\n        depType: item.depType,\n        outPoint: {\n          index: item.outPoint.index,\n          txHash: item.outPoint.txHash\n        }\n      })),\n      headerDeps: raw.headerDeps\n    },\n    witnessArgs: tx.witnessArgs,\n    witnesses: tx.witnesses\n  };\n}\n\nfunction toScript(x) {\n  return new _pwCore.Script(x.codeHash, x.args, x.hashType === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction toCell(x) {\n  return new _pwCore.Cell(new _pwCore.Amount(x.capacity.amount, 0), toScript(x.lock), x.type ? toScript(x.type) : undefined, 'outPoint' in x && x.outPoint ? new _pwCore.OutPoint(x.outPoint.txHash, x.outPoint.index) : undefined, x.data);\n}\n\nfunction deserialize(tx) {\n  const raw = tx.raw;\n  return new _pwCore.Transaction(new _pwCore.RawTransaction(raw.inputCells.map(toCell), raw.outputs.map(toCell), raw.cellDeps.map(item => new _pwCore.CellDep(item.depType === 'code' ? _pwCore.DepType.code : _pwCore.DepType.depGroup, new _pwCore.OutPoint(item.outPoint.txHash, item.outPoint.index))), raw.headerDeps, raw.version), tx.witnessArgs);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AcpTransferSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferSudtPwBuilder = require(\"./pw/TransferSudtPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AcpTransferSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n\n    _defineProperty(this, \"builder\", void 0);\n\n    this.builder = new _TransferSudtPwBuilder.TransferSudtPwBuilder(options, provider, sender);\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.find(option => option.recipient === this.sender);\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.builder.build();\n  }\n\n}\n\nexports.AcpTransferSudtBuilder = AcpTransferSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferSudtPwBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferSudtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const optionsGroupBySudt = new Map();\n    this.options.recipients.forEach(options => {\n      const oldRecipientOptions = optionsGroupBySudt.get(options.sudt.args);\n      const newRecipientOptions = oldRecipientOptions === undefined ? [{\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      }] : oldRecipientOptions.concat({\n        recipient: options.recipient,\n        amount: options.amount,\n        sudt: options.sudt,\n        policy: options.policy,\n        additionalCapacity: options.additionalCapacity,\n        createCapacity: options.createCapacity\n      });\n      optionsGroupBySudt.set(options.sudt.args, newRecipientOptions);\n    });\n    const senderSudtInputCells = [];\n    const recipientSudtInputCells = [];\n    const senderSudtOutputCells = [];\n    const recipientSudtOutputCells = [];\n    const recipientCreateOutputCells = []; // 1. handle sudt cells\n\n    for (const item of optionsGroupBySudt) {\n      let [, optionsOfSameSudt] = item;\n      optionsOfSameSudt = this.deduplicateOptions(optionsOfSameSudt); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const sudtScript = optionsOfSameSudt[0].sudt;\n      let totalTransferAmount = new _pwCore.Amount('0', 0); // build sudt cells of recipients\n\n      for (const option of optionsOfSameSudt) {\n        totalTransferAmount = totalTransferAmount.add(new _pwCore.Amount(option.amount, 0));\n\n        if (option.policy === 'findOrCreate') {\n          const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n          option.policy = recipientLiveSudtCell ? 'findAcp' : 'createCell';\n        }\n\n        switch (option.policy) {\n          case 'findAcp':\n            {\n              var _option$additionalCap;\n\n              if (option.createCapacity) (0, _utils.debug)(`WARN: createCapacity cannot use with findAcp policy`);\n              const recipientLiveSudtCell = (await this.provider.collectUdtCells(option.recipient, sudtScript, '0'))[0];\n              if (!recipientLiveSudtCell) (0, _utils2.boom)(`recipient ${option.recipient} has no cell to carry the udt`);\n              const recipientSudtInputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), _pw.Pw.toPwOutPoint(recipientLiveSudtCell.out_point), recipientLiveSudtCell.output_data);\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(recipientLiveSudtCell.output.capacity, 0).add(new _pwCore.Amount((_option$additionalCap = option.additionalCapacity) !== null && _option$additionalCap !== void 0 ? _option$additionalCap : '0', 0)), _pw.Pw.toPwScript(recipientLiveSudtCell.output.lock), recipientLiveSudtCell.output.type && _pw.Pw.toPwScript(recipientLiveSudtCell.output.type), undefined, recipientLiveSudtCell.output_data);\n              recipientSudtOutputCell.setSUDTAmount(recipientSudtOutputCell.getSUDTAmount().add(new _pwCore.Amount(option.amount, 0)));\n              recipientSudtInputCells.push(recipientSudtInputCell);\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n\n          case 'createCell':\n            {\n              var _option$additionalCap2;\n\n              if (option.createCapacity) {\n                recipientCreateOutputCells.push(new _pwCore.Cell(new _pwCore.Amount(option.createCapacity, 0), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient))));\n              } // defaults additional capacity to 1 CKB\n\n\n              option.additionalCapacity = (_option$additionalCap2 = option.additionalCapacity) !== null && _option$additionalCap2 !== void 0 ? _option$additionalCap2 : (10 ** 8).toString();\n              const recipientSudtOutputCell = new _pwCore.Cell(new _pwCore.Amount(option.additionalCapacity, 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(option.recipient))))), _pw.Pw.toPwScript(this.provider.parseToScript(option.recipient)), _pw.Pw.toPwScript(sudtScript), undefined, new _pwCore.Amount(option.amount, 0).toUInt128LE());\n              recipientSudtOutputCells.push(recipientSudtOutputCell);\n              break;\n            }\n        }\n      } // build sudt cells of sender\n\n\n      const senderLiveSudtCells = await this.provider.collectUdtCells(this.sender, sudtScript, totalTransferAmount.toHexString());\n      const senderSudtInputCell = senderLiveSudtCells.map(_pw.Pw.toPwCell);\n      senderSudtInputCells.push(...senderSudtInputCell);\n      const [cellCapacity, sudtAmount] = senderSudtInputCell.reduce(([cellCapacity, sudtAmount], input) => {\n        cellCapacity = cellCapacity.add(input.capacity);\n        sudtAmount = sudtAmount.add(input.getSUDTAmount());\n        return [cellCapacity, sudtAmount];\n      }, [_pwCore.Amount.ZERO, _pwCore.Amount.ZERO]);\n      const senderSudtOutputCell = new _pwCore.Cell(cellCapacity, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].lock, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      senderSudtInputCell[0].type, undefined, sudtAmount.toUInt128LE());\n      senderSudtOutputCell.setSUDTAmount(senderSudtOutputCell.getSUDTAmount().sub(totalTransferAmount));\n      senderSudtOutputCells.push(senderSudtOutputCell);\n    } // 2. handle capacity cells\n\n\n    const senderSudtInputCellsCapacity = senderSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const senderSudtOutputCellsCapacity = senderSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtInputCellsCapacity = recipientSudtInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientSudtOutputCellsCapacity = recipientSudtOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const recipientCreateOutputCellsCapacity = recipientCreateOutputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputsContainedCapacity = recipientSudtInputCellsCapacity.add(senderSudtInputCellsCapacity);\n    const outputsContainedCapacity = recipientSudtOutputCellsCapacity.add(senderSudtOutputCellsCapacity).add(recipientCreateOutputCellsCapacity);\n    const txWithoutSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells), await this.getCellDepsByCells(senderSudtInputCells.concat(recipientSudtInputCells), senderSudtOutputCells.concat(recipientSudtOutputCells))), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const feeWithoutSupplyCapacity = _pwCore.Builder.calcFee(txWithoutSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    const needSupplyCapacity = feeWithoutSupplyCapacity.add(outputsContainedCapacity.sub(inputsContainedCapacity));\n    const senderSudtCellToPayCapacity = senderSudtOutputCells.find(cell => cell.capacity.sub(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(this.getLockscriptArgsLength(this.sender))))).gte(needSupplyCapacity));\n\n    if (senderSudtCellToPayCapacity) {\n      senderSudtCellToPayCapacity.capacity = senderSudtCellToPayCapacity.capacity.sub(needSupplyCapacity);\n      return txWithoutSupplyCapacity;\n    } // build tx with extra capacity cell supplied\n\n\n    const senderLockscriptArgsLen = this.getLockscriptArgsLength(this.sender);\n    const outputsNeededCapacity = outputsContainedCapacity // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(senderLockscriptArgsLen)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const needSearchCapacity = outputsNeededCapacity.sub(inputsContainedCapacity);\n    const supplyCapacityLiveCells = await this.provider.collectCkbLiveCells(this.sender, needSearchCapacity.toHexString());\n    const supplyCapacityInputCells = supplyCapacityLiveCells.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const capacityChangeCell = _pw.Pw.toPwCell(supplyCapacityLiveCells[0]);\n\n    capacityChangeCell.capacity = supplyCapacityInputCells.reduce((sum, cell) => sum.add(cell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = senderSudtInputCells.concat(recipientSudtInputCells).concat(supplyCapacityInputCells);\n    const outputs = senderSudtOutputCells.concat(recipientSudtOutputCells).concat(recipientCreateOutputCells).concat([capacityChangeCell]);\n    const txWithSupplyCapacity = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs)), senderSudtInputCells.map(() => this.getWitnessPlaceholder(this.sender)));\n\n    const fee = _pwCore.Builder.calcFee(txWithSupplyCapacity, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee).add(inputsContainedCapacity).sub(outputsContainedCapacity);\n    return txWithSupplyCapacity;\n  }\n\n  getLockscriptArgsLength(address) {\n    return (this.provider.parseToScript(address).args.length - 2) / 2;\n  }\n\n  deduplicateOptions(options) {\n    const deduplicateOptions = new Map();\n    options.forEach(option => {\n      const existedOption = deduplicateOptions.get(option.recipient);\n\n      if (existedOption) {\n        if (existedOption.policy !== option.policy) throw new Error('error: same recipient and sudt, but different policy');\n        existedOption.amount = new _pwCore.Amount(existedOption.amount, 0).add(new _pwCore.Amount(option.amount, 0)).toHexString();\n      } else {\n        deduplicateOptions.set(option.recipient, option);\n      }\n    });\n    return Array.from(deduplicateOptions.values());\n  }\n\n}\n\nexports.TransferSudtPwBuilder = TransferSudtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BN = BN;\nObject.defineProperty(exports, \"BigNumber\", {\n  enumerable: true,\n  get: function () {\n    return _bignumber.BigNumber;\n  }\n});\nexports.CkbAmount = exports.Amount = void 0;\n\nvar _bignumber = require(\"bignumber.js\");\n\nvar _utils = require(\"../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction BN(val) {\n  if (typeof val === 'bigint') return new _bignumber.BigNumber(String(val));\n  if (Amount.checkIsAmount(val)) return new _bignumber.BigNumber(String(val));\n  return new _bignumber.BigNumber(val);\n}\n\nclass Amount {\n  static checkIsAmount(x) {\n    if (typeof x !== 'object') return false;\n    if (x == null) return false;\n    return '__isCkitAmount__' in x && x.__isCkitAmount__;\n  }\n  /**\n   *\n   * @param value\n   * @param decimals\n   * @example\n   * ```ts\n   * Amount.from(1).eq(1) // true\n   * Amount.from(1, 8).eq(1_00000000) // true\n   * ```\n   */\n\n\n  static from(value, decimals = 0) {\n    if (decimals < 0 || !Number.isInteger(decimals)) (0, _utils.boom)('The decimal not valid');\n    if (typeof value === 'bigint') return new Amount(BN(value * BigInt(10) ** BigInt(decimals)));\n    if (!decimals) return new Amount(BN(value));\n    return new Amount(BN(value).times(BN(10).pow(decimals)));\n  }\n  /**\n   * value without decimals\n   * @private\n   */\n\n\n  constructor(bn) {\n    _defineProperty(this, \"__isCkitAmount__\", true);\n\n    _defineProperty(this, \"raw\", void 0);\n\n    if (!bn.isInteger()) throw new Error('Amount must be an integer');\n    if (bn.lt(0)) throw new Error('Amount must cannot be a negative number');\n    this.raw = new _bignumber.BigNumber(bn);\n  }\n\n  humanize(options) {\n    const {\n      decimalPlaces = Infinity,\n      separator = true,\n      decimals = 0\n    } = options ? options : {};\n    const valWithDecimals = this.raw.times(BN(10).pow(-decimals));\n    const originDecimalPlaces = valWithDecimals.decimalPlaces();\n    const rounded = valWithDecimals.decimalPlaces(Math.min(originDecimalPlaces, decimalPlaces), _bignumber.BigNumber.ROUND_FLOOR);\n    if (separator) return rounded.toFormat();\n    return rounded.toString();\n  }\n\n  new(val) {\n    return new Amount(val);\n  }\n\n  toString(base) {\n    return this.raw.toString(base);\n  }\n\n  toHex() {\n    return '0x' + this.toString(16);\n  }\n\n  eq(val) {\n    return this.raw.eq(BN(val));\n  }\n\n  gt(val) {\n    return this.raw.gt(BN(val));\n  }\n\n  gte(val) {\n    return this.raw.gte(BN(val));\n  }\n\n  lt(val) {\n    return this.raw.lt(BN(val));\n  }\n\n  lte(val) {\n    return this.raw.lte(BN(val));\n  }\n\n  plus(val) {\n    return this.new(this.raw.plus(BN(val)));\n  }\n\n  minus(val) {\n    return this.new(this.raw.minus(BN(val)));\n  }\n\n  asBN() {\n    return new _bignumber.BigNumber(this.raw);\n  }\n\n}\n\nexports.Amount = Amount;\n\nclass CkbAmount extends Amount {\n  /**\n   * @deprecated\n   */\n  static from() {\n    throw new Error('Use the Amount.from to instead of');\n  }\n\n  static fromCkb(value) {\n    return new CkbAmount(BN(value).times(10 ** 8));\n  }\n\n  static fromShannon(value) {\n    return new CkbAmount(BN(value));\n  }\n\n  new(val) {\n    return new CkbAmount(val);\n  }\n\n  humanize(options) {\n    return super.humanize({ ...options,\n      decimals: 8\n    });\n  }\n\n}\n\nexports.CkbAmount = CkbAmount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCellDeps = getCellDeps;\nexports.nets = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\n// TODO\n//  unipass is not open source at this stage,\n//  there is only some sample code, when unipass is open source, you need to replace these codes\nconst nets = [// {\n//   name: '',\n//   url: 'http://localhost:3000/'\n// },\n{\n  name: 'dev',\n  url: 'https://id.unipass.vip',\n  model: 1\n}, {\n  name: 'Aggron-Preview',\n  url: 'https://t.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina-Preview',\n  url: 'https://rc.unipass.xyz',\n  model: 0\n}, {\n  name: 'Lina',\n  url: 'https://unipass.xyz'\n}];\nexports.nets = nets;\nconst AggronCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x04a1ac7fe15e454741d3c5c9a409efb9a967714ad2f530870514417978a9f655', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x3d41e1c543f0fddcbb17157d15a2845d7c5fb0363561cd8f50ecd0e118b34f84', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xd346695aa3293a84e9f985448668e9692892c959e7e83d6d8042e59c08b8cf5c', '0x0'))];\nconst LinaCellDeps = [new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x825e0e2f8c15a4740fb0043116e8aa4e664c2e6a41c79df71ba29c48a7a0ea62', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0xf247a0e9dfe9d559ad8486428987071b65d441568075465c2810409e889f4081', '0x0')), new _pwCore.CellDep(_pwCore.DepType.code, new _pwCore.OutPoint('0x1196caaf9e45f1959ea3583f92914ee8306d42e27152f7068f9eeb52ac23eeae', '0x0'))];\n\nfunction getCellDeps(isLina = false) {\n  let data = AggronCellDeps;\n  if (isLina) data = LinaCellDeps;\n  return data;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _TransferCkbPwBuilder = require(\"./pw/TransferCkbPwBuilder\");\n\n// just for testing case, do not use it\nclass TransferCkbBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async build() {\n    const transferToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy === 'findAcp');\n    if (transferToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    const builder = new _TransferCkbPwBuilder.TransferCkbPwBuilder(this.options, this.provider, this.sender);\n    return builder.build();\n  }\n\n}\n\nexports.TransferCkbBuilder = TransferCkbBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransferCkbPwBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass TransferCkbPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, sender) {\n    super(provider);\n    this.options = options;\n    this.sender = sender;\n  }\n\n  async build() {\n    const recipientCreatedCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(item.amount, 0), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient))));\n    const acpOptions = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const recipientAcpCells$ = (0, _rxjs.from)(acpOptions).pipe((0, _rxjs.mergeMap)(async item => {\n      const resolveds = await this.provider.collectCkbLiveCells(item.recipient, '0');\n      const resolved = resolveds[0];\n      if (!resolved) throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(item.recipient)\n      }); // increase capacity\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.amount, 0));\n      return cell;\n    }), (0, _rxjs.toArray)());\n    const recipientAcpCells = await (0, _rxjs.lastValueFrom)(recipientAcpCells$);\n    const createdCapacity = recipientCreatedCells.reduce((totalCapacity, cell) => totalCapacity.add(cell.capacity), _pwCore.Amount.ZERO);\n    const injectedAcpCapacity = acpOptions.reduce((totalCapacity, item) => totalCapacity.add(new _pwCore.Amount(item.amount, 0)), _pwCore.Amount.ZERO);\n    const senderOutpoints = await this.provider.collectCkbLiveCells(this.sender, injectedAcpCapacity.add(createdCapacity) // 61 ckb to ensure change cell capacity is enough\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).toHexString());\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n\n    if (!senderCells.length || !senderCells[0]) {\n      throw new _errors.NoAvailableCellError({\n        lock: this.provider.parseToScript(this.sender)\n      });\n    } // accumulate all sender capacity into one cell\n\n\n    const senderOutput = senderCells[0];\n    senderOutput.capacity = senderCells.reduce((acc, cell) => acc.add(cell.capacity), new _pwCore.Amount('0', 0));\n    const inputCells = [...senderCells, ...recipientAcpCells];\n    const outputs = [senderOutput, ...recipientAcpCells, ...recipientCreatedCells];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs)), [this.getWitnessPlaceholder(this.sender)]);\n    const fee = TransferCkbPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(createdCapacity).sub(injectedAcpCapacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.TransferCkbPwBuilder = TransferCkbPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintSudtBuilder = void 0;\n\nvar _errors = require(\"../errors\");\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _MintSudtPwBuilder = require(\"./pw/MintSudtPwBuilder\");\n\nclass MintSudtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider, sender) {\n    super();\n    this.options = options;\n    this.provider = provider;\n    this.sender = sender;\n  }\n\n  async buildPwTransaction() {\n    const builder = new _MintSudtPwBuilder.NonAcpPwMintBuilder(this.options, this.provider, this.sender);\n    return await builder.build();\n  }\n\n  async build() {\n    const mintToSelf = this.options.recipients.some(item => item.recipient === this.sender && item.capacityPolicy !== 'createCell');\n    if (mintToSelf) throw new _errors.RecipientSameWithSenderError({\n      address: this.sender\n    });\n    return this.buildPwTransaction();\n  }\n\n}\n\nexports.MintSudtBuilder = MintSudtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonAcpPwMintBuilder = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./AbstractPwSenderBuilder\");\n\nclass NonAcpPwMintBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider, issuerAddress) {\n    super(provider);\n    this.options = options;\n    this.issuerAddress = issuerAddress;\n  }\n\n  async build() {\n    const senderMintedUdtType = this.provider.newSudtScript(this.issuerAddress); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => {\n      var _item$sudt;\n\n      const recipientLockArgsBytesLen = (this.provider.parseToScript(item.recipient).args.length - 2) / 2;\n      return new _pwCore.Cell(new _pwCore.Amount(String((0, _helpers.BN)(item.additionalCapacity || 0)), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)(recipientLockArgsBytesLen)))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n      _pw.Pw.toPwScript((_item$sudt = item.sudt) !== null && _item$sudt !== void 0 ? _item$sudt : senderMintedUdtType), // issued sudt type\n      undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE());\n    }); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      var _item$sudt2;\n\n      const resolved = (await this.provider.collectUdtCells(item.recipient, (_item$sudt2 = item.sudt) !== null && _item$sudt2 !== void 0 ? _item$sudt2 : senderMintedUdtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: senderMintedUdtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$);\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n    const neededCapacityFromIssuer = createdRecipientCellsCapacity.add(foundRecipientCellsAdditionalCapacity) // additional 61 ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)()))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(this.issuerAddress, neededCapacityFromIssuer.toHexString());\n    const issuerCells = issuerOutpoints.map(_pw.Pw.toPwCell); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const issuerOutput = issuerCells[0].clone();\n    issuerOutput.capacity = issuerCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO);\n    const inputCells = [...issuerCells, ...foundRecipientCells];\n    const outputs = [issuerOutput, ...createdRecipientCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, outputs, await this.getCellDepsByCells(inputCells, outputs));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(this.issuerAddress)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    issuerOutput.capacity = issuerOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.NonAcpPwMintBuilder = NonAcpPwMintBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CreateRcUdtInfoCellBuilder = require(\"./CreateRcUdtInfoCellBuilder\");\n\nObject.keys(_CreateRcUdtInfoCellBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CreateRcUdtInfoCellBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CreateRcUdtInfoCellBuilder[key];\n    }\n  });\n});\n\nvar _MintRcUdtBuilder = require(\"./MintRcUdtBuilder\");\n\nObject.keys(_MintRcUdtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MintRcUdtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintRcUdtBuilder[key];\n    }\n  });\n});\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nObject.keys(_rcLock).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _rcLock[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rcLock[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellBuilder = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _CreateRcUdtInfoCellPwBuilder = require(\"./CreateRcUdtInfoCellPwBuilder\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * ```yaml\n * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u8\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\nclass CreateRcUdtInfoCellBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n\n    _defineProperty(this, \"builtTransaction\", undefined);\n  }\n\n  async build() {\n    this.builtTransaction = await new _CreateRcUdtInfoCellPwBuilder.CreateRcUdtInfoCellPwBuilder(this.options, this.provider).build();\n    return this.builtTransaction;\n  }\n  /**\n   * the type hash is used as udt id\n   */\n\n\n  getTypeHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.type.toHash();\n  }\n\n  getIssuerLockHash() {\n    if (!this.builtTransaction) throw new Error('Transaction is not built yet');\n    const rcUdtInfoCell = this.builtTransaction.raw.outputs[0];\n    (0, _utils.invariant)(rcUdtInfoCell && rcUdtInfoCell.type);\n    return rcUdtInfoCell.lock.toHash();\n  }\n\n}\n\nexports.CreateRcUdtInfoCellBuilder = CreateRcUdtInfoCellBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CreateRcUdtInfoCellPwBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _dist = require(\"@ckitjs/easy-byte/dist\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _helpers = require(\"../../helpers\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass CreateRcUdtInfoCellPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async build() {\n    const {\n      sudtInfo,\n      rcIdentity\n    } = this.options;\n    const provider = this.provider;\n    const udtInfo = (0, _rcLock.SerializeUdtInfo)({\n      name: _ckbJsToolkit.Reader.fromRawString(sudtInfo.name).toArrayBuffer(),\n      symbol: _ckbJsToolkit.Reader.fromRawString(sudtInfo.symbol).toArrayBuffer(),\n      decimals: sudtInfo.decimals,\n      description: _ckbJsToolkit.Reader.fromRawString(sudtInfo.description).toArrayBuffer()\n    });\n    const rcUdtInfoCellSize = (0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    + 32\n    /*typeid script hash*/\n    , 32, 1\n    /*version*/\n    + 16\n    /*current supply*/\n    + 16\n    /*max supply*/\n    + 32\n    /* sudt script hash*/\n    + udtInfo.byteLength\n    /*udt info molecule table*/\n    );\n    const ownerRcLock = provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, 0));\n    const ownerRcAddress = provider.parseToAddress(ownerRcLock);\n    const senderOutpoints = await provider.collectCkbLiveCells(ownerRcAddress, _helpers.CkbAmount.fromCkb((0, _builderUtils.byteLenOfRcCell)(21\n    /*rc identity*/\n    + 1\n    /*rc flag*/\n    , 0, 0) + // owner live cell\n    rcUdtInfoCellSize + // udt cell\n    1 // tx fee\n    ).toHex());\n    (0, _utils.invariant)(senderOutpoints[0]);\n\n    const typeIdScript = _pw.Pw.toPwScript(provider.generateTypeIdScript({\n      previous_output: senderOutpoints[0].out_point,\n      since: '0x0'\n    }, '0x0'));\n\n    const rcLockScript = _pw.Pw.toPwScript(provider.newScript('RC_LOCK', _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, '08'\n    /*supply flag: 0b100*/\n    , typeIdScript.toHash())));\n\n    const rcInfoCell = new _pwCore.Cell(new _pwCore.Amount(String(rcUdtInfoCellSize), 8), rcLockScript, typeIdScript, undefined, _utils.bytes.concat((0, _dist.formatByteLike)(_rcLock.OmniSupplyOutputData.encode({\n      version: 0,\n      current_supply: _jsbi.default.BigInt(0),\n      max_supply: _jsbi.default.BigInt(sudtInfo.maxSupply),\n      sudt_script_hash: _base.utils.computeScriptHash(provider.newSudtScript(_pw.Pw.fromPwScript(rcLockScript)))\n    })), (0, _dist.formatByteLike)(new Uint8Array(udtInfo))));\n    const senderCells = senderOutpoints.map(_pw.Pw.toPwCell);\n    const senderOutput = senderCells[0];\n    (0, _utils.invariant)(senderOutput);\n    senderOutput.capacity = senderCells.reduce((acc, next) => acc.add(next.capacity), new _pwCore.Amount('0'));\n    const rawTransaction = new _pwCore.RawTransaction(senderCells, [rcInfoCell, senderOutput], await this.getCellDepsByCells(senderCells, [rcInfoCell, senderOutput]));\n    const tx = new _pwCore.Transaction(rawTransaction, [this.getWitnessPlaceholder(provider.parseToAddress(provider.newScript('RC_LOCK')))]);\n    const fee = CreateRcUdtInfoCellPwBuilder.calcFee(tx);\n    senderOutput.capacity = senderOutput.capacity.sub(new _pwCore.Amount(String(rcUdtInfoCellSize), 8)).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.CreateRcUdtInfoCellPwBuilder = CreateRcUdtInfoCellPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtBuilder = void 0;\n\nvar _AbstractTransactionBuilder = require(\"../AbstractTransactionBuilder\");\n\nvar _MintRcUdtPwBuilder = require(\"./MintRcUdtPwBuilder\");\n\n/**\n * Mint sUDT with RC-Supply-Lock, the capacity provider which is a rc-lock with {@link https://github.com/XuJiandong/docs-bank/blob/master/rc_lock.md#identity RcIdentity},\n */\nclass MintRcUdtBuilder extends _AbstractTransactionBuilder.AbstractTransactionBuilder {\n  constructor(options, provider) {\n    super();\n    this.options = options;\n    this.provider = provider;\n  }\n\n  build() {\n    return new _MintRcUdtPwBuilder.MintRcUdtPwBuilder(this.options, this.provider).build();\n  }\n\n}\n\nexports.MintRcUdtBuilder = MintRcUdtBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MintRcUdtPwBuilder = void 0;\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils2 = require(\"../../utils\");\n\nvar _builderUtils = require(\"../builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"../pw/AbstractPwSenderBuilder\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass MintRcUdtPwBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    this.provider = provider;\n  }\n\n  async determineFindOrCreate() {\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // recipients -> [findOrCreate, findAcp + createCell]\n\n    const [findOrCreatePolicies, alreadyDetermined] = (0, _lodash.partition)(this.options.recipients, item => item.capacityPolicy === 'findOrCreate'); // findOrCreate -> {'addr1': [option1, option2], 'addr2': [option3]}\n\n    const groupByRecipient = (0, _lodash.groupBy)(findOrCreatePolicies, item => item.recipient); // {'addr1': [option1, option2], 'addr2': [option1]} -> [ merge(option1, option2), merge(option3) ]\n\n    const mergedFindOrCreatePolicies = (0, _lodash.map)(groupByRecipient, items => items.reduce((left, right) => ({ ...left,\n      amount: new _pwCore.Amount(left.amount, 0).add(new _pwCore.Amount(right.amount, 0)).toHexString(),\n      additionalCapacity: new _pwCore.Amount(left.additionalCapacity || '0', 0).add(new _pwCore.Amount(right.additionalCapacity || '0', 0)).toHexString()\n    })));\n    const recipients = (0, _rxjs.from)(mergedFindOrCreatePolicies).pipe((0, _rxjs.mergeMap)(item => this.provider.collectUdtCells(item.recipient, udtType, '0').then(cells => ({ ...item,\n      capacityPolicy: cells.length > 0 ? 'findAcp' : 'createCell'\n    })), 5), (0, _rxjs.toArray)());\n    const determinedFindOrUpdatePolicies = await (0, _rxjs.lastValueFrom)(recipients);\n    return determinedFindOrUpdatePolicies.concat(alreadyDetermined);\n  }\n\n  async build() {\n    this.options = { ...this.options,\n      recipients: await this.determineFindOrCreate()\n    };\n    const helper = new _rcLock.RcSupplyLockHelper(this.provider.mercury, {\n      rcLock: this.provider.newScriptTemplate('RC_LOCK'),\n      sudtType: this.provider.newScriptTemplate('SUDT')\n    });\n    const resolvedInfoCells = await helper.listCreatedInfoCells(this.options);\n    const rcUdtInfoCell = (0, _utils2.nonNullable)(resolvedInfoCells[0]);\n\n    const {\n      rc_identity_flag,\n      rc_identity_pubkey_hash\n    } = _rcLock.RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(rcUdtInfoCell.output.lock.args));\n\n    const infoCell = _pw.Pw.toPwCell(rcUdtInfoCell);\n\n    const capacityProviderAddress = this.provider.parseToAddress(this.provider.newScript('RC_LOCK', (0, _easyByte.formatByteLike)(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag,\n      rc_identity_pubkey_hash,\n      rc_lock_flag: 0\n      /* owner mode */\n\n    }), {\n      pad0x: true\n    })));\n    const udtType = this.provider.newSudtScript(this.provider.parseToAddress(rcUdtInfoCell.output.lock)); // capacity provided by issuer\n\n    const createdRecipientCells = this.options.recipients.filter(item => item.capacityPolicy === 'createCell').map(item => new _pwCore.Cell(new _pwCore.Amount(String(item.additionalCapacity || 0), 0).add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfSudt)()))), _pw.Pw.toPwScript(this.provider.parseToScript(item.recipient)), // recipient lock\n    _pw.Pw.toPwScript(udtType), // issued sudt type\n    undefined, new _pwCore.Amount(item.amount, 0).toUInt128LE())); // capacity provided by recipient\n\n    const resolvedFindAcpCells = this.options.recipients.filter(item => item.capacityPolicy === 'findAcp');\n    const foundRecipientCells$ = (0, _rxjs.from)(resolvedFindAcpCells).pipe( // collect the udt cell from recipients, throw an error if no udt cell is found\n    (0, _rxjs.mergeMap)(async item => {\n      const resolved = (await this.provider.collectUdtCells(item.recipient, udtType, '0'))[0];\n\n      if (!resolved) {\n        throw new _errors.NoAvailableCellError({\n          lock: this.provider.parseToScript(item.recipient),\n          type: udtType\n        });\n      }\n\n      const cell = _pw.Pw.toPwCell(resolved);\n\n      cell.capacity = cell.capacity.add(new _pwCore.Amount(item.additionalCapacity || '0', 0));\n      cell.setSUDTAmount(cell.getSUDTAmount().add(new _pwCore.Amount(item.amount, 0)));\n      return cell;\n    }, 5), (0, _rxjs.toArray)());\n    const foundRecipientCells = await (0, _rxjs.lastValueFrom)(foundRecipientCells$); // occupied + additional\n\n    const createdRecipientCellsCapacity = createdRecipientCells.reduce((sum, createdCell) => sum.add(createdCell.capacity), _pwCore.Amount.ZERO);\n    const foundRecipientCellsAdditionalCapacity = resolvedFindAcpCells.reduce((sum, foundCell) => sum.add(new _pwCore.Amount(foundCell.additionalCapacity || '0', 0)), _pwCore.Amount.ZERO);\n\n    const neededCapacityFromIssuer = _pwCore.Amount.ZERO // createCell pocily needed capcacity\n    .add(createdRecipientCellsCapacity) // findAcp policy needed additional capacity\n    .add(foundRecipientCellsAdditionalCapacity) // additional rc-lock script occupied ckb to ensure capacity is enough for change cell\n    .add(new _pwCore.Amount(String((0, _builderUtils.byteLenOfLockOnlyCell)(_rcLock.RcIdentityLockArgs.byteWidth)))) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1'));\n\n    const issuerOutpoints = await this.provider.collectCkbLiveCells(capacityProviderAddress, neededCapacityFromIssuer.toHexString());\n    const senderCells = issuerOutpoints.map(_pw.Pw.toPwCell); // sender change cell\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const senderOutput = senderCells[0].clone();\n    senderOutput.capacity = senderCells.reduce((sum, inputCell) => sum.add(inputCell.capacity), _pwCore.Amount.ZERO); // modify current_supply\n\n    const mintedSudtAmount = this.options.recipients.reduce((acc, recipient) => _jsbi.default.add(acc, _jsbi.default.BigInt(recipient.amount)), _jsbi.default.BigInt(0));\n    const dataBuf = (0, _easyByte.toBuffer)(infoCell.getHexData());\n\n    const decoded = _rcLock.OmniSupplyOutputData.decode(dataBuf);\n\n    const encoded = _rcLock.OmniSupplyOutputData.encode({ ...decoded,\n      current_supply: _jsbi.default.add(decoded.current_supply, mintedSudtAmount)\n    });\n\n    dataBuf.write(encoded.toString('hex'), 'hex');\n    infoCell.setHexData(_utils.bytes.toHex(dataBuf));\n    const inputCells = [infoCell, ...senderCells, ...foundRecipientCells];\n    const rawTx = new _pwCore.RawTransaction(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells], await this.getCellDepsByCells(inputCells, [infoCell, senderOutput, ...createdRecipientCells, ...foundRecipientCells]));\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(capacityProviderAddress), // info lock\n    this.getWitnessPlaceholder(capacityProviderAddress) // capacity provider lock\n    ]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    senderOutput.capacity = senderOutput.capacity.sub(fee).sub(createdRecipientCellsCapacity).sub(foundRecipientCellsAdditionalCapacity);\n    return tx;\n  }\n\n}\n\nexports.MintRcUdtPwBuilder = MintRcUdtPwBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeDepositBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\n/**\n * ```yaml\n * Lock:\n *  code_hash: <cheque_cell_lock_script>\n *  hash_type: type\n *  args:  <receiver_lock_hash[:20]> | <sender_lock_hash[:20]>\n * ```\n */\nclass ChequeDepositBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n    const {\n      receiver,\n      sender,\n      skipCheck\n    } = options;\n    if (skipCheck === true) return;\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', receiver), 'receiver must be a SECP256K1_BLAKE160 script');\n    (0, _utils.asserts)(provider.isTemplateOf('SECP256K1_BLAKE160', sender) || provider.isTemplateOf('RC_LOCK', sender), 'sender must be a SECP256K1_BLAKE160 script or a RC_LOCK script');\n  }\n\n  async build() {\n    const {\n      amount,\n      receiver,\n      sender,\n      sudt\n    } = this.options;\n    const receiverLock = this.provider.parseToScript(receiver);\n    const senderLock = this.provider.parseToScript(sender);\n\n    const receiverLockHash = _base.utils.computeScriptHash(receiverLock).slice(2, 42);\n\n    const senderLockHash = _base.utils.computeScriptHash(senderLock).slice(2, 42);\n\n    const chequeLock = this.provider.newScript('CHEQUE', `0x${receiverLockHash}${senderLockHash}`);\n    const chequeOccupied = (0, _builderUtils.occupiedShannon)((0, _builderUtils.byteLenOfChequeCell)());\n\n    const chequeCell = _pw.Pw.toPwCell({\n      data: (0, _pwCore.toBigUInt128LE)(amount),\n      cell_output: {\n        capacity: chequeOccupied,\n        lock: chequeLock,\n        type: sudt\n      }\n    });\n\n    const changeNeededCapacity = new _pwCore.Amount(chequeOccupied, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')) // capacity for change cell\n    .add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()));\n    const collectedSudtCells = (await this.provider.collectUdtCells(this.options.sender, sudt, amount)).map(_pw.Pw.toPwCell);\n    const collectedSudtCapacityAndAmount = collectedSudtCells.reduce((acc, cell) => {\n      return {\n        ckb: acc.ckb.add(cell.capacity),\n        sudt: acc.sudt.add(cell.getSUDTAmount())\n      };\n    }, {\n      ckb: _pwCore.Amount.ZERO,\n      sudt: _pwCore.Amount.ZERO\n    });\n    const sudtChangeCell = new _pwCore.Cell(new _pwCore.Amount((0, _builderUtils.byteLenOfSudt)((0, _pwCore.hexDataOccupiedBytes)(senderLock.args)).toString()), _pw.Pw.toPwScript(senderLock), _pw.Pw.toPwScript(sudt), undefined, collectedSudtCapacityAndAmount.sudt.sub(new _pwCore.Amount(amount, 0)).toUInt128LE());\n    const [collectedLockOnlyCells, capacityChangeCell] = await (async () => {\n      const isCollectedSudtEnoughForChangeCell = collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity).gte(changeNeededCapacity);\n\n      if (isCollectedSudtEnoughForChangeCell) {\n        return [[], new _pwCore.Cell(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n      }\n\n      const lockOnlyCells = (await this.provider.collectCkbLiveCells(sender, changeNeededCapacity.toHexString())).map(_pw.Pw.toPwCell);\n      return [lockOnlyCells, new _pwCore.Cell( // capacity(collectedLockOnly) + capacity(sudtChangeRemain)\n      lockOnlyCells.reduce((acc, cell) => acc.add(cell.capacity), _pwCore.Amount.ZERO).add(collectedSudtCapacityAndAmount.ckb.sub(sudtChangeCell.capacity)).sub(chequeCell.capacity), _pw.Pw.toPwScript(senderLock))];\n    })();\n    const inputCells = [...collectedSudtCells, ...collectedLockOnlyCells];\n    const outputCells = [chequeCell, sudtChangeCell, capacityChangeCell];\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction(inputCells, outputCells, await this.getCellDepsByCells(inputCells, outputCells)), [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    capacityChangeCell.capacity = capacityChangeCell.capacity.sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeDepositBuilder = ChequeDepositBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeClaimBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeClaimBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const senderLock = this.provider.parseToScript(sender);\n    const receiverLock = this.provider.parseToScript(receiver);\n    const searchKey = {\n      script: this.provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unclaimedCells = await this.provider.collectCells({\n      searchKey\n    }, // claim up to 1000 cells at a time\n    cells => cells.length <= 1000);\n    const [claimedSudtCell] = (0, _builderUtils.ejectExtraCapacity)({\n      cell: (0, _builderUtils.mergeSudtCells)({\n        cells: unclaimedCells,\n        lock: receiverLock\n      }),\n      lock: receiverLock\n    });\n    const claimedEmptyChequeCell = unclaimedCells.map(cell => ({ ...cell,\n      cell_output: { ...cell.cell_output,\n        type: undefined,\n        lock: senderLock\n      },\n      data: '0x'\n    }));\n    const inputCapacityCells = await this.provider.collectLockOnlyCells(receiverLock, new _pwCore.Amount(claimedSudtCell.cell_output.capacity, 0) // additional 1 ckb for tx fee, not all 1ckb will be paid,\n    // but the real fee will be calculated based on feeRate\n    .add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const tx = new _pwCore.Transaction(new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell], await this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...unclaimedCells.map(_pw.Pw.toPwCell)], [...claimedEmptyChequeCell.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(claimedSudtCell), changeCell])), [this.getWitnessPlaceholder(receiver)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(this.provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(_pw.Pw.toPwCell(claimedSudtCell).capacity).sub(fee);\n    return tx;\n  }\n\n}\n\nexports.ChequeClaimBuilder = ChequeClaimBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChequeWithdrawBuilder = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _helpers2 = require(\"../helpers\");\n\nvar _pw = require(\"../helpers/pw\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _builderUtils = require(\"./builder-utils\");\n\nvar _AbstractPwSenderBuilder = require(\"./pw/AbstractPwSenderBuilder\");\n\nclass ChequeWithdrawBuilder extends _AbstractPwSenderBuilder.AbstractPwSenderBuilder {\n  constructor(options, provider) {\n    super(provider);\n    this.options = options;\n  }\n\n  async build() {\n    const {\n      sender,\n      receiver,\n      sudt\n    } = this.options;\n    const provider = this.provider;\n    const senderLock = provider.parseToScript(sender);\n    const receiverLock = provider.parseToScript(receiver);\n    const searchKey = {\n      script: provider.newScript('CHEQUE', `0x${_base.utils.computeScriptHash(receiverLock).slice(2, 42)}${_base.utils.computeScriptHash(senderLock).slice(2, 42)}`),\n      ...(sudt ? {\n        filter: {\n          script: sudt\n        }\n      } : {}),\n      script_type: 'lock'\n    };\n    const unwithdrawnCells = await provider.collectCells({\n      searchKey\n    }, cells => cells.length <= 1000);\n    const currEpoch = await provider.rpc.get_current_epoch();\n    const validEpoch = Number(currEpoch.number) - 6;\n    const validWithdrawCells = [];\n    const req = [];\n\n    for (const cell of unwithdrawnCells) {\n      req.push({\n        method: 'get_header_by_number',\n        params: cell.block_number\n      });\n    }\n\n    const result = await this.provider.batchRequestCkb(req);\n\n    for (let i = 0; i < result.length; i++) {\n      const epoch = Number('0x' + (0, _utils2.nonNullable)(result[i]).epoch.substring(9));\n      if (epoch < validEpoch) validWithdrawCells.push((0, _utils2.nonNullable)(unwithdrawnCells[i]));\n    }\n\n    if (validWithdrawCells.length === 0) throw new Error('No valid cheque to withdraw');\n    let withdrawnChangeCapacity = (0, _helpers2.BN)(0);\n    let extraNeededCapacity = (0, _helpers2.BN)(0);\n    const withdrawnSudtCells = validWithdrawCells.map(function (cell) {\n      const sudtCell = { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock\n        }\n      };\n\n      const sudtCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(sudtCell));\n\n      withdrawnChangeCapacity = withdrawnChangeCapacity.plus((0, _helpers2.BN)(cell.cell_output.capacity).minus(sudtCapacity));\n      return { ...cell,\n        cell_output: { ...cell.cell_output,\n          lock: senderLock,\n          capacity: sudtCapacity\n        }\n      };\n    });\n    const withdrawnChangeCell = {\n      data: '0x',\n      cell_output: {\n        capacity: '0x0',\n        lock: senderLock,\n        type: undefined\n      }\n    };\n    const minimalCapacity = (0, _helpers.minimalCellCapacity)(withdrawnChangeCell);\n\n    if (withdrawnChangeCapacity.toNumber() < minimalCapacity) {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(minimalCapacity);\n      extraNeededCapacity = extraNeededCapacity.plus((0, _helpers2.BN)(minimalCapacity).minus(withdrawnChangeCapacity));\n    } else {\n      withdrawnChangeCell.cell_output.capacity = _utils.bytes.toHex(withdrawnChangeCapacity);\n    }\n\n    const inputCapacityCells = await provider.collectLockOnlyCells(senderLock, new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0).add(new _pwCore.Amount('1')).add(new _pwCore.Amount((0, _builderUtils.byteLenOfLockOnlyCell)((0, _builderUtils.byteLenOfHexData)(receiverLock.args)).toString())).toHexString());\n\n    const changeCell = _pw.Pw.toPwCell((0, _builderUtils.mergeLockOnlyCells)(inputCapacityCells));\n\n    const inputSince = _base.since.generateSince({\n      relative: true,\n      type: 'epochNumber',\n      value: {\n        number: 6,\n        length: 0,\n        index: 0\n      }\n    });\n\n    const rawTx = new _pwCore.RawTransaction([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell], await this.getCellDepsByCells([...inputCapacityCells.map(_pw.Pw.toPwCell), ...validWithdrawCells.map(_pw.Pw.toPwCell)], [...withdrawnSudtCells.map(_pw.Pw.toPwCell), _pw.Pw.toPwCell(withdrawnChangeCell), changeCell]));\n    rawTx.inputs = rawTx.inputCells.map(function (cell) {\n      const cellInput = (0, _utils2.nonNullable)(cell.toCellInput());\n      const script = {\n        code_hash: cell.lock.codeHash,\n        hash_type: cell.lock.hashType,\n        args: cell.lock.args\n      };\n\n      if (provider.isTemplateOf('CHEQUE', script)) {\n        return new _pwCore.CellInput(cellInput.previousOutput, inputSince);\n      } else {\n        return new _pwCore.CellInput(cellInput.previousOutput, '0x0');\n      }\n    });\n    const tx = new _pwCore.Transaction(rawTx, [this.getWitnessPlaceholder(sender)]);\n\n    const fee = _pwCore.Builder.calcFee(tx, Number(provider.config.MIN_FEE_RATE));\n\n    changeCell.capacity = changeCell.capacity.sub(fee).sub(new _pwCore.Amount(_utils.bytes.toHex(extraNeededCapacity), 0));\n    return tx;\n  }\n\n}\n\nexports.ChequeWithdrawBuilder = ChequeWithdrawBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PwAdapterSigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"../../helpers/pw\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nclass PwAdapterSigner {\n  constructor(rawSigner, provider, hasher = new _pwCore.Blake2bHasher()) {\n    this.rawSigner = rawSigner;\n    this.provider = provider;\n    this.hasher = hasher;\n  }\n\n  async signMessages(messages) {\n    const sigs = [];\n\n    const signerLock = _pw.Pw.toPwScript(this.provider.parseToScript(await this.rawSigner.getAddress()));\n\n    for (const item of messages) {\n      if (item.lock.codeHash !== signerLock.codeHash || item.lock.hashType !== signerLock.hashType) continue;\n      const sig = await this.rawSigner.signMessage(item.message);\n      sigs.push(sig);\n    }\n\n    return sigs;\n  }\n\n  async sign(tx) {\n    const messages = this.toMessages(tx);\n    const witnesses = await this.signMessages(messages);\n\n    for (let i = 0; i < messages.length; i++) {\n      const {\n        index\n      } = messages[i];\n\n      if (index < tx.witnessArgs.length && typeof tx.witnessArgs[index] !== 'string') {\n        witnesses[i] = new _pwCore.Reader((0, _pwCore.SerializeWitnessArgs)(_pwCore.normalizers.NormalizeWitnessArgs({ ...tx.witnessArgs[index],\n          lock: witnesses[i]\n        }))).serializeJson();\n      }\n    }\n\n    tx = FillSignedWitnesses(tx, messages, witnesses);\n    return tx;\n  }\n\n  toMessages(tx) {\n    tx.validate();\n\n    if (tx.raw.inputs.length !== tx.raw.inputCells.length) {\n      throw new Error('Input number does not match!');\n    }\n\n    const txHash = new _pwCore.Blake2bHasher().hash(new _pwCore.Reader((0, _pwCore.SerializeRawTransaction)(_pwCore.normalizers.NormalizeRawTransaction(_pwCore.transformers.TransformRawTransaction(tx.raw)))));\n    const messages = [];\n    const used = tx.raw.inputs.map(_input => false);\n\n    for (let i = 0; i < tx.raw.inputs.length; i++) {\n      if (used[i] || tx.witnesses[i] === '0x') {\n        continue;\n      }\n\n      if (i >= tx.witnesses.length) {\n        throw new Error(`Input ${i} starts a new script group, but witness is missing!`);\n      }\n\n      used[i] = true;\n      this.hasher.update(txHash);\n      const firstWitness = new _pwCore.Reader(tx.witnesses[i]);\n      this.hasher.update(serializeBigInt(firstWitness.length()));\n      this.hasher.update(firstWitness);\n\n      for (let j = i + 1; j < tx.raw.inputs.length && j < tx.witnesses.length; j++) {\n        if (tx.raw.inputCells[i].lock.sameWith(tx.raw.inputCells[j].lock)) {\n          used[j] = true;\n          const currentWitness = new _pwCore.Reader(tx.witnesses[j]);\n          this.hasher.update(serializeBigInt(currentWitness.length()));\n          this.hasher.update(currentWitness);\n        }\n      }\n\n      messages.push({\n        index: i,\n        message: this.hasher.digest().serializeJson(),\n        // hex string\n        lock: tx.raw.inputCells[i].lock\n      });\n      this.hasher.reset();\n    }\n\n    return messages;\n  }\n\n}\n\nexports.PwAdapterSigner = PwAdapterSigner;\n\nfunction FillSignedWitnesses(tx, messages, witnesses) {\n  if (messages.length !== witnesses.length) {\n    throw new Error('Invalid number of witnesses!');\n  }\n\n  for (let i = 0; i < messages.length; i++) {\n    tx.witnesses[messages[i].index] = witnesses[i];\n  }\n\n  return tx;\n}\n\nfunction serializeBigInt(i) {\n  const view = new DataView(new ArrayBuffer(8));\n  view.setUint32(0, i, true);\n  return view.buffer;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Secp256k1Signer = exports.Secp256k1Wallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Wallet extends _base.AbstractWallet {\n  constructor(privateKey, provider, lockConfig) {\n    super();\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    this.setDescriptor({\n      features: ['issue-sudt']\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  async tryConnect() {\n    return new Secp256k1Signer(_classPrivateFieldGet(this, _privateKey), this.provider, this.lockConfig);\n  }\n\n}\n\nexports.Secp256k1Wallet = Secp256k1Wallet;\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass Secp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  static privateKeyToBlake160(privateKey) {\n    return _hd.key.privateKeyToBlake160(privateKey);\n  }\n\n  constructor(privateKey, provider, lockConfig) {\n    super({\n      provider: provider\n    });\n    this.provider = provider;\n    this.lockConfig = lockConfig;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getAddress() {\n    return this.provider.parseToAddress({ ...this.lockConfig,\n      args: Secp256k1Signer.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    });\n  }\n\n  signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(signature);\n  }\n\n}\n\nexports.Secp256k1Signer = Secp256k1Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnipassWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _UnipassAdapter = require(\"./unipass/UnipassAdapter\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass UnipassWallet extends _base.AbstractWallet {\n  constructor(provider, adapterConfig) {\n    super();\n    this.provider = provider;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    this.setDescriptor({\n      name: 'UnipassWallet',\n      description: 'Interacting with CKB via an Email',\n      features: ['acp']\n    });\n    this.adapter = new _UnipassAdapter.UnipassRedirectAdapter(adapterConfig !== null && adapterConfig !== void 0 ? adapterConfig : {});\n  }\n\n  async tryConnect() {\n    const unipassLockArgs = await this.adapter.getLockArgs();\n    const provider = this.provider;\n\n    const getAddress = () => {\n      return Promise.resolve(provider.parseToAddress(provider.newScript('UNIPASS', unipassLockArgs)));\n    };\n\n    const signMessage = message => {\n      return Promise.resolve(this.adapter.sign(message));\n    };\n\n    return new class extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n      getAddress() {\n        return getAddress();\n      }\n\n      signMessage(message) {\n        return signMessage(message);\n      }\n\n      seal(tx) {\n        return super.seal(tx);\n      }\n\n    }({\n      provider: this.provider\n    });\n  }\n\n}\n\nexports.UnipassWallet = UnipassWallet;\n\n_defineProperty(UnipassWallet, \"UnipassRedirectAdapter\", _UnipassAdapter.UnipassRedirectAdapter);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"serialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.serialize;\n  }\n});\nObject.defineProperty(exports, \"deserialize\", {\n  enumerable: true,\n  get: function () {\n    return _pw.deserialize;\n  }\n});\nexports.Pw = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _pw = require(\"./pw.serde\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nfunction fromPwCellDep(x) {\n  return {\n    dep_type: x.depType,\n    out_point: {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    }\n  };\n}\n\nfunction toPwCellDep(x) {\n  return new _pwCore.CellDep(x.dep_type === 'dep_group' ? _pwCore.DepType.depGroup : _pwCore.DepType.code, new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index));\n}\n\nfunction fromPwScript(x) {\n  return {\n    code_hash: x.codeHash,\n    args: x.args,\n    hash_type: x.hashType\n  };\n}\n\nfunction toPwScript(x) {\n  return new _pwCore.Script(x.code_hash, x.args, x.hash_type === 'type' ? _pwCore.HashType.type : _pwCore.HashType.data);\n}\n\nfunction fromPwCell(x) {\n  return {\n    cell_output: {\n      capacity: x.capacity.toHexString(),\n      type: x.type ? fromPwScript(x.type) : undefined,\n      lock: fromPwScript(x.lock)\n    },\n    out_point: x.outPoint ? {\n      tx_hash: x.outPoint.txHash,\n      index: x.outPoint.index\n    } : undefined,\n    data: x.getData()\n  };\n}\n\nfunction isLumosCell(x) {\n  if (typeof x !== 'object' || x == null) return false;\n  return 'cell_output' in x;\n}\n\nfunction toPwCell(x) {\n  if (isLumosCell(x)) {\n    return new _pwCore.Cell(new _pwCore.Amount(x.cell_output.capacity, 0), toPwScript(x.cell_output.lock), x.cell_output.type ? toPwScript(x.cell_output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.data);\n  }\n\n  return new _pwCore.Cell(new _pwCore.Amount(x.output.capacity, 0), toPwScript(x.output.lock), x.output.type ? toPwScript(x.output.type) : undefined, x.out_point ? new _pwCore.OutPoint(x.out_point.tx_hash, x.out_point.index) : undefined, x.output_data);\n}\n\nfunction toPwOutPoint(x) {\n  return new _pwCore.OutPoint(x.tx_hash, x.index);\n}\n/**\n * from: PW => Lumos\n * to: Lumos => PW\n */\n\n\nconst Pw = {\n  fromPwCellDep,\n  toPwCellDep,\n  fromPwCell,\n  toPwCell,\n  toPwScript,\n  fromPwScript,\n  toPwOutPoint\n};\nexports.Pw = Pw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pubkeyToLockArgs = pubkeyToLockArgs;\nexports.getRetFromSearchParams = getRetFromSearchParams;\nexports.redirect = redirect;\nexports.UnipassRedirectAdapter = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _utils = require(\"../../utils\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction isUnipassLoginData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'email' in x && 'pubkey' in x;\n}\n\nfunction isUnipassSigData(x) {\n  if (typeof x !== 'object' || x === null) return false;\n  return 'sig' in x && 'pubkey' in x;\n}\n\nfunction pubkeyToLockArgs(pubkey) {\n  return _base.utils.ckbHash((0, _utils.hexToBytes)(pubkey).buffer).serializeJson().slice(0, 42);\n}\n\nfunction getRetFromSearchParams(check, replace = false) {\n  const searchParams = new URLSearchParams(location.search.slice(1));\n  const json = searchParams.get('unipass_ret');\n  if (!json) return undefined;\n  const res = JSON.parse(json);\n  if (!check(res.data)) return undefined;\n  if (res.code !== 200) throw new Error(res.info || 'Unknown error when connecting to UniPass');\n  searchParams.delete('unipass_ret');\n  const {\n    pathname,\n    host,\n    protocol\n  } = window.location;\n  const qs = searchParams.toString();\n  const newUrl = `${protocol}//${host}${pathname}${qs ? `?${qs}` : ''}`;\n  if (replace) window.history.replaceState({\n    path: newUrl\n  }, '', newUrl);\n  return res.data;\n}\n\nasync function redirect(href) {\n  window.location.href = href; // wait 60s to avoid error before redirect\n\n  return new Promise(resolve => setTimeout(resolve, 60 * 1000));\n}\n\nclass UnipassRedirectAdapter {\n  constructor(options) {\n    var _options$host, _options$loginDataCac;\n\n    _defineProperty(this, \"config\", void 0);\n\n    this.config = {\n      host: (_options$host = options.host) !== null && _options$host !== void 0 ? _options$host : 'https://t.unipass.xyz',\n      loginDataCacheKey: (_options$loginDataCac = options.loginDataCacheKey) !== null && _options$loginDataCac !== void 0 ? _options$loginDataCac : '__unipass__'\n    };\n  }\n  /**\n   * check is logged, if `unipass_ret` is found, it will clear the `unipass_ret` and save the unipass login data to cache\n   */\n\n\n  saveLoginInfo() {\n    this.getLoginDataFromUrl() && this.getLoginDataFromCache();\n  }\n\n  hasLoginInfo() {\n    return !!getRetFromSearchParams(isUnipassLoginData);\n  }\n\n  hasSigData() {\n    return !!getRetFromSearchParams(isUnipassSigData);\n  }\n  /**\n   * get unipass lock_args. If it is not retrieved from the cache or url, it will redirect to the unipass page\n   */\n\n\n  async getLockArgs() {\n    var _ref, _this$getLoginDataFro;\n\n    const loginData = (_ref = (_this$getLoginDataFro = this.getLoginDataFromCache()) !== null && _this$getLoginDataFro !== void 0 ? _this$getLoginDataFro : this.getLoginDataFromUrl()) !== null && _ref !== void 0 ? _ref : await this.redirectToLogin();\n    return pubkeyToLockArgs(loginData.pubkey);\n  }\n\n  sign(message) {\n    var _this$getSignatureFro;\n\n    return Promise.resolve((_this$getSignatureFro = this.getSignatureFromUrl()) !== null && _this$getSignatureFro !== void 0 ? _this$getSignatureFro : this.redirectToSign(message));\n  }\n\n  redirectToLogin() {\n    const loginUrl = this.generateUnipassNewUrl(this.config.host, 'login', {\n      success_url: window.location.href\n    });\n    return redirect(loginUrl);\n  }\n\n  redirectToSign(message) {\n    var _this$getLoginDataFro2;\n\n    const pubkey = (_this$getLoginDataFro2 = this.getLoginDataFromCache()) === null || _this$getLoginDataFro2 === void 0 ? void 0 : _this$getLoginDataFro2.pubkey;\n    if (!pubkey) throw new Error('UniPass should login before sign');\n    const signUrl = this.generateUnipassNewUrl(this.config.host, 'sign', {\n      success_url: window.location.href,\n      pubkey,\n      message\n    });\n    return redirect(signUrl);\n  }\n\n  saveLoginDataToCache(data) {\n    localStorage.setItem(this.config.loginDataCacheKey, JSON.stringify(data));\n  }\n\n  getLoginDataFromCache() {\n    const serialized = localStorage.getItem(this.config.loginDataCacheKey);\n    if (serialized == null) return;\n    return JSON.parse(serialized);\n  }\n\n  getLoginDataFromUrl() {\n    const loginData = getRetFromSearchParams(isUnipassLoginData, true);\n    if (!loginData) return;\n    this.saveLoginDataToCache(loginData);\n    return loginData;\n  }\n\n  getSignatureFromUrl() {\n    const signature = getRetFromSearchParams(isUnipassSigData, true);\n    if (!signature) return; // FIXME comment meaning for the 0x01\n\n    return '0x01' + signature.sig.replace('0x', '');\n  }\n\n  generateUnipassNewUrl(host, action, params) {\n    const urlObj = new URL(`${host}/${action.toLowerCase()}`);\n    Object.entries(params).forEach(([key, val]) => urlObj.searchParams.set(key, val));\n    return urlObj.href;\n  }\n\n}\n\nexports.UnipassRedirectAdapter = UnipassRedirectAdapter;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcAcpPwSigner = exports.RcAcpWallet = exports.RcPwSigner = exports.RcOwnerWallet = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\n/**\n * The RC wallet now only supported Eth identity via MetaMask\n */\nclass RcOwnerWallet extends _base.AbstractWallet {\n  constructor(provider) {\n    super();\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet(Non-ACP)',\n      features: this.describeFeatures()\n    });\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n  getRcSigner(ethProvider) {\n    return new RcPwSigner(this.provider, ethProvider);\n  }\n\n  async tryConnect() {\n    const ethProvider = await (0, _PwWallet.detect)();\n    const rcSigner = this.getRcSigner(ethProvider); // request to connect to MetaMask if never been connected\n\n    if (!ethProvider.selectedAddress) {\n      await ethProvider.request({\n        method: 'eth_requestAccounts'\n      });\n    }\n\n    ethProvider.addListener('accountsChanged', signer => {\n      if (signer && signer.length > 0) {\n        super.emitChangedSigner(rcSigner);\n        return;\n      }\n\n      super.emitConnectStatusChanged('disconnected');\n    });\n    return rcSigner;\n  }\n\n}\n\nexports.RcOwnerWallet = RcOwnerWallet;\n\nclass RcPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(provider, ethProvider) {\n    super({\n      provider\n    });\n    this.provider = provider;\n    this.ethProvider = ethProvider;\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _rcLock.RcIdentityFlag.ETH,\n      pubkeyHash: this.ethProvider.selectedAddress\n    };\n  }\n\n  async personalSign(message) {\n    const from = this.ethProvider.selectedAddress;\n    return this.ethProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n  }\n\n  async signMessage(message) {\n    const signedMessage = await this.personalSign(message);\n    let v = Number.parseInt(signedMessage.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const signature = '0x' + signedMessage.slice(2, -2) + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcPwSigner = RcPwSigner;\n\nclass RcAcpWallet extends RcOwnerWallet {\n  constructor(provider) {\n    super(provider);\n    this.provider = provider;\n    this.setDescriptor({\n      name: 'RcWallet(ACP)',\n      features: this.describeFeatures()\n    });\n  }\n\n  describeFeatures() {\n    return [];\n  }\n\n  getRcSigner(ethProvider) {\n    return new RcAcpPwSigner(this.provider, ethProvider);\n  }\n\n}\n\nexports.RcAcpWallet = RcAcpWallet;\n\nclass RcAcpPwSigner extends RcPwSigner {\n  constructor(provider, ethProvider) {\n    super(provider, ethProvider);\n  }\n\n  getAddress() {\n    const rcOwnerLockArgs = _utils.bytes.toHex(_rcLock.RcIdentityAcpLockArgs.encode({\n      rc_identity_flag: _rcLock.RcIdentityFlag.ETH,\n      rc_identity_pubkey_hash: this.ethProvider.selectedAddress,\n      rc_lock_flag: _rcLock.RcLockFlag.ACP_MASK,\n      rc_lock_acp_minimum_ckb: 0,\n      rc_lock_acp_minimum_udt: 0\n    }));\n\n    return this.provider.parseToAddress(this.provider.newScript('RC_LOCK', rcOwnerLockArgs));\n  }\n\n}\n\nexports.RcAcpPwSigner = RcAcpPwSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nObject.keys(_MercuryProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _MercuryProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MercuryProvider[key];\n    }\n  });\n});\n\nvar _CkitProvider = require(\"./CkitProvider\");\n\nObject.keys(_CkitProvider).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _CkitProvider[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _CkitProvider[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\nexports.asyncSleep = asyncSleep;\nexports.randomHexString = randomHexString;\nexports.nonNullable = nonNullable;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.boom = boom;\nexports.asserts = asserts;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}\n\nfunction asyncSleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n/**\n *\n * @param lengthWithOut0x expected length does not contain the beginning 0x\n * @example\n * ```ts\n * randomHexString(1); // 0xa\n * randomHexString(1); // 0x2\n * randomHexString(2); // 0xf8\n * ```\n */\n\n\nfunction randomHexString(lengthWithOut0x) {\n  return '0x' + [...Array(lengthWithOut0x)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n\nfunction nonNullable(x) {\n  if (x == null) throw new Error('Null check failed');\n  return x;\n}\n\nfunction bytesToHex(bytes) {\n  return `0x${[...bytes].map(b => b.toString(16).padStart(2, '0')).join('')}`;\n}\n\nfunction hexToBytes(hex) {\n  hex = hex.startsWith('0x') ? hex.slice(2) : hex;\n  const match = hex.match(/.{1,2}/g);\n  if (!match) throw new Error(`cannot parse ${hex} into Uint8Array`);\n  return Uint8Array.from(match.map(byte => parseInt(byte, 16)));\n}\n\nfunction boom(message) {\n  throw new Error(message);\n}\n\nfunction asserts(condition, err) {\n  if (condition) return;\n\n  if (typeof err === 'function') {\n    throw err();\n  }\n\n  if (typeof err === 'string') boom(err);\n  if (err instanceof Error) throw err;\n  boom();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultOutPointProvider = exports.BaseCellOutPointProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass BaseCellOutPointProvider {\n  constructor(config, rpcUrl = 'http://127.0.0.1:8114', upgradableScripts = ['RC_LOCK']) {\n    _defineProperty(this, \"config\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    _defineProperty(this, \"rpcUrl\", void 0);\n\n    _defineProperty(this, \"upgradableScripts\", void 0);\n\n    this.config = config;\n    this.rpcUrl = rpcUrl;\n    this.rpc = new _rpc.RPC(rpcUrl);\n    this.upgradableScripts = upgradableScripts;\n  }\n\n  async getTypeIdByOutPoint(outPoint) {\n    var _liveCellTx$transacti;\n\n    const liveCellTx = await this.rpc.get_transaction(outPoint.tx_hash);\n    const type = liveCellTx === null || liveCellTx === void 0 ? void 0 : (_liveCellTx$transacti = liveCellTx.transaction.outputs[Number(outPoint.index)]) === null || _liveCellTx$transacti === void 0 ? void 0 : _liveCellTx$transacti.type;\n    if (type === undefined) throw new Error(`Can't find the typeId in tx ${outPoint.tx_hash}, index ${outPoint.index}`);\n    return type;\n  }\n\n  async checkConfigByKey(configKey) {\n    const scriptConfig = this.config.SCRIPTS[configKey];\n\n    if (!scriptConfig) {\n      throw new Error(`Cannot find the config by key: ${configKey}, maybe configKey is wrong or provider is not initialied`);\n    }\n\n    const checkConfigResult = {\n      shouldReturnOriginalOutput: true,\n      originalOutPoint: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n\n    if (this.upgradableScripts.includes(configKey)) {\n      const depCellStatus = await this.rpc.get_live_cell(checkConfigResult.originalOutPoint, false);\n\n      if (depCellStatus.status !== 'live') {\n        checkConfigResult.shouldReturnOriginalOutput = false;\n      }\n    }\n\n    return checkConfigResult;\n  }\n\n}\n\nexports.BaseCellOutPointProvider = BaseCellOutPointProvider;\n\nclass DefaultOutPointProvider extends BaseCellOutPointProvider {\n  getScriptDep(configKey) {\n    const scriptConfig = this.config.SCRIPTS[configKey];\n    if (!scriptConfig) return undefined;\n    return {\n      tx_hash: scriptConfig.TX_HASH,\n      index: scriptConfig.INDEX\n    };\n  }\n\n}\n\nexports.DefaultOutPointProvider = DefaultOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LatestOutPointProvider = void 0;\n\nvar _ = require(\".\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass LatestOutPointProvider extends _.BaseCellOutPointProvider {\n  constructor(config, rpcUrl = 'http://127.0.0.1:8114', indexerUrl = 'http://127.0.0.1:8116') {\n    super(config, rpcUrl);\n\n    _defineProperty(this, \"mercuryClient\", void 0);\n\n    this.mercuryClient = new _.MercuryClient(indexerUrl);\n  }\n\n  async getScriptDep(configKey) {\n    const {\n      shouldReturnOriginalOutput,\n      originalOutPoint\n    } = await this.checkConfigByKey(configKey);\n    if (shouldReturnOriginalOutput) return originalOutPoint;\n    const type = await this.getTypeIdByOutPoint(originalOutPoint);\n    const {\n      objects: cells\n    } = await this.mercuryClient.get_cells({\n      search_key: {\n        script: type,\n        script_type: 'type'\n      }\n    });\n\n    if (cells[0]) {\n      return cells[0].out_point;\n    }\n\n    return undefined;\n  }\n\n}\n\nexports.LatestOutPointProvider = LatestOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticFutureOutPointProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _ = require(\".\");\n\nclass StaticFutureOutPointProvider extends _.BaseCellOutPointProvider {\n  async getScriptDep(configKey) {\n    const {\n      shouldReturnOriginalOutput,\n      originalOutPoint\n    } = await this.checkConfigByKey(configKey);\n    if (shouldReturnOriginalOutput) return originalOutPoint;\n    const type = await this.getTypeIdByOutPoint(originalOutPoint);\n    const futureScripts = {\n      RC_LOCK: {\n        CODE_HASH: '0xb91e81f5f817e901c4a3bca9e108417dbcc2e34ebf720d24327a1a97a3e22ad8',\n        HASH_TYPE: 'type',\n        TX_HASH: 'FUTURE_RC_LOCK_TX_HASH',\n        INDEX: '0x1',\n        DEP_TYPE: 'code'\n      }\n    };\n    const scriptConfigs = Object.values(futureScripts);\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === _base.utils.computeScriptHash(type) && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === type.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      tx_hash: found.TX_HASH,\n      index: found.INDEX\n    };\n  }\n\n}\n\nexports.StaticFutureOutPointProvider = StaticFutureOutPointProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryCellProvider = void 0;\n\nclass MercuryCellProvider {\n  constructor(mercury) {\n    this.mercury = mercury;\n  }\n\n  collector(queries) {\n    const {\n      lock,\n      type\n    } = queries;\n    let searchKey;\n\n    if (lock !== undefined) {\n      searchKey = {\n        script: lock,\n        script_type: 'lock'\n      };\n\n      if (type != undefined && type !== 'empty') {\n        searchKey.filter = {\n          script: type\n        };\n      }\n    } else {\n      if (type != undefined && type != 'empty') {\n        searchKey = {\n          script: type,\n          script_type: 'type'\n        };\n      } else {\n        throw new Error(`should specify either type or lock in queries, queries now: ${JSON.stringify(queries)}`);\n      }\n    }\n\n    const queryData = queries.data || '0x';\n    const mercury = this.mercury;\n    return {\n      collect() {\n        return {\n          async *[Symbol.asyncIterator]() {\n            const sizeLimit = 100;\n\n            for (;;) {\n              const res = await mercury.get_cells({\n                search_key: searchKey\n              });\n              const liveCells = res.objects;\n\n              for (const cell of liveCells) {\n                if (queryData === 'any' || queryData === cell.output_data) {\n                  yield {\n                    cell_output: cell.output,\n                    data: cell.output_data,\n                    out_point: cell.out_point,\n                    block_number: cell.block_number\n                  };\n                }\n              }\n\n              if (liveCells.length < sizeLimit) {\n                break;\n              }\n            }\n          }\n\n        };\n      }\n\n    };\n  }\n\n}\n\nexports.MercuryCellProvider = MercuryCellProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CkitProvider = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _MercuryProvider = require(\"./mercury/MercuryProvider\");\n\nclass CkitProvider extends _MercuryProvider.MercuryProvider {\n  get config() {\n    return super.config;\n  }\n\n  init(config) {\n    return super.init(config);\n  }\n\n  getScriptConfig(key) {\n    const scriptConfig = super.getScriptConfig(key);\n    if (!scriptConfig) throw new Error(`cannot find the ${key} script config, maybe init failed`);\n    return scriptConfig;\n  }\n\n  newScript(configKey, args = '0x') {\n    const script = super.newScript(configKey, args);\n    if (!script) throw new Error(`cannot find the ${configKey} script config, maybe init failed`);\n    return script;\n  }\n\n  newScriptTemplate(configKey) {\n    const template = this.newScript(configKey);\n    return {\n      code_hash: template.code_hash,\n      hash_type: template.hash_type\n    };\n  }\n\n  newSudtScript(issuer) {\n    const issuerLockHash = typeof issuer === 'string' ? _base.utils.computeScriptHash(this.parseToScript(issuer)) : _base.utils.computeScriptHash(issuer);\n    return this.newScript('SUDT', issuerLockHash);\n  }\n\n  isTemplateOf(key, scriptLice) {\n    const script = typeof scriptLice === 'string' ? this.parseToScript(scriptLice) : scriptLice;\n    const scriptConfig = this.getScriptConfig(key);\n    return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n  }\n\n}\n\nexports.CkitProvider = CkitProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.predefined = void 0;\n\nvar Aggron = _interopRequireWildcard(require(\"./aggron\"));\n\nvar Lina = _interopRequireWildcard(require(\"./lina\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nconst AggronCkitConfig = {\n  PREFIX: 'ckt',\n  SCRIPTS: Aggron.SCRIPTS\n};\nconst LinaCkitConfig = {\n  PREFIX: 'ckb',\n  SCRIPTS: Lina.SCRIPTS\n};\nconst predefined = {\n  Aggron: AggronCkitConfig,\n  Lina: LinaCkitConfig\n};\nexports.predefined = predefined;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.AGGRON4.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.AGGRON4.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.AGGRON4.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x093ba9759e1c4a79dd81b0a50de83ab108ffe4eb983b05637bf1f5c1834f31eb',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x2',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x87366c3678f14ccbd6647386a18e05ae27c97978d4a6952fb5820cc698263835',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x834d1827950545da5cca779903ca8268aecbc7bfadb1d1cc18ba90f3b312cd41',\n    INDEX: '0x3',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x03dd2a5594ed2d79196b396c83534e050ba0ad07fa5c1cd61a7094f9fb60a592',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x124a60cd799e1fbca664196de46b3f7f0ecb7138133dcaea4893c51df5b02be6',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x79f90bb5e892d80dd213439eeab551120eb417678824f282b4ffb5f21bad2e1e',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x9154df4f7336402114d04495175b37390ce86a4906d2d4001cf02c3e6d97f39c',\n    INDEX: '0x0',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0x60d5f39efce409c587cb9ea359cefdead650ca128f0bd9cb3855348f98c70d5b',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x7f96858be0a9d584b4a9ea190e0420835156a6010a5fde15ffcdc9d9c721ccab',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SCRIPTS = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nconst SCRIPTS = {\n  SECP256K1_BLAKE160: _configManager.predefined.LINA.SCRIPTS.SECP256K1_BLAKE160,\n  ANYONE_CAN_PAY: _configManager.predefined.LINA.SCRIPTS.ANYONE_CAN_PAY,\n  SUDT: _configManager.predefined.LINA.SCRIPTS.SUDT,\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n\n  /**\n   * @deprecated the pw-lock would be replace with rc-lock\n   */\n  PW_NON_ANYONE_CAN_PAY: {\n    CODE_HASH: '0x',\n    HASH_TYPE: 'data',\n    TX_HASH: '0x',\n    INDEX: '0x',\n    DEP_TYPE: 'code'\n  },\n  UNIPASS: {\n    INDEX: '0x0',\n    TX_HASH: '0x825e0e2f8c15a4740fb0043116e8aa4e664c2e6a41c79df71ba29c48a7a0ea62',\n    DEP_TYPE: 'code',\n    CODE_HASH: '0x614d40a86e1b29a8f4d8d93b9f3b390bf740803fa19a69f1c95716e029ea09b3',\n    HASH_TYPE: 'type'\n  },\n  RC_LOCK: {\n    CODE_HASH: '0x9f3aeaf2fc439549cbc870c653374943af96a0658bd6b51be8d8983183e6f52f',\n    HASH_TYPE: 'type',\n    TX_HASH: '0xaa8ab7e97ed6a268be5d7e26d63d115fa77230e51ae437fc532988dd0c3ce10a',\n    INDEX: '0x1',\n    DEP_TYPE: 'code'\n  },\n  CHEQUE: {\n    CODE_HASH: '0xe4d4ecc6e5f9a059bf2f7a82cca292083aebc0c421566a52484fe2ec51a9fb0c',\n    HASH_TYPE: 'type',\n    TX_HASH: '0x04632cc459459cf5c9d384b43dee3e36f542a464bdd4127be7d6618ac6f8d268',\n    INDEX: '0x0',\n    DEP_TYPE: 'dep_group'\n  }\n};\nexports.SCRIPTS = SCRIPTS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"debug\", {\n  enumerable: true,\n  get: function () {\n    return _debug.debug;\n  }\n});\nObject.defineProperty(exports, \"createDebugger\", {\n  enumerable: true,\n  get: function () {\n    return _debug.createDebugger;\n  }\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _invariant.invariant;\n  }\n});\nObject.defineProperty(exports, \"unimplemented\", {\n  enumerable: true,\n  get: function () {\n    return _assertion.unimplemented;\n  }\n});\nexports.bytes = void 0;\n\nvar _debug = require(\"./debug\");\n\nvar _invariant = require(\"./invariant\");\n\nvar _assertion = require(\"./assertion\");\n\nvar _bytes = _interopRequireWildcard(require(\"./bytes\"));\n\nexports.bytes = _bytes;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","import { CkitInitOptions, predefined } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useMemo } from 'react';\n\nexport interface LocalConfig {\n  ckitConfig: CkitInitOptions;\n  mecuryRPC: string;\n  ckbRPC: string;\n  nervosExploreTxUrlPrefix: string;\n  nervosExploreAddressUrlPrefix: string;\n  nervosExploreSudtUrlPrefix: string;\n}\n\n// TODO remove random when predefined config is ready\nexport function useConfigStorage(): [LocalConfig, (newValue: LocalConfig) => void, () => void] {\n  const initialConfig = useMemo<LocalConfig>(() => {\n    // TODO check network first\n    const ckitConfig: CkitInitOptions = predefined.Aggron;\n    const mecuryRPC = 'https://testnet.ckb.dev/indexer';\n    const ckbRPC = 'https://testnet.ckb.dev/rpc';\n    const nervosExploreTxUrlPrefix = 'https://explorer.nervos.org/aggron/transaction/';\n    const nervosExploreAddressUrlPrefix = 'https://explorer.nervos.org/aggron/address/';\n    const nervosExploreSudtUrlPrefix = 'https://explorer.nervos.org/aggron/sudt/';\n    return {\n      ckitConfig: ckitConfig,\n      mecuryRPC: mecuryRPC,\n      ckbRPC: ckbRPC,\n      nervosExploreTxUrlPrefix: nervosExploreTxUrlPrefix,\n      nervosExploreAddressUrlPrefix: nervosExploreAddressUrlPrefix,\n      nervosExploreSudtUrlPrefix: nervosExploreSudtUrlPrefix,\n    };\n  }, []);\n\n  return useLocalStorage<LocalConfig>('localConfig', initialConfig);\n}\n","import { CkitProvider } from '@ckitjs/ckit';\nimport { useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { useConfigStorage } from 'hooks/useConfigStorage';\n\nexport const CkitProviderContainer = createContainer<CkitProvider | undefined>(() => {\n  const [ckitProvider, setCkitProvider] = useState<CkitProvider>();\n  const [localConfig] = useConfigStorage();\n  useEffect(() => {\n    const provider = new CkitProvider(localConfig.mecuryRPC, localConfig.ckbRPC);\n    void provider.init({ ...localConfig.ckitConfig }).then(() => setCkitProvider(provider));\n  }, [localConfig]);\n\n  return ckitProvider;\n});\n\nexport function useProvider(): CkitProvider {\n  const provider = CkitProviderContainer.useContainer();\n\n  if (!provider) throw new Error('Cannot find provider, make suer useProvider in CkitProviderContainer');\n\n  return provider;\n}\n","import { CkitProvider, NonAcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableNonAcpPwLockWallet extends NonAcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, AcpPwLockWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpPwLockWallet extends AcpPwLockWallet {\n  constructor(ckitProvider: CkitProvider) {\n    super(ckitProvider);\n    this.setDescriptor({ name: 'MetaMask(ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { UnipassWallet, CkitProvider } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableUnipassWallet extends UnipassWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'UniPass' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, RcOwnerWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableOmnilockWallet extends RcOwnerWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'MetaMask(Omnilock Non-ACP)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { CkitProvider, RcAcpWallet } from '@ckitjs/ckit';\nimport { makeObservable, observable } from 'mobx';\n\nexport class ObservableAcpOmnilockWallet extends RcAcpWallet {\n  constructor(provider: CkitProvider) {\n    super(provider);\n    this.setDescriptor({ name: 'MetaMask(Omnilock Acp)' });\n    makeObservable(this, {\n      connectStatus: observable,\n      signer: observable,\n    });\n  }\n}\n","import { AbstractWallet, ConnectStatus } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { autorun, runInAction } from 'mobx';\nimport { useLocalObservable } from 'mobx-react-lite';\nimport { useCallback, useEffect, useState } from 'react';\nimport { createContainer } from 'unstated-next';\nimport { CkitProviderContainer } from '../CkitProviderContainer';\nimport {\n  ObservableAcpPwLockWallet,\n  ObservableNonAcpPwLockWallet,\n  ObservableUnipassWallet,\n  ObservableOmnilockWallet,\n  ObservableAcpOmnilockWallet,\n} from 'wallets';\n\nexport interface WalletConnectError {\n  error: Error;\n  index: number;\n}\n\nfunction useWallet() {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const [currentWalletName, setCurrentWalletName] = useLocalStorage<string | null>('currentWalletName');\n\n  // TODO refactor to Wallets class\n  const wallets = useLocalObservable<AbstractWallet[]>(() => []);\n  const [signerAddress, setSignerAddress] = useState<string>();\n  const [error, setError] = useState<WalletConnectError | null>(null);\n  const [visible, setVisible] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  const setModalVisible = useCallback((visible: boolean) => {\n    setVisible(visible);\n    setError(null);\n  }, []);\n\n  useEffect(() => {\n    if (!ckitProvider) return;\n    // when the provider has changed, wallets should be construct with the new provider\n    runInAction(() => {\n      wallets.splice(0);\n      wallets.push(\n        new ObservableUnipassWallet(ckitProvider),\n        new ObservableOmnilockWallet(ckitProvider),\n        new ObservableAcpOmnilockWallet(ckitProvider),\n      );\n      wallets.find((value) => value.descriptor.name === currentWalletName)?.connect();\n    });\n  }, [ckitProvider]);\n\n  useEffect(\n    () =>\n      autorun(() => {\n        if (!wallets) return;\n        wallets.forEach((wallet, index) => {\n          const onConnectStatusChanged = (connectStatus: ConnectStatus) => {\n            if (connectStatus === 'disconnected') {\n              const remainConnectedWallet = wallets.find((w) => w.connectStatus === 'connected');\n              if (!remainConnectedWallet) {\n                setCurrentWalletName(null);\n              } else {\n                setCurrentWalletName(remainConnectedWallet.descriptor.name);\n              }\n            }\n            if (connectStatus === 'connected') {\n              setModalVisible(false);\n              const connectedWallet = wallets.find((w) => w.descriptor.name === wallet.descriptor.name);\n              if (!connectedWallet) {\n                throw new Error('exception: wallet could not be found');\n              } else {\n                setCurrentWalletName(connectedWallet.descriptor.name);\n              }\n            }\n          };\n          wallet.on('connectStatusChanged', onConnectStatusChanged);\n          wallet.on('error', (err) =>\n            setError({\n              error: err as Error,\n              index: index,\n            }),\n          );\n        });\n      }),\n    [setModalVisible, wallets],\n  );\n\n  const currentWallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n\n  useEffect(() => {\n    autorun(() => {\n      setSignerAddress(undefined);\n      const wallet = wallets.find((value) => value.descriptor.name === currentWalletName);\n      void Promise.resolve(wallet?.signer?.getAddress()).then((address) => {\n        setSignerAddress(address);\n        setIsInitialized(true);\n      });\n    });\n  }, [currentWalletName]);\n\n  return {\n    isInitialized,\n    wallets,\n    currentWallet,\n    setCurrentWalletName,\n    signerAddress,\n    error,\n    setError,\n    visible,\n    setModalVisible,\n  };\n}\n\nexport const WalletContainer = createContainer(useWallet);\n\nexport const displayWalletName = (name: string | undefined): string => {\n  return name || 'unknown';\n};\n","import { UnipassWallet } from '@ckitjs/ckit';\nimport { useLocalStorage } from '@rehooks/local-storage';\n\ninterface UnipassContext {\n  shouldLogin: boolean;\n  cacheLogin: () => void;\n  shouldSendTx: boolean;\n  cacheTx: (tx: string | null) => void;\n  clearTx: () => void;\n  cachedTx: string | null;\n}\n\nexport function useUnipass(): UnipassContext {\n  const [cachedTx, cacheTx] = useLocalStorage<string | null>('unipassTx');\n  const adapter = new UnipassWallet.UnipassRedirectAdapter({ host: 'https://unipass.xyz' }); // TODO  use the config\n  return {\n    shouldLogin: adapter.hasLoginInfo(),\n    cacheLogin: () => adapter.saveLoginInfo(),\n    shouldSendTx: adapter.hasSigData(),\n    cacheTx,\n    clearTx: () => cacheTx(null),\n    cachedTx,\n  };\n}\n","import { BigNumber } from 'bignumber.js';\n\nexport class AssetAmount {\n  rawAmount: BigNumber;\n  decimals: number;\n\n  constructor(rawAmount: string | BigNumber, decimals: number) {\n    this.rawAmount = new BigNumber(rawAmount);\n    this.decimals = decimals;\n  }\n\n  static fromRaw(rawAmount: string, decimals: number): AssetAmount {\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  static fromHumanize(humanizeAmount: string, decimals: number): AssetAmount {\n    const rawAmount = new BigNumber(humanizeAmount).times(10 ** decimals);\n    return new AssetAmount(rawAmount, decimals);\n  }\n\n  toRawString(): string {\n    return this.rawAmount.toString();\n  }\n\n  toHexString(): string {\n    return '0x' + this.rawAmount.toString(16);\n  }\n\n  toHumanizeString(): string {\n    const humanizeAmount = this.rawAmount.times(10 ** -this.decimals);\n    const originDecimalPlaces = humanizeAmount.decimalPlaces();\n    const rounded = humanizeAmount.decimalPlaces(originDecimalPlaces, BigNumber.ROUND_FLOOR);\n    return rounded.toFormat().toString();\n  }\n}\n","export * from './AssetAmount';\n\nexport function hasProp<O, K extends string | number | symbol>(obj: O, key: K): obj is Record<K, unknown> & O {\n  return obj != null && typeof obj === 'object' && key in obj;\n}\n\nexport function truncateMiddle(str: string, start: number, end = start): string {\n  if (!start || !end || start <= 0 || end <= 0) throw new Error('start or end is invalid');\n  if (str.length <= start + end) return str;\n  return str.slice(0, start) + '...' + str.slice(-end);\n}\n\nconst HEX_REGEX = /^0[xX][0-9a-fA-F]*$/;\n\nexport function isValidHexString(value: string): boolean {\n  return HEX_REGEX.test(value);\n}\n","import { Hash } from '@ckb-lumos/base';\nimport { AbstractTransactionBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Modal } from 'antd';\nimport React from 'react';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useConfigStorage } from './useConfigStorage';\nimport { useUnipass } from './useUnipass';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { hasProp } from 'utils';\n\ntype SendTransactionOption = Transaction | ((provider: CkitProvider, signer: EntrySigner) => Promise<Transaction>);\n\nexport function useSendTransaction(): UseMutationResult<{ txHash: Hash }, unknown, SendTransactionOption> {\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { currentWallet } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  const { cacheTx, clearTx } = useUnipass();\n\n  return useMutation(\n    async (option: SendTransactionOption) => {\n      if (!currentWallet?.signer) throw new Error('exception: signer undefined');\n      if (!ckitProvider) throw new Error('exception: ckitProvider undefined');\n\n      const tx = typeof option === 'function' ? await option(ckitProvider, currentWallet.signer) : option;\n      if (currentWallet.descriptor.name === 'UniPass') {\n        const serializedTx = AbstractTransactionBuilder.serde.serialize(tx);\n        cacheTx(JSON.stringify(serializedTx));\n      }\n      const txHash = await ckitProvider.sendTransaction(await currentWallet.signer.seal(tx));\n      if (currentWallet.descriptor.name === 'UniPass') {\n        clearTx();\n      }\n      return { txHash: txHash };\n    },\n    {\n      onSuccess({ txHash }) {\n        const href = localConfig.nervosExploreTxUrlPrefix + txHash;\n        Modal.success({\n          title: 'Tx sent',\n          content: (\n            <p>\n              The transaction was sent, check it in&nbsp;\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                explorer\n              </a>\n              <details>\n                <summary>transaction id</summary>\n                {txHash}\n              </details>\n            </p>\n          ),\n        });\n      },\n      onError(error) {\n        const errorMsg: string = hasProp(error, 'message') ? String(error.message) : 'Unknown error';\n        Modal.error({ title: 'Tx failed', content: errorMsg, width: 360 });\n      },\n    },\n  );\n}\n","import { AbstractTransactionBuilder } from '@ckitjs/ckit';\nimport { Transaction } from '@lay2/pw-core';\nimport { Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { WalletContainer } from 'containers';\nimport { useSendTransaction } from 'hooks/useSendTransaction';\nimport { useUnipass } from 'hooks/useUnipass';\n\nexport const OnIncomplete: React.FC = ({ children }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { isInitialized, setCurrentWalletName } = WalletContainer.useContainer();\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n  const { shouldLogin, cacheLogin, shouldSendTx, cachedTx } = useUnipass();\n\n  useEffect(() => {\n    void (async () => {\n      if (shouldLogin) {\n        setCurrentWalletName('UniPass');\n        cacheLogin();\n      }\n\n      if (shouldSendTx) {\n        if (!isInitialized) return;\n        if (!cachedTx) throw new Error('Could not find transaction to send');\n        const txToSend = AbstractTransactionBuilder.serde.deserialize(cachedTx);\n        await sendTransaction(txToSend as Transaction).catch(() => setIsLoaded(true));\n      }\n\n      setIsLoaded(true);\n    })();\n  }, [isInitialized]);\n\n  if (!isLoaded) return <Spin />;\n  return <>{children}</>;\n};\n","import styled from 'styled-components';\n\nexport const StyledCardWrapper = styled.div`\n  width: 360px;\n  padding: 24px;\n  margin-bottom: 48px;\n  border-radius: 16px;\n  background: #fff;\n  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.08);\n`;\n","import { CheckCircleTwoTone } from '@ant-design/icons';\nimport { Button, Space } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nexport const WalletConnectFC: React.FC = () => {\n  const { currentWallet, setModalVisible } = WalletContainer.useContainer();\n\n  if (currentWallet) {\n    return (\n      <Button size=\"small\" onClick={() => setModalVisible(true)}>\n        <Space>\n          {displayWalletName(currentWallet.descriptor.name)}\n          <CheckCircleTwoTone />\n        </Space>\n      </Button>\n    );\n  }\n\n  return (\n    <Button size=\"small\" type=\"primary\" onClick={() => setModalVisible(true)}>\n      Connect\n    </Button>\n  );\n};\n\nexport const WalletConnect = observer(WalletConnectFC);\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { RecipientOptions, helpers, MintSudtBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendIssueTxInput {\n  recipient: Address;\n  amount: HexNumber;\n  operationKind: 'invite' | 'issue';\n  policy?: 'createCell' | 'findAcp';\n}\n\nexport function useSendIssueTx(): UseMutationResult<unknown, unknown, SendIssueTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendIssueTx'], async (input: SendIssueTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      const recipientsParams: RecipientOptions = {\n        capacityPolicy: input.policy,\n        recipient: input.recipient,\n        amount: input.amount,\n      };\n      if (input.operationKind === 'invite') {\n        recipientsParams.capacityPolicy = 'createCell';\n        recipientsParams.additionalCapacity = helpers.CkbAmount.fromCkb(1).toHex();\n        recipientsParams.amount = '0';\n      } else {\n        recipientsParams.capacityPolicy = input.policy || 'findAcp';\n      }\n      const txBuilder = new MintSudtBuilder({ recipients: [recipientsParams] }, provider, await signer.getAddress());\n      return txBuilder.build();\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { CkbTypeScript } from '@ckitjs/base';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { useCallback, useMemo } from 'react';\n\nexport interface AssetMeta {\n  symbol: string;\n  decimal: number;\n  script?: CkbTypeScript;\n}\n\nexport function useAssetMetaStorage(): { assetsMeta: AssetMeta[]; addAssetMeta: (newValue: AssetMeta) => void } {\n  const initialAssetMeta = useMemo<AssetMeta[]>(() => [{ symbol: 'ckb', decimal: 8 }], []);\n  const [assetsMeta, setAssetsMeta] = useLocalStorage<AssetMeta[]>('assetMeta', initialAssetMeta);\n  const addAssetMeta = useCallback(\n    (newValue: AssetMeta) => {\n      setAssetsMeta(assetsMeta.concat(newValue));\n    },\n    [assetsMeta, setAssetsMeta],\n  );\n  return { assetsMeta, addAssetMeta };\n}\n","import { Address, Script } from '@ckb-lumos/base';\nimport { useCallback } from 'react';\nimport { useProvider } from 'containers';\nimport { AssetAmount } from 'utils';\nimport { toBuffer } from '@ckitjs/easy-byte';\nimport { RcLockFlag, RcIdentityLockArgs } from '@ckitjs/rc-lock';\n\ninterface ValidationHelper {\n  validateCkbAddress: (value: Address) => string | undefined;\n  validateInviteAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateIssueAcpAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateTransferAddress: (value: Address, sudtScript: Script) => Promise<string | undefined>;\n  validateAmount: (amount: string, decimal: number) => string | undefined;\n}\n\nexport function useFormValidate(): ValidationHelper {\n  const provider = useProvider();\n\n  const validateCkbAddress = useCallback(\n    (value: Address) => {\n      try {\n        provider.parseToScript(value);\n      } catch (e) {\n        return 'invalid ckb address';\n      }\n    },\n    [provider],\n  );\n\n  // TODO refactor with ScriptManager\n  const isLockscriptACP = useCallback(\n    (script: Script) => {\n      const scripts = provider.config.SCRIPTS;\n      return (\n        script.code_hash === scripts.ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.PW_ANYONE_CAN_PAY.CODE_HASH ||\n        script.code_hash === scripts.UNIPASS.CODE_HASH ||\n        (script.code_hash === scripts.RC_LOCK.CODE_HASH && checkRcLockFlag(script.args, RcLockFlag.ACP_MASK))\n      );\n    },\n    [provider],\n  );\n\n  const checkRcLockFlag = (args: string, flag: RcLockFlag) => {\n    const argsBytes = toBuffer(args);\n\n    return !!(RcIdentityLockArgs.decode(argsBytes).rc_lock_flag & flag);\n  };\n\n  const validateACPAddress = useCallback(\n    (value: Address) => {\n      const error = validateCkbAddress(value);\n      if (error) return error;\n      if (!isLockscriptACP(provider.parseToScript(value))) return 'address not anyone can pay';\n    },\n    [provider, validateCkbAddress, isLockscriptACP],\n  );\n\n  const validateInviteAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length > 0) return 'user already invited';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateIssueAcpAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'please invite first';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateTransferAddress = useCallback(\n    async (value: Address, sudtScript: Script) => {\n      const error = validateACPAddress(value);\n      if (error) return error;\n      const sudtCells = await provider.collectUdtCells(value, sudtScript, '0');\n      if (sudtCells.length === 0) return 'no available acp sudt cell for recipient';\n    },\n    [provider, validateACPAddress],\n  );\n\n  const validateAmount = useCallback((amount: string, decimal: number) => {\n    const assetAmount = AssetAmount.fromHumanize(amount, decimal);\n    if (assetAmount.rawAmount.isNaN()) return 'invalid number';\n    if (assetAmount.rawAmount.lt(1)) return 'at least issue one token';\n  }, []);\n\n  return {\n    validateCkbAddress,\n    validateInviteAddress,\n    validateIssueAcpAddress,\n    validateTransferAddress,\n    validateAmount,\n  };\n}\n","import { Button, Col, Empty, Row, Tooltip, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { WalletContainer } from 'containers/WalletContainer';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\nexport const WalletChange = observer(() => {\n  const { signerAddress, setModalVisible } = WalletContainer.useContainer();\n  const [localConfig] = useConfigStorage();\n  if (!signerAddress) return <Empty />;\n  const truncatedAddress = truncateMiddle(signerAddress, 8);\n  const href = localConfig.nervosExploreAddressUrlPrefix + signerAddress;\n  return (\n    <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n      <Row>\n        <Col span={8} offset={6}>\n          <div style={{ textAlign: 'center' }}>\n            <Tooltip title={<AddressTip copyable>{signerAddress}</AddressTip>}>\n              <a href={href} target=\"_blank\" rel=\"noreferrer\">\n                {truncatedAddress}\n              </a>\n            </Tooltip>\n          </div>\n        </Col>\n        <Col span={8} offset={2}>\n          <div style={{ float: 'right' }}>\n            <Button size=\"small\" onClick={() => setModalVisible(true)}>\n              change\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n});\n\nconst AddressTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { SyncOutlined, CheckCircleTwoTone, UsbOutlined } from '@ant-design/icons';\nimport { AbstractWallet } from '@ckitjs/base';\nimport { List, Modal, Space, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { displayWalletName, WalletContainer } from 'containers/WalletContainer';\n\nconst ModalBorderWrapper = styled.div`\n  .ant-list-item {\n    padding: 4px 0;\n    margin: 4px 0;\n    border-radius: 8px;\n    border: 1px solid rgba(0, 0, 0, 0);\n\n    &:hover {\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      border-radius: 8px;\n      cursor: pointer;\n    }\n  }\n`;\n\nexport const WalletList = observer(() => {\n  const { wallets, setCurrentWalletName, visible, setError, setModalVisible } = WalletContainer.useContainer();\n\n  return (\n    <Modal\n      closable\n      title={'Choose wallets'}\n      width={312}\n      visible={visible}\n      onCancel={() => setModalVisible(false)}\n      footer={null}\n    >\n      <ModalBorderWrapper>\n        <List\n          pagination={false}\n          dataSource={wallets}\n          renderItem={(item, index) => (\n            <List.Item\n              onClick={() => {\n                setError(null);\n                if (item.connectStatus === 'disconnected') {\n                  item.connect();\n                }\n                if (item.connectStatus === 'connected') {\n                  setCurrentWalletName(item.descriptor.name);\n                  setModalVisible(false);\n                }\n              }}\n            >\n              <WalletListItem wallet={item} index={index} />\n            </List.Item>\n          )}\n        />\n      </ModalBorderWrapper>\n    </Modal>\n  );\n});\n\nexport interface WalletListItemProps {\n  wallet: AbstractWallet;\n  index: number;\n}\n\nexport const WalletListItem = observer((props: WalletListItemProps) => {\n  const { wallet, index } = props;\n  const { error } = WalletContainer.useContainer();\n  if (wallet.connectStatus === 'disconnected') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <UsbOutlined />\n        </Space>\n        {error && error.index === index && <Typography.Text type=\"danger\"> {error.error.message}</Typography.Text>}\n      </div>\n    );\n  }\n  if (wallet.connectStatus === 'connecting') {\n    return (\n      <div>\n        <Space>\n          {displayWalletName(wallet.descriptor.name)}\n          <SyncOutlined spin />\n        </Space>\n      </div>\n    );\n  }\n  return (\n    <div>\n      <Space>\n        {displayWalletName(wallet.descriptor.name)}\n        <CheckCircleTwoTone />\n      </Space>\n    </div>\n  );\n});\n","import { Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletList, WalletChange, WalletConnect } from 'components/Wallet';\n\nexport const AccountView: React.FC = () => {\n  return (\n    <StyledCardWrapper>\n      <div style={{ marginBottom: '24px' }}>\n        <Row>\n          <Col span={12}>\n            <Typography.Title level={3}> Account </Typography.Title>\n          </Col>\n          <Col span={12}>\n            <div style={{ float: 'right', paddingTop: '5px' }}>\n              <WalletConnect />\n            </div>\n          </Col>\n        </Row>\n      </div>\n      <WalletList />\n      <WalletChange />\n    </StyledCardWrapper>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport React from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetBalanceProps = Pick<AssetMeta, 'decimal'> & { script: AssetMeta['script'] };\n\nexport const AssetBalance: React.FC<AssetBalanceProps> = (props) => {\n  const { script, decimal } = props;\n  const ckitProvider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!ckitProvider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return ckitProvider.getUdtBalance(signerAddress, script);\n      }\n      return ckitProvider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n  if (query.isError) {\n    return <Typography.Text type=\"danger\">error</Typography.Text>;\n  }\n  if (query.data) {\n    return <Typography.Text>{AssetAmount.fromRaw(query.data, decimal).toHumanizeString()}</Typography.Text>;\n  }\n  return <LoadingOutlined />;\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Button, Col, Input, Modal, Row, Typography, Select } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AssetMeta, useFormValidate, useSendIssueTx, useSendTransferTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype AssetMetaProps = Pick<AssetMeta, 'symbol' | 'decimal'> & { script: AssetMeta['script'] };\n\nexport const SendButton: React.FC<AssetMetaProps> = (props) => {\n  const { script, decimal } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const provider = CkitProviderContainer.useContainer();\n  const { signerAddress } = WalletContainer.useContainer();\n\n  const issuableSudtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    if (!signerAddress) throw new Error('excepiton: signerAddress undefined');\n    return provider.newSudtScript(signerAddress);\n  }, [provider, signerAddress]);\n\n  const isMint =\n    props.script?.code_hash === issuableSudtScript.code_hash &&\n    props.script.hash_type === issuableSudtScript.hash_type &&\n    props.script.args === issuableSudtScript.args;\n\n  const buttonContent = isMint ? 'mint' : 'send';\n\n  const query = useQuery(\n    ['queryBalance', { script: script, address: signerAddress }],\n    () => {\n      if (!provider || !signerAddress) throw new Error('exception: signer should exist');\n      if (script) {\n        return provider.getUdtBalance(signerAddress, script);\n      }\n      return provider.getCkbLiveCellsBalance(signerAddress);\n    },\n    {\n      enabled: !!signerAddress,\n    },\n  );\n\n  const disabled =\n    !isMint &&\n    (query.isLoading || query.isError || !query.data || AssetAmount.fromRaw(query.data, decimal).rawAmount.eq(0));\n\n  return (\n    <div>\n      <Button type=\"link\" disabled={disabled} onClick={() => setVisible(true)}>\n        {buttonContent}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} assetMeta={props} isMint={isMint} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  assetMeta: AssetMetaProps;\n  isMint: boolean;\n}\n\ninterface ModalFormValues {\n  policy: 'findAcp' | 'createCell';\n  recipient: Address;\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  policy?: string;\n  recipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, assetMeta, isMint } = props;\n\n  const { validateCkbAddress, validateIssueAcpAddress, validateTransferAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendTransferTransaction, isLoading: isTransferLoading } = useSendTransferTx();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = { policy: 'findAcp', recipient: '', amount: '' };\n  const title = (isMint ? 'Mint ' : 'Send ') + assetMeta.symbol;\n  const onSubmit = useCallback(\n    (values: ModalFormValues) => {\n      if (isMint) {\n        sendIssueTransaction({\n          policy: values.policy,\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          operationKind: 'issue',\n        }).then(() => setVisible(false));\n      } else {\n        sendTransferTransaction({\n          policy: values.policy,\n          recipient: values.recipient,\n          amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n          script: assetMeta.script,\n        }).then(() => setVisible(false));\n      }\n    },\n    [isMint, sendIssueTransaction, sendTransferTransaction, assetMeta, setVisible],\n  );\n  const loading = isMint ? isIssueLoading : isTransferLoading;\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    const errors: ModalFormErrors = {};\n\n    if (isMint) {\n      // issue sudt\n      if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n\n      if (values.policy === 'findAcp') {\n        const recipientError = await validateIssueAcpAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    } else {\n      if (assetMeta.script && values.policy === 'findAcp') {\n        // transfer sudt & use findAcp\n        const recipientError = await validateTransferAddress(values.recipient, assetMeta.script);\n        if (recipientError) errors.recipient = recipientError;\n      } else {\n        // transfer ckb\n        const recipientError = await validateCkbAddress(values.recipient);\n        if (recipientError) errors.recipient = recipientError;\n      }\n    }\n    if (!values.recipient) errors.recipient = 'recipient required';\n\n    const amountError = validateAmount(values.amount, assetMeta.decimal);\n    if (amountError) errors.amount = amountError;\n    if (!values.amount) errors.amount = 'amount required';\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"policy\">policy:</label>\n          </Col>\n          <Col span={16}>\n            <Select\n              style={{ width: '100%' }}\n              {...formik.getFieldProps('policy')}\n              onChange={(value) => formik.setFieldValue('policy', value)}\n            >\n              <Select.Option key=\"findAcp\" value=\"findAcp\">\n                findAcp\n              </Select.Option>\n              <Select.Option key=\"createCell\" value=\"createCell\">\n                createCell\n              </Select.Option>\n            </Select>\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"recipient\">recipient</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"recipient\" placeholder=\"ckb address\" {...formik.getFieldProps('recipient')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.recipient && formik.errors.recipient && (\n              <Typography.Text type=\"danger\">{formik.errors.recipient}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row justify=\"center\" align=\"middle\">\n          <Col span={7}>\n            <label htmlFor=\"amount\">amount:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.amount && formik.errors.amount && (\n              <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={loading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { AcpTransferSudtBuilder, TransferCkbBuilder, CkitProvider, EntrySigner } from '@ckitjs/ckit';\nimport { useMutation, UseMutationResult } from 'react-query';\nimport { AssetMeta } from './useAssetMetaStorage';\nimport { useSendTransaction } from './useSendTransaction';\n\nexport interface SendTransferTxInput {\n  policy?: 'createCell' | 'findAcp';\n  recipient: Address;\n  amount: HexNumber;\n  script: AssetMeta['script'];\n}\n\nexport function useSendTransferTx(): UseMutationResult<unknown, unknown, SendTransferTxInput> {\n  const { mutateAsync: sendTransaction } = useSendTransaction();\n\n  return useMutation(['sendTransferTx'], async (input: SendTransferTxInput) => {\n    const buildTx = async (provider: CkitProvider, signer: EntrySigner) => {\n      if (input.script) {\n        const txBuilder = new AcpTransferSudtBuilder(\n          {\n            recipients: [\n              {\n                recipient: input.recipient,\n                sudt: input.script,\n                amount: input.amount,\n                policy: input.policy || 'findAcp',\n              },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      } else {\n        const txBuilder = new TransferCkbBuilder(\n          {\n            recipients: [\n              { recipient: input.recipient, amount: input.amount, capacityPolicy: input.policy || 'createCell' },\n            ],\n          },\n          provider,\n          await signer.getAddress(),\n        );\n        return txBuilder.build();\n      }\n    };\n\n    await sendTransaction(buildTx);\n  });\n}\n","import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport React from 'react';\nimport { AssetBalance } from './AssetBalance';\nimport { SendButton } from './SendButton';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\nexport const AssetList: React.FC = () => {\n  const { assetsMeta } = useAssetMetaStorage();\n  const columns: ColumnsType<AssetMeta> = [\n    {\n      render: (value, record) => <div>{record.symbol}</div>,\n    },\n    {\n      render: (value, record) => <AssetBalance decimal={record.decimal} script={record.script} />,\n    },\n    {\n      render: (value, record) => <SendButton symbol={record.symbol} decimal={record.decimal} script={record.script} />,\n    },\n  ];\n\n  return (\n    <div>\n      <Table size=\"small\" showHeader={false} columns={columns} dataSource={assetsMeta} pagination={{ pageSize: 5 }} />\n    </div>\n  );\n};\n","import { Hash, HashType, HexString } from '@ckb-lumos/base';\nimport { Button, ButtonProps, Col, Input, InputNumber, Modal, Radio, Row, Typography } from 'antd';\nimport { useFormik } from 'formik';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\nimport { isValidHexString } from 'utils';\n\ninterface AddAssetButtonProps extends ButtonProps {\n  initialAssetMeta?: Partial<ModalFormValues>;\n  buttonContent?: string;\n}\n\nexport const AddAssetButton: React.FC<AddAssetButtonProps> = (props) => {\n  const { initialAssetMeta, buttonContent, ...buttonProps } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  return (\n    <div>\n      <Button {...buttonProps} onClick={() => setVisible(true)}>\n        {buttonContent ? buttonContent : ''}\n      </Button>\n      <ModalForm visible={visible} setVisible={setVisible} initialAssetMeta={initialAssetMeta} />\n    </div>\n  );\n};\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  initialAssetMeta?: Partial<ModalFormValues>;\n}\n\ninterface ModalFormValues {\n  symbol: string;\n  decimal: number;\n  codeHash: Hash;\n  hashType: HashType;\n  args: HexString;\n}\n\ninterface ModalFormErrors {\n  symbol?: string;\n  decimal?: string;\n  codeHash?: string;\n  hashType?: string;\n  args?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, initialAssetMeta } = props;\n\n  const { addAssetMeta } = useAssetMetaStorage();\n\n  const initialValues: ModalFormValues = {\n    symbol: initialAssetMeta?.symbol ? initialAssetMeta.symbol : '',\n    decimal: initialAssetMeta?.decimal ? initialAssetMeta.decimal : 8,\n    codeHash: initialAssetMeta?.codeHash ? initialAssetMeta.codeHash : '',\n    hashType: initialAssetMeta?.hashType ? initialAssetMeta.hashType : 'type',\n    args: initialAssetMeta?.args ? initialAssetMeta.args : '',\n  };\n\n  const validate = (values: ModalFormValues): ModalFormErrors => {\n    const errors: ModalFormErrors = {};\n    if (!values.symbol) {\n      errors.symbol = 'symbol required';\n    }\n    if (values.decimal <= 0) {\n      errors.decimal = 'decimal should be greater than 0';\n    }\n    if (!values.codeHash) {\n      errors.codeHash = 'code hash required';\n    } else {\n      if (!isValidHexString(values.codeHash)) {\n        errors.codeHash = 'code hash invalid hex string';\n      }\n    }\n    if (!values.args) {\n      errors.args = 'args required';\n    } else {\n      if (!isValidHexString(values.args)) {\n        errors.args = 'args invalid hex string';\n      }\n    }\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues, { setSubmitting }) => {\n      const newAssetMeta: AssetMeta = {\n        symbol: values.symbol,\n        decimal: values.decimal,\n        script: {\n          code_hash: values.codeHash,\n          hash_type: values.hashType,\n          args: values.args,\n        },\n      };\n      addAssetMeta(newAssetMeta);\n      setSubmitting(false);\n      setVisible(false);\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title=\"Add asset\" closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      <div>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"symbol\">symbol:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"symbol\" {...formik.getFieldProps('symbol')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.symbol && formik.errors.symbol && (\n              <Typography.Text type=\"danger\">{formik.errors.symbol}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"decimal\">decimal:</label>\n          </Col>\n          <Col span={16}>\n            <InputNumber\n              id=\"decimal\"\n              onChange={(value) => {\n                void formik.setFieldValue('decimal', value, true);\n              }}\n              onBlur={formik.handleBlur}\n              value={formik.values.decimal}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.decimal && formik.errors.decimal && (\n              <Typography.Text type=\"danger\">{formik.errors.decimal}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"codeHash\">code hash:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"codeHash\" {...formik.getFieldProps('codeHash')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.codeHash && formik.errors.codeHash && (\n              <Typography.Text type=\"danger\">{formik.errors.codeHash}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"hashType\">hash type:</label>\n          </Col>\n          <Col span={16}>\n            <Radio.Group id=\"hashType\" name=\"hashType\" onChange={formik.handleChange} value={formik.values.hashType}>\n              <Radio value=\"type\">type</Radio>\n              <Radio value=\"data\">data</Radio>\n            </Radio.Group>\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.hashType && formik.errors.hashType && (\n              <Typography.Text type=\"danger\">{formik.errors.hashType}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '24px' }}>\n        <Row align=\"middle\">\n          <Col span={8}>\n            <label htmlFor=\"args\">args:</label>\n          </Col>\n          <Col span={16}>\n            <Input id=\"args\" {...formik.getFieldProps('args')} />\n          </Col>\n        </Row>\n        <Row>\n          <Col offset={8}>\n            {formik.touched.args && formik.errors.args && (\n              <Typography.Text type=\"danger\">{formik.errors.args}</Typography.Text>\n            )}\n          </Col>\n        </Row>\n      </div>\n\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        <Button onClick={formik.submitForm}>submit</Button>\n      </div>\n    </Modal>\n  );\n};\n","import { PlusCircleOutlined } from '@ant-design/icons';\nimport { Col, Empty, Row, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { AddAssetButton, AssetList } from 'components/Assets';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const AssetsView: React.FC = observer(() => {\n  const { signerAddress } = WalletContainer.useContainer();\n  return (\n    <div>\n      <StyledCardWrapper>\n        <div style={{ marginBottom: '12px' }}>\n          <Row>\n            <Col span={12}>\n              <Typography.Title level={3}> Asset </Typography.Title>\n            </Col>\n            <Col span={12}>\n              <div style={{ float: 'right' }}>\n                {signerAddress && (\n                  <AddAssetButton type=\"link\" size=\"large\" icon={<PlusCircleOutlined style={{ fontSize: '24px' }} />} />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <div>\n          {signerAddress && <AssetList />}\n          {!signerAddress && <Empty />}\n        </div>\n      </StyledCardWrapper>\n    </div>\n  );\n});\n","import { utils } from '@ckb-lumos/base';\nimport { CkbTypeScript } from '@ckitjs/base';\nimport { Tooltip, Typography, Row, Col } from 'antd';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useConfigStorage } from 'hooks';\nimport { truncateMiddle } from 'utils';\n\ninterface AssetMetaDisplayProps {\n  symbol: string;\n  decimal: string;\n  script: CkbTypeScript;\n}\n\nexport const AssetMetaDisplay: React.FC<AssetMetaDisplayProps> = (props) => {\n  const { symbol, decimal, script } = props;\n  const [localConfig] = useConfigStorage();\n  const scriptHash = utils.computeScriptHash(script);\n\n  return (\n    <div style={{ marginTop: '24px' }}>\n      <Row>\n        <Col span={7} offset={3}>\n          <Typography.Text>symbol:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{symbol}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>decimal:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Typography.Text>{decimal}</Typography.Text>\n        </Col>\n      </Row>\n      <Row style={{ marginTop: '8px' }}>\n        <Col span={7} offset={3}>\n          <Typography.Text>script hash:</Typography.Text>\n        </Col>\n        <Col span={14}>\n          <Tooltip title={<ScriptTip copyable>{JSON.stringify(script)}</ScriptTip>}>\n            <Typography.Link\n              href={localConfig.nervosExploreSudtUrlPrefix + scriptHash}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              {truncateMiddle(scriptHash, 8)}\n            </Typography.Link>\n          </Tooltip>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nconst ScriptTip = styled(Typography.Text)`\n  color: #ffffff;\n`;\n","import { Address, HexNumber } from '@ckb-lumos/base';\nimport { Button, Col, Input, Modal, Row, Typography, Select } from 'antd';\nimport { useFormik } from 'formik';\nimport { observer } from 'mobx-react-lite';\nimport React, { useCallback, useState } from 'react';\nimport { AssetMeta, useFormValidate, useSendIssueTx } from 'hooks';\nimport { AssetAmount } from 'utils';\n\ntype OperationKind = 'invite' | 'issue';\n\ninterface IssueOperationProps {\n  assetMeta: AssetMeta;\n}\n\nexport const IssueOperation = observer((props: IssueOperationProps) => {\n  const { assetMeta } = props;\n  const [visible, setVisible] = useState<boolean>(false);\n  const [operationKind, setOperationKind] = useState<OperationKind>('invite');\n\n  const onClickInvite = () => {\n    setOperationKind('invite');\n    setVisible(true);\n  };\n  const onClickIssue = () => {\n    setOperationKind('issue');\n    setVisible(true);\n  };\n\n  return (\n    <div style={{ marginBottom: '12px' }}>\n      <Row>\n        <Col span={4} offset={4}>\n          <Button onClick={onClickInvite}>invite</Button>\n        </Col>\n        <Col span={4} offset={8}>\n          <Button onClick={onClickIssue}>issue</Button>\n        </Col>\n      </Row>\n      <ModalForm visible={visible} setVisible={setVisible} operationKind={operationKind} assetMeta={assetMeta} />\n    </div>\n  );\n});\n\ninterface ModalFormProps {\n  visible: boolean;\n  setVisible: (visible: boolean) => void;\n  operationKind: OperationKind;\n  assetMeta: AssetMeta;\n}\n\ninterface ModalFormValues {\n  inviteRecipient: Address;\n  issueRecipient: Address;\n  issuePolicy: 'findAcp' | 'createCell';\n  amount: HexNumber;\n}\n\ninterface ModalFormErrors {\n  inviteRecipient?: string;\n  issueRecipient?: string;\n  amount?: string;\n}\n\nexport const ModalForm: React.FC<ModalFormProps> = (props) => {\n  const { visible, setVisible, operationKind, assetMeta } = props;\n\n  const { validateInviteAddress, validateIssueAcpAddress, validateAmount } = useFormValidate();\n  const { mutateAsync: sendIssueTransaction, isLoading: isIssueLoading } = useSendIssueTx();\n\n  const initialValues: ModalFormValues = {\n    inviteRecipient: '',\n    issueRecipient: '',\n    amount: '',\n    issuePolicy: 'findAcp',\n  };\n  const title = operationKind === 'invite' ? 'Invite user' : 'Issue ' + assetMeta.symbol;\n  const recipientFieldDisplayName = operationKind === 'invite' ? 'user:' : 'recipient:';\n\n  const validate = async (values: ModalFormValues): Promise<ModalFormErrors> => {\n    if (!assetMeta.script) throw new Error('exception: issued sudt should have script');\n    const errors: ModalFormErrors = {};\n\n    if (operationKind === 'invite') {\n      if (!values.inviteRecipient) {\n        errors.inviteRecipient = 'recipient required';\n      } else {\n        const error = await validateInviteAddress(values.inviteRecipient, assetMeta.script);\n        if (error) errors.inviteRecipient = error;\n      }\n    }\n\n    if (operationKind === 'issue') {\n      if (!values.issueRecipient) {\n        errors.issueRecipient = 'recipient required';\n      } else if (values.issuePolicy === 'findAcp') {\n        const recipientError = await validateIssueAcpAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      } else {\n        const recipientError = await validateInviteAddress(values.issueRecipient, assetMeta.script);\n        if (recipientError) errors.issueRecipient = recipientError;\n      }\n      if (!values.amount) {\n        errors.amount = 'amount required';\n      } else {\n        const amountError = validateAmount(values.amount, assetMeta.decimal);\n        if (amountError) errors.amount = amountError;\n      }\n    }\n\n    return errors;\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validate,\n    onSubmit: (values: ModalFormValues) => {\n      sendIssueTransaction({\n        recipient: operationKind === 'issue' ? values.issueRecipient : values.inviteRecipient,\n        amount: AssetAmount.fromHumanize(values.amount, assetMeta.decimal).toRawString(),\n        operationKind: operationKind,\n        policy: values.issuePolicy,\n      }).then(() => setVisible(false));\n    },\n  });\n\n  const onCancel = useCallback(() => {\n    formik.resetForm();\n    setVisible(false);\n  }, [formik, setVisible]);\n\n  return (\n    <Modal title={title} closable width={312} visible={visible} onCancel={onCancel} footer={null}>\n      {operationKind === 'invite' && (\n        <div>\n          <Row justify=\"center\" align=\"middle\">\n            <Col span={4}>\n              <label htmlFor=\"inviteRecipient\">{recipientFieldDisplayName}</label>\n            </Col>\n            <Col span={16}>\n              <Input id=\"inviteRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('inviteRecipient')} />\n            </Col>\n          </Row>\n          <Row>\n            <Col offset={6}>\n              {formik.touched.inviteRecipient && formik.errors.inviteRecipient && (\n                <Typography.Text type=\"danger\">{formik.errors.inviteRecipient}</Typography.Text>\n              )}\n            </Col>\n          </Row>\n        </div>\n      )}\n\n      {operationKind === 'issue' && (\n        <div>\n          <div>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issuePolicy\">policy:</label>\n              </Col>\n              <Col span={16}>\n                <Select\n                  style={{ width: '100%' }}\n                  {...formik.getFieldProps('issuePolicy')}\n                  onChange={(value) => formik.setFieldValue('issuePolicy', value)}\n                >\n                  <Select.Option key=\"findAcp\" value=\"findAcp\">\n                    findAcp\n                  </Select.Option>\n                  <Select.Option key=\"createCell\" value=\"createCell\">\n                    createCell\n                  </Select.Option>\n                </Select>\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"issueRecipient\">{recipientFieldDisplayName}</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"issueRecipient\" placeholder=\"ckb address\" {...formik.getFieldProps('issueRecipient')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.issueRecipient && formik.errors.issueRecipient && (\n                  <Typography.Text type=\"danger\">{formik.errors.issueRecipient}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <Row justify=\"center\" align=\"middle\">\n              <Col span={7}>\n                <label htmlFor=\"amount\">amount:</label>\n              </Col>\n              <Col span={16}>\n                <Input id=\"amount\" {...formik.getFieldProps('amount')} />\n              </Col>\n            </Row>\n            <Row>\n              <Col offset={8}>\n                {formik.touched.amount && formik.errors.amount && (\n                  <Typography.Text type=\"danger\">{formik.errors.amount}</Typography.Text>\n                )}\n              </Col>\n            </Row>\n          </div>\n        </div>\n      )}\n\n      <div style={{ marginTop: '30px', textAlign: 'center' }}>\n        <Button loading={isIssueLoading} onClick={formik.submitForm}>\n          submit\n        </Button>\n      </div>\n    </Modal>\n  );\n};\n","import { CkbTypeScript } from '@ckitjs/base';\nimport React, { useMemo } from 'react';\nimport { AddAssetButton } from '../Assets';\nimport { AssetMetaDisplay } from './AssetMetaDisplay';\nimport { IssueOperation } from './IssueOperation';\nimport { CkitProviderContainer } from 'containers';\nimport { AssetMeta, useAssetMetaStorage } from 'hooks';\n\ninterface IssueAreaProps {\n  issuerAddress: string;\n}\n\nexport const IssueArea: React.FC<IssueAreaProps> = (props) => {\n  const { issuerAddress } = props;\n  const provider = CkitProviderContainer.useContainer();\n  const { assetsMeta } = useAssetMetaStorage();\n\n  const udtScript = useMemo<CkbTypeScript>(() => {\n    if (!provider) throw new Error('excepiton: provider undefined');\n    return provider.newSudtScript(issuerAddress);\n  }, [provider, issuerAddress]);\n\n  const assetMeta = useMemo<AssetMeta | undefined>(() => {\n    return assetsMeta.find(\n      (value) =>\n        value.script?.hash_type === udtScript.hash_type &&\n        value.script.code_hash === udtScript.code_hash &&\n        value.script.args === udtScript.args,\n    );\n  }, [udtScript, assetsMeta]);\n\n  const symbol = assetMeta ? assetMeta.symbol : '?';\n  const decimal = assetMeta ? assetMeta.decimal.toString() : '?';\n\n  return (\n    <>\n      <AssetMetaDisplay symbol={symbol} decimal={decimal} script={udtScript} />\n      <div style={{ marginTop: '36px', textAlign: 'center' }}>\n        {!assetMeta && (\n          <AddAssetButton\n            type=\"primary\"\n            buttonContent=\"Add asset info\"\n            initialAssetMeta={{\n              codeHash: udtScript.code_hash,\n              hashType: udtScript.hash_type,\n              args: udtScript.args,\n            }}\n          />\n        )}\n        {assetMeta && <IssueOperation assetMeta={assetMeta} />}\n      </div>\n    </>\n  );\n};\n","import { Empty, Typography } from 'antd';\nimport { observer } from 'mobx-react-lite';\nimport React from 'react';\nimport { IssueArea } from 'components/Issue';\nimport { StyledCardWrapper } from 'components/Styled';\nimport { WalletContainer } from 'containers/WalletContainer';\n\nexport const IssueView: React.FC = observer(() => {\n  const { currentWallet, signerAddress } = WalletContainer.useContainer();\n  const isSupportIssue = currentWallet?.checkSupported('issue-sudt');\n\n  return (\n    <div>\n      {isSupportIssue && (\n        <StyledCardWrapper>\n          <div>\n            <Typography.Title level={3}> Issue </Typography.Title>\n          </div>\n          {!signerAddress && <Empty />}\n          {signerAddress && <IssueArea issuerAddress={signerAddress} />}\n        </StyledCardWrapper>\n      )}\n    </div>\n  );\n});\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AccountView } from './Account';\nimport { AssetsView } from './Assets';\nimport { IssueView } from './Issue';\n\nexport const AppView: React.FC = () => {\n  return (\n    <BodyWrapper>\n      <div className=\"app\">\n        <AccountView />\n        <IssueView />\n        <AssetsView />\n      </div>\n    </BodyWrapper>\n  );\n};\n\nconst BodyWrapper = styled.div`\n  padding-bottom: 32px;\n  min-height: 100vh;\n  background: linear-gradient(111.44deg, #a6ded2 0%, #8c99c2 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n","import React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { OnIncomplete } from 'components/OnLoaded';\nimport { CkitProviderContainer, WalletContainer } from 'containers';\nimport { AppView } from 'views';\nimport './App.less';\n\nconst App: React.FC = () => {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <CkitProviderContainer.Provider>\n        <WalletContainer.Provider>\n          <OnIncomplete>\n            <AppView />\n          </OnIncomplete>\n        </WalletContainer.Provider>\n      </CkitProviderContainer.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    void import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SerializeRcLockWitnessLock: true,\n  SerializeUdtInfo: true,\n  UdtInfo: true\n};\nObject.defineProperty(exports, \"SerializeRcLockWitnessLock\", {\n  enumerable: true,\n  get: function () {\n    return _rcLock.SerializeRcLockWitnessLock;\n  }\n});\nObject.defineProperty(exports, \"SerializeUdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.SerializeUdtInfo;\n  }\n});\nObject.defineProperty(exports, \"UdtInfo\", {\n  enumerable: true,\n  get: function () {\n    return _rc_udt_info.UdtInfo;\n  }\n});\n\nvar _rcLock = require(\"./generated/rc-lock\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RecipientSameWithSenderError = exports.NoEnoughUdtError = exports.NoEnoughCkbError = exports.NoAvailableCellError = exports.CkitError = void 0;\n\nclass CkitError extends Error {\n  constructor(metadata, message) {\n    super(message);\n    this.metadata = metadata;\n  }\n\n}\n\nexports.CkitError = CkitError;\n\nclass NoAvailableCellError extends CkitError {\n  constructor(metadata, message = 'Cannot find available cell') {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoAvailableCellError = NoAvailableCellError;\n\nclass NoEnoughCkbError extends CkitError {\n  constructor(metadata, message = `Ckb is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughCkbError = NoEnoughCkbError;\n\nclass NoEnoughUdtError extends CkitError {\n  constructor(metadata, message = `Udt is not enough, expected minimal amount: ${metadata.expected}, actual: ${metadata.actual}`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.NoEnoughUdtError = NoEnoughUdtError;\n\nclass RecipientSameWithSenderError extends CkitError {\n  constructor(metadata, message = `The recipient and sender cannot be the same one`) {\n    super(metadata, message);\n  }\n\n}\n\nexports.RecipientSameWithSenderError = RecipientSameWithSenderError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.byteLenOfSudt = byteLenOfSudt;\nexports.byteLenOfLockOnlyCell = byteLenOfLockOnlyCell;\nexports.byteLenOfRcCell = byteLenOfRcCell;\nexports.byteLenOfChequeCell = byteLenOfChequeCell;\nexports.occupiedShannon = occupiedShannon;\nexports.byteLenOfHexData = byteLenOfHexData;\nexports.toBigUint128LE = toBigUint128LE;\nexports.readBigUint128LE = readBigUint128LE;\nexports.mergeSudtCells = mergeSudtCells;\nexports.mergeLockOnlyCells = mergeLockOnlyCells;\nexports.ejectExtraCapacity = ejectExtraCapacity;\nexports.pipe = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _helpers2 = require(\"../helpers\");\n\nfunction byteLenOfSudt(lockArgsByteLen = 20) {\n  return 8\n  /* capacity: u64 */\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* output_data */\n  16\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfLockOnlyCell(lockArgsByteLen = 20) {\n  // prettier-ignore\n  return 8\n  /* capacity: u64 */\n  + 32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  ;\n}\n/**\n *  * Data:\n *  - <1 byte version>\n *  - <16 bytes current supply>\n *  - <16 bytes max supply>\n *  - <32 bytes sUDT script hash>\n *  - info: molecule table\n *  - name: bytes\n *  - symbol: bytes\n *  - decimals: u32\n *  - description: bytes\n * Type: <Info Cell type ID>\n * Lock: <RC Lock Script 1>\n *  code_hash: RC Lock\n *  args: <flag: 1> <Eth pubkey hash> <RC lock flags: 8> <Info Cell Type Script Hash>\n * ```\n */\n\n\nfunction byteLenOfRcCell(lockArgsByteLen, typeArgsByteLen, dataLen) {\n  const typeScriptLen = typeArgsByteLen ? 32\n  /* code_hash: U256 */\n  + typeArgsByteLen\n  /* args: U256, issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  : 0; // prettier-ignore\n\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + lockArgsByteLen + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  typeScriptLen +\n  /* output_data */\n  dataLen\n  /* data: u128, amount, little-endian */\n  ;\n}\n\nfunction byteLenOfChequeCell(dataLen = 16\n/* u128 */\n) {\n  return 8\n  /*capacity: u64*/\n  +\n  /* lock script */\n  32\n  /* code_hash: U256 */\n  + 40\n  /* receiver_lock_hash[:20]+sender_lock_hash[:20] */\n  + 1\n  /* hash_type: u8 */\n  +\n  /* type script */\n  32\n  /* code_hash: U256 */\n  + 32\n  /* issuer lock hash */\n  + 1\n  /* hash_type: u8 */\n  + dataLen;\n}\n\nfunction occupiedShannon(byteLen) {\n  return '0x' + (byteLen * 10 ** 8).toString(16);\n}\n\nfunction byteLenOfHexData(data) {\n  return data.startsWith('0x') ? data.slice(2).length / 2 : data.length / 2;\n} // function compose<X1, Y1>(fn1: (x: X1) => Y1): (x: X1) => Y1;\n// function compose<X1, Y1, Y2>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2): (x: X1) => Y2;\n// function compose<X1, Y1, Y2, Y3>(fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3): (x: X1) => Y3;\n// // prettier-ignore\n// function compose<X1, Y1, Y2, Y3, Y4>( fn1: (x: X1) => Y1, fn2: (x: Y1) => Y2, fn3: (x: Y2) => Y3, fn4: (x: Y3) => Y4): (x: X1) => Y4;\n// export function compose() {\n// }\n\n\nconst pipe = (...fn) => {\n  return fn.reduce((fx, fg) => arg => fg(fx(arg)));\n};\n\nexports.pipe = pipe;\npipe(byteLenOfHexData, num => num.toString(16), x => Number(x), x => x.toFixed(3), x => x.toUpperCase());\n\nfunction toBigUint128LE(x) {\n  return _base.utils.toBigUInt128LE(BigInt(x.toString()));\n}\n\nfunction readBigUint128LE(hex) {\n  return (0, _helpers2.BN)(_base.utils.readBigUInt128LE(hex));\n}\n\nfunction mergeSudtCells({\n  cells,\n  lock\n}) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const [capacity, amount] = cells.reduce(([totalCapacity, totalAmount], cell) => {\n    return [totalCapacity.plus(cell.cell_output.capacity), totalAmount.plus(readBigUint128LE(cell.data))];\n  }, [(0, _helpers2.BN)(0)\n  /* capacity */\n  , (0, _helpers2.BN)(0)\n  /* sudt amount */\n  ]);\n  lock = lock || cells[0].cell_output.lock;\n  return { ...cells[0],\n    cell_output: {\n      capacity: _utils.bytes.toHex(capacity),\n      lock,\n      type: cells[0].cell_output.type\n    },\n    data: toBigUint128LE(amount)\n  };\n}\n\nfunction mergeLockOnlyCells(cells) {\n  if (!cells[0]) throw new Error('cells is empty');\n  const totalCapacity = cells.reduce((total, cell) => total.plus(cell.cell_output.capacity), (0, _helpers2.BN)(0));\n  return { ...cells[0],\n    cell_output: { ...cells[0].cell_output,\n      capacity: _utils.bytes.toHex(totalCapacity)\n    }\n  };\n}\n\nfunction ejectExtraCapacity({\n  cell,\n  lock\n}) {\n  const refinedCell = { ...cell,\n    cell_output: { ...cell.cell_output,\n      lock\n    }\n  };\n\n  const refinedCapacity = _utils.bytes.toHex((0, _helpers.minimalCellCapacity)(refinedCell));\n\n  return [{ ...cell,\n    cell_output: { ...cell.cell_output,\n      capacity: refinedCapacity\n    }\n  }, {\n    data: '0x',\n    cell_output: {\n      capacity: _utils.bytes.toHex((0, _helpers2.BN)(cell.cell_output.capacity).minus(refinedCapacity)),\n      lock\n    }\n  }];\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPwSenderBuilder = void 0;\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _lodash = require(\"lodash\");\n\nvar _pw = require(\"../../helpers/pw\");\n\nvar _utils = require(\"../../utils\");\n\nvar _config = require(\"../unipass/config\");\n\nclass AbstractPwSenderBuilder extends _pwCore.Builder {\n  constructor(provider) {\n    super(Number(provider.config.MIN_FEE_RATE));\n    this.provider = provider;\n  }\n\n  async getCellDepByKey(key) {\n    if (key === 'RC_LOCK') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('RC_LOCK')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SUDT') return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('SUDT'))];\n\n    if (key === 'ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'UNIPASS') return (0, _config.getCellDeps)(this.provider.config.PREFIX === 'ckb');\n\n    if (key === 'PW_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('PW_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'PW_NON_ANYONE_CAN_PAY') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('PW_NON_ANYONE_CAN_PAY')), _pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'SECP256K1_BLAKE160') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('SECP256K1_BLAKE160'))];\n    }\n\n    if (key === 'CHEQUE') {\n      return [_pw.Pw.toPwCellDep(await this.provider.getCellDep('CHEQUE'))];\n    }\n\n    return [];\n  }\n\n  async getCellDepByScript(script) {\n    // typeid script has no deps\n    if (script.code_hash === '0x00000000000000000000000000000000000000000000000000545950455f4944') return [];\n\n    const keyToTemplate = () => {\n      const foundEntry = Object.entries(this.provider.config.SCRIPTS).find(([, config]) => {\n        return config.CODE_HASH === script.code_hash && config.HASH_TYPE === script.hash_type;\n      });\n      if (foundEntry) return foundEntry[0];\n      return undefined;\n    };\n\n    const key = keyToTemplate();\n    if (!key) throw new Error(`Unknown script, code_hash: ${script.code_hash}, hash_type: ${script.hash_type}`);\n    return await this.getCellDepByKey(key);\n  }\n\n  async getCellDeps(scripts = []) {\n    const promises = scripts.map(script => this.getCellDepByScript(script));\n    const resolved = await Promise.all(promises);\n    return (0, _lodash.uniqWith)((0, _lodash.flatMap)(resolved), (dep1, dep2) => dep1.sameWith(dep2));\n  }\n\n  async getCellDepsByCells(inputCells, outputCells) {\n    const inputLockAndTypeScripts = inputCells.flatMap(cell => cell.type ? [cell.lock.serializeJson(), cell.type.serializeJson()] : [cell.lock.serializeJson()]);\n    const outputTypeScripts = outputCells.flatMap(cell => cell.type ? [cell.type.serializeJson()] : []);\n    return await this.getCellDeps(inputLockAndTypeScripts.concat(outputTypeScripts));\n  } // TODO refactor to ConfigManager\n\n\n  getWitnessPlaceholder(address) {\n    const isTemplateOf = (key, address) => {\n      const script = this.provider.parseToScript(address);\n      const scriptConfig = this.provider.getScriptConfig(key);\n      return scriptConfig.CODE_HASH === script.code_hash && scriptConfig.HASH_TYPE === script.hash_type;\n    };\n\n    if (isTemplateOf('SECP256K1_BLAKE160', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('PW_NON_ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(132),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('ANYONE_CAN_PAY', address)) {\n      return {\n        lock: '0x' + '0'.repeat(130),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('UNIPASS', address)) {\n      return {\n        lock: '0x' + '0'.repeat(2082),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    if (isTemplateOf('RC_LOCK', address)) {\n      const byteLength = (0, _rcLock.SerializeRcLockWitnessLock)({\n        signature: new _ckbJsToolkit.Reader('0x' + '0'.repeat(130))\n      }).byteLength;\n      return {\n        lock: '0x' + '0'.repeat(byteLength * 2),\n        input_type: '',\n        output_type: ''\n      };\n    }\n\n    (0, _utils.boom)(`Unsupported lock ${address}`);\n  }\n\n}\n\nexports.AbstractPwSenderBuilder = AbstractPwSenderBuilder;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"ScriptManager\", {\n  enumerable: true,\n  get: function () {\n    return _ScriptManager.ScriptManager;\n  }\n});\nObject.defineProperty(exports, \"AbstractProvider\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractProvider.AbstractProvider;\n  }\n});\nObject.defineProperty(exports, \"AbstractWallet\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractWallet.AbstractWallet;\n  }\n});\n\nvar _ScriptManager = require(\"./ScriptManager\");\n\nvar _AbstractProvider = require(\"./AbstractProvider\");\n\nvar _AbstractWallet = require(\"./AbstractWallet\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractTransactionBuilder = void 0;\n\nvar _pw = require(\"../helpers/pw\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// TODO migrate to mercury mode\nclass AbstractTransactionBuilder {\n  serialize(tx) {\n    return AbstractTransactionBuilder.serde.serialize(tx);\n  }\n\n}\n\nexports.AbstractTransactionBuilder = AbstractTransactionBuilder;\n\n_defineProperty(AbstractTransactionBuilder, \"serde\", {\n  serialize(deserialized) {\n    return (0, _pw.serialize)(deserialized);\n  },\n\n  deserialize(serialized) {\n    return (0, _pw.deserialize)(serialized);\n  }\n\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Amount = require(\"./Amount\");\n\nObject.keys(_Amount).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Amount[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _Amount[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractSingleEntrySigner = void 0;\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _PwAdapterSigner = require(\"./pw/PwAdapterSigner\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractSingleEntrySigner {\n  constructor(options) {\n    var _options$hasher;\n\n    _defineProperty(this, \"adapter\", void 0);\n\n    const hasher = (_options$hasher = options.hasher) !== null && _options$hasher !== void 0 ? _options$hasher : new _pwCore.Blake2bHasher();\n    this.adapter = new _PwAdapterSigner.PwAdapterSigner(this, options.provider, hasher);\n  }\n\n  // TODO refactor to sig entry to adapt mercury\n\n  /**\n   *\n   * @param tx the tx is actually PwTransaction, but may change in the future in order to migrate to mercury\n   */\n  async seal(tx) {\n    const signed = await this.adapter.sign(tx);\n    return _pwCore.transformers.TransformTransaction(signed);\n  }\n\n}\n\nexports.AbstractSingleEntrySigner = AbstractSingleEntrySigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require(\"./utils\");\n\nObject.keys(_utils).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _utils[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _utils[key];\n    }\n  });\n});\n\nvar _struct = require(\"./struct\");\n\nObject.keys(_struct).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _struct[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _struct[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detect = detect;\nexports.hashMessage = hashMessage;\nexports.InternalNonAcpPwLockSigner = exports.NonAcpPwLockWallet = exports.AcpPwLockWallet = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _utils = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction detect() {\n  return (0, _detectProvider.default)().then(() => window.ethereum);\n}\n\nclass AbstractPwWallet extends _base.AbstractWallet {\n  constructor(ckitProvider) {\n    super();\n    this.ckitProvider = ckitProvider;\n\n    _defineProperty(this, \"listener\", addresses => {\n      if (!Array.isArray(addresses)) return;\n\n      if (addresses.length === 0) {\n        this.emitConnectStatusChanged('disconnected');\n        return;\n      }\n\n      this.emitChangedSigner(this.produceSigner());\n    });\n\n    this.setDescriptor({\n      features: this.describeFeatures(),\n      description: 'Interacting with CKB via MetaMask',\n      name: 'NonAcpPwLockWallet'\n    });\n  }\n\n  disconnect() {\n    void detect().then(ethProvider => ethProvider.removeEventListener('accountsChanged', this.listener)).then(() => super.disconnect());\n  }\n\n  async tryConnect() {\n    const ethProvider = await detect();\n    ethProvider.addListener('accountsChanged', this.listener);\n    return ethProvider.enable().then(() => this.produceSigner());\n  }\n\n}\n\nclass AbstractPwSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n  }\n\n  async signMessage(message) {\n    const ethereumProvider = await detect();\n    const from = ethereumProvider.selectedAddress;\n    const result = await ethereumProvider.request({\n      method: 'personal_sign',\n      params: [from, message]\n    });\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    return '0x' + _pwCore.Platform.eth.toString(16).padStart(2, '0') + result.slice(2, -2) + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nclass AcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['acp'];\n  }\n\n}\n\nexports.AcpPwLockWallet = AcpPwLockWallet;\n\nclass NonAcpPwLockWallet extends AbstractPwWallet {\n  produceSigner() {\n    return new class extends AbstractPwSigner {\n      async getAddress() {\n        const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n        return this.ckitProvider.parseToAddress({\n          hash_type: config.HASH_TYPE,\n          args: (await detect()).selectedAddress,\n          code_hash: config.CODE_HASH\n        });\n      }\n\n    }(this.ckitProvider);\n  }\n\n  describeFeatures() {\n    return ['issue-sudt'];\n  }\n\n}\n\nexports.NonAcpPwLockWallet = NonAcpPwLockWallet;\n\nfunction hashMessage(message) {\n  // https://github.com/XuJiandong/pw-lock/blob/develop/c/pw_chain_ethereum.h#L43\n  return new _pwCore.Keccak256Hasher().update('\\x19Ethereum Signed Message:\\n32').update((0, _utils.hexToBytes)(message).buffer).digest().serializeJson();\n}\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\nclass InternalNonAcpPwLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils.hexToBytes)(_classPrivateFieldGet(this, _privateKey)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async getAddress() {\n    const config = this.ckitProvider.getScriptConfig('PW_NON_ANYONE_CAN_PAY');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: this.getEthAddress()\n    });\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable(hashMessage(message), _classPrivateFieldGet(this, _privateKey));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n\n    const platform = _pwCore.Platform.eth.toString(16).padStart(2, '0');\n\n    const sig = result.slice(2, -2);\n    return '0x' + platform + sig + v.toString(16).padStart(2, '0');\n  }\n\n}\n\nexports.InternalNonAcpPwLockSigner = InternalNonAcpPwLockSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"BaseCellOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _CellOutPointProvider.BaseCellOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"DefaultOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _CellOutPointProvider.DefaultOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"LatestOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _LatestOutPointProvider.LatestOutPointProvider;\n  }\n});\nObject.defineProperty(exports, \"StaticFutureOutPointProvider\", {\n  enumerable: true,\n  get: function () {\n    return _StaticFutureOutPointProvider.StaticFutureOutPointProvider;\n  }\n});\nexports.MercuryClient = void 0;\n\nvar _clientJs = require(\"@open-rpc/client-js\");\n\nvar _CellOutPointProvider = require(\"./CellOutPointProvider\");\n\nvar _LatestOutPointProvider = require(\"./LatestOutPointProvider\");\n\nvar _StaticFutureOutPointProvider = require(\"./StaticFutureOutPointProvider\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass MercuryClient {\n  constructor(uri) {\n    _defineProperty(this, \"client\", void 0);\n\n    const transport = new _clientJs.HTTPTransport(uri, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    this.client = new _clientJs.Client(new _clientJs.RequestManager([transport]));\n  }\n\n  get_cells(payload) {\n    const {\n      search_key,\n      order = 'asc',\n      limit = '0x3e8'\n      /*1_000*/\n      ,\n      after_cursor\n    } = payload;\n    return this.client.request({\n      method: 'get_cells',\n      params: [search_key, order, limit, after_cursor]\n    });\n  }\n\n  get_tip() {\n    return this.client.request({\n      method: 'get_tip'\n    });\n  }\n\n  get_transactions() {\n    return this.client.request({\n      method: 'get_transactions',\n      params: []\n    });\n  }\n\n}\n\nexports.MercuryClient = MercuryClient;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  helpers: true,\n  errors: true,\n  utils: true,\n  predefined: true\n};\nObject.defineProperty(exports, \"predefined\", {\n  enumerable: true,\n  get: function () {\n    return _predefined.predefined;\n  }\n});\nexports.utils = exports.errors = exports.helpers = void 0;\n\nvar _base = require(\"@ckitjs/base\");\n\nObject.keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _base[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _base[key];\n    }\n  });\n});\n\nvar _wallets = require(\"./wallets\");\n\nObject.keys(_wallets).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _wallets[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _wallets[key];\n    }\n  });\n});\n\nvar _providers = require(\"./providers\");\n\nObject.keys(_providers).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _providers[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _providers[key];\n    }\n  });\n});\n\nvar _txBuilders = require(\"./tx-builders\");\n\nObject.keys(_txBuilders).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _txBuilders[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _txBuilders[key];\n    }\n  });\n});\n\nvar _helpers = _interopRequireWildcard(require(\"./helpers\"));\n\nexports.helpers = _helpers;\n\nvar _errors = _interopRequireWildcard(require(\"./errors\"));\n\nexports.errors = _errors;\n\nvar _utils = _interopRequireWildcard(require(\"./utils\"));\n\nexports.utils = _utils;\n\nvar _predefined = require(\"./predefined\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeUTF8Bytes = SerializeUTF8Bytes;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUdtInfo = SerializeUdtInfo;\nexports.SerializeUdtCellData = SerializeUdtCellData;\nexports.UdtCellData = exports.UdtInfo = exports.Byte32 = exports.Uint128 = exports.UTF8Bytes = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass UTF8Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.UTF8Bytes = UTF8Bytes;\n\nfunction SerializeUTF8Bytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass UdtInfo {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for decimals: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new UTF8Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new UTF8Bytes(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getDecimals() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getName() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSymbol() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getDescription() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UTF8Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtInfo = UdtInfo;\n\nfunction SerializeUdtInfo(value) {\n  const buffers = [];\n  const decimalsView = new DataView(new ArrayBuffer(1));\n  decimalsView.setUint8(0, value.decimals);\n  buffers.push(decimalsView.buffer);\n  buffers.push(SerializeUTF8Bytes(value.name));\n  buffers.push(SerializeUTF8Bytes(value.symbol));\n  buffers.push(SerializeUTF8Bytes(value.description));\n  return serializeTable(buffers);\n}\n\nclass UdtCellData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for version: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new Uint128(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Uint128(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new Byte32(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new UdtInfo(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getCurrentSupply() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMaxSupply() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint128(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getSudtScriptHash() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUdtInfo() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new UdtInfo(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UdtCellData = UdtCellData;\n\nfunction SerializeUdtCellData(value) {\n  const buffers = [];\n  const versionView = new DataView(new ArrayBuffer(1));\n  versionView.setUint8(0, value.version);\n  buffers.push(versionView.buffer);\n  buffers.push(SerializeUint128(value.current_supply));\n  buffers.push(SerializeUint128(value.max_supply));\n  buffers.push(SerializeByte32(value.sudt_script_hash));\n  buffers.push(SerializeUdtInfo(value.udt_info));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startsWith0x = startsWith0x;\nexports.rm0x = rm0x;\nexports.pad0x = pad0x;\nexports.safePadZero = safePadZero;\nexports.prependZeroToEvenLength = prependZeroToEvenLength;\nexports.convertEndian = convertEndian;\nexports.formatByteLike = formatByteLike;\nexports.toUnfixedBuffer = toUnfixedBuffer;\nexports.toFixedBuffer = toFixedBuffer;\nexports.toBuffer = toBuffer;\nexports.pipe = void 0;\n\nvar _buffer = require(\"buffer\");\n\n// TODO replace with safe-buffer\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst pipe = (...fn) => {\n  if (fn.length === 1) return fn[0];\n  return fn.reduce((fn1, fn2) => x => fn2(fn1(x)));\n};\n\nexports.pipe = pipe;\n\nfunction startsWith0x(x) {\n  return typeof x === 'string' && x.startsWith('0x');\n}\n\nfunction rm0x(input) {\n  if (startsWith0x(input)) return input.slice(2);\n  return input;\n}\n\nfunction pad0x(input) {\n  if (startsWith0x(input)) return input;\n  return '0x' + input;\n}\n\nfunction safePadZero(input, le, byteSize) {\n  const isEvenLength = input.length % 2 === 0;\n  const isUnfixed = byteSize === undefined;\n  if (isEvenLength && isUnfixed) return input;\n  const padEvenLength = isEvenLength ? 0 : 1; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  const expectedByteSize = isUnfixed ? (input.length + padEvenLength) / 2 : byteSize; // a byte is composed by 2 hex character\n\n  const expectedByteStringLength = expectedByteSize * 2;\n\n  if (le) {\n    return input.slice(0, expectedByteStringLength).padEnd(expectedByteStringLength, '0');\n  }\n\n  return input.slice(-expectedByteStringLength).padStart(expectedByteStringLength, '0');\n}\n\nfunction prependZeroToEvenLength(input) {\n  if (input.length % 2 === 0) return input;\n  return `0${input}`;\n}\n/**\n * convert between little-endian and big-endian bytes.\n * make sure the input is a bytes string of even length and **NOT** starting with 0x\n * @param input\n */\n\n\nfunction convertEndian(input) {\n  if (!input || input.length < 2) return input;\n  const grouped = prependZeroToEvenLength(input).match(/../g); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  return grouped.reverse().join('');\n}\n\n/**\n * A byte is generally composed of two hex characters, and this function ensures that\n * the length of the output byte string used to represent the byte is an even number\n */\nfunction formatByteLike(input, options = {}) {\n  let byteString;\n  if (typeof input === 'string') byteString = rm0x(input);else byteString = _buffer.Buffer.from(input).toString('hex');\n  byteString = safePadZero(byteString, options.le, options.byteSize);\n  const shouldPad0x = !options.rm0x && (options.pad0x || startsWith0x(input));\n  if (options.convertEndian) byteString = convertEndian(byteString);\n  if (shouldPad0x) byteString = pad0x(byteString);\n  return byteString;\n}\n\nfunction toUnfixedBuffer(input) {\n  if (_buffer.Buffer.isBuffer(input) || input instanceof Uint8Array) return _buffer.Buffer.from(input);\n  return _buffer.Buffer.from(formatByteLike(input, {\n    rm0x: true\n  }), 'hex');\n}\n\nfunction toFixedBuffer(buffer, byteSize) {\n  if (byteSize === 0) return _buffer.Buffer.from([]);\n  const unfixed = toUnfixedBuffer(buffer);\n  const unfixedSize = unfixed.length;\n  if (unfixedSize === 0) return _buffer.Buffer.alloc(byteSize);\n  if (unfixedSize === byteSize) return unfixed;\n  if (unfixedSize > byteSize) return unfixed.slice(unfixedSize - byteSize);\n  return _buffer.Buffer.concat([_buffer.Buffer.alloc(byteSize - unfixedSize), unfixed]);\n}\n\nfunction toBuffer(input, byteSize) {\n  if (byteSize === undefined) return toUnfixedBuffer(input);\n  return toFixedBuffer(input, byteSize);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  AbstractTransactionBuilder: true,\n  SerializedTx: true,\n  DeserializedTx: true\n};\nObject.defineProperty(exports, \"AbstractTransactionBuilder\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.AbstractTransactionBuilder;\n  }\n});\nObject.defineProperty(exports, \"SerializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.SerializedTx;\n  }\n});\nObject.defineProperty(exports, \"DeserializedTx\", {\n  enumerable: true,\n  get: function () {\n    return _AbstractTransactionBuilder.DeserializedTx;\n  }\n});\n\nvar _AbstractTransactionBuilder = require(\"./AbstractTransactionBuilder\");\n\nvar _AcpTransferSudtBuilder = require(\"./AcpTransferSudtBuilder\");\n\nObject.keys(_AcpTransferSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _AcpTransferSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _AcpTransferSudtBuilder[key];\n    }\n  });\n});\n\nvar _TransferCkbBuilder = require(\"./TransferCkbBuilder\");\n\nObject.keys(_TransferCkbBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _TransferCkbBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _TransferCkbBuilder[key];\n    }\n  });\n});\n\nvar _MintSudtBuilder = require(\"./MintSudtBuilder\");\n\nObject.keys(_MintSudtBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _MintSudtBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _MintSudtBuilder[key];\n    }\n  });\n});\n\nvar _rc = require(\"./rc\");\n\nObject.keys(_rc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _rc[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _rc[key];\n    }\n  });\n});\n\nvar _ChequeDepositBuilder = require(\"./ChequeDepositBuilder\");\n\nObject.keys(_ChequeDepositBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeDepositBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeDepositBuilder[key];\n    }\n  });\n});\n\nvar _ChequeClaimBuilder = require(\"./ChequeClaimBuilder\");\n\nObject.keys(_ChequeClaimBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeClaimBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeClaimBuilder[key];\n    }\n  });\n});\n\nvar _ChequeWithdrawBuilder = require(\"./ChequeWithdrawBuilder\");\n\nObject.keys(_ChequeWithdrawBuilder).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _ChequeWithdrawBuilder[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _ChequeWithdrawBuilder[key];\n    }\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MercuryProvider = void 0;\n\nvar _rpc = require(\"@ckb-lumos/rpc\");\n\nvar _base = require(\"@ckitjs/base\");\n\nvar _mercuryClient = require(\"@ckitjs/mercury-client\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _isomorphicFetch = _interopRequireDefault(require(\"isomorphic-fetch\"));\n\nvar _rxjs = require(\"rxjs\");\n\nvar _errors = require(\"../../errors\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _utils = require(\"../../utils\");\n\nvar _IndexerCellProvider = require(\"./IndexerCellProvider\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction toCell(resolved) {\n  return {\n    cell_output: resolved.output,\n    data: resolved.output_data,\n    block_number: resolved.block_number,\n    out_point: resolved.out_point\n  };\n}\n\nclass MercuryProvider extends _base.AbstractProvider {\n  constructor(mercuryRpc = 'http://127.0.0.1:8116', ckbRpc = 'http://127.0.0.1:8114') {\n    super();\n\n    _defineProperty(this, \"depOutPointProvider\", void 0);\n\n    _defineProperty(this, \"mercuryUrl\", void 0);\n\n    _defineProperty(this, \"mercury\", void 0);\n\n    _defineProperty(this, \"rpc\", void 0);\n\n    _defineProperty(this, \"rpcUrl\", void 0);\n\n    this.mercuryUrl = mercuryRpc;\n    this.mercury = new _mercuryClient.MercuryClient(mercuryRpc);\n    this.rpcUrl = ckbRpc;\n    this.rpc = new _rpc.RPC(ckbRpc);\n  }\n\n  async getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) throw new Error('No scriptConfig found');\n\n    if (this.depOutPointProvider) {\n      const newOutPoint = await this.depOutPointProvider.getScriptDep(configKey);\n      if (!newOutPoint) throw new Error('No cell dep found');\n      return {\n        dep_type: scriptConfig.DEP_TYPE,\n        out_point: newOutPoint\n      };\n    }\n\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  init(config) {\n    this.depOutPointProvider = new _mercuryClient.LatestOutPointProvider(config, this.rpcUrl, this.mercuryUrl);\n    return super.init(config);\n  }\n\n  async batchRequestCkb(request) {\n    const batch = [];\n\n    for (let i = 0; i < request.length; i++) {\n      batch.push({\n        id: i,\n        jsonrpc: '2.0',\n        method: (0, _utils.nonNullable)(request[i]).method,\n        params: [(0, _utils.nonNullable)(request[i]).params]\n      });\n    }\n\n    const response = await (0, _isomorphicFetch.default)(this.rpcUrl, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(batch)\n    });\n    const results = await response.json();\n    const res = [];\n\n    for (let i = 0; i < results.length; i++) {\n      const result = results[i];\n      if (result.error) throw new Error(result.error);\n      res.push(result.result);\n    }\n\n    return res;\n  }\n  /**\n   * @deprecated please migrate to {@link collectLockOnlyCells}\n   * @param address\n   * @param minimalCapacity\n   * @returns\n   */\n\n\n  async collectCkbLiveCells(address, minimalCapacity) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), // live cell only\n    (0, _rxjs.scan)((acc, next) => ({\n      cells: acc.cells.concat(next),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)(next.output.capacity))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt((0, _helpers.BN)(minimalCapacity)), true));\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if (acc.amount.lt((0, _helpers.BN)(minimalCapacity))) {\n      throw new _errors.NoEnoughCkbError({\n        lock,\n        expected: minimalCapacity,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  async collectLockOnlyCells(lock, capacity) {\n    const result = await this.collectCkbLiveCells(typeof lock === 'string' ? lock : this.parseToAddress(lock), capacity);\n    return result.map(resolved => ({\n      cell_output: resolved.output,\n      data: resolved.output_data,\n      block_number: resolved.block_number,\n      out_point: resolved.out_point\n    }));\n  }\n\n  collectCells({\n    searchKey\n  }, takeWhile_) {\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects.map(toCell)), (0, _rxjs.scan)((acc, next) => acc.concat(next), []), (0, _rxjs.takeWhile)(acc => takeWhile_(acc)));\n    return (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: []\n    });\n  }\n  /**\n   * Calculate the capacity of all cells with only locks\n   */\n\n\n  async getCkbLiveCellsBalance(address) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      script_type: 'lock',\n      filter: {\n        output_data_len_range: ['0x0', '0x1']\n      } // ckb live cells only\n\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.filter)(cell => cell.output.type == null), (0, _rxjs.reduce)((balance, cell) => balance.plus((0, _helpers.BN)(cell.output.capacity)), (0, _helpers.BN)(0)));\n    const balance = await (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    });\n    return '0x' + balance.toString(16);\n  }\n\n  getTxPoolInfo() {\n    return this.rpc.tx_pool_info();\n  }\n\n  getChainInfo() {\n    return this.rpc.get_blockchain_info();\n  }\n\n  sendTransaction(tx) {\n    return this.rpc.send_transaction(tx, 'passthrough');\n  }\n\n  async collectUdtCells(address, udt, minimalAmount) {\n    const lock = this.parseToScript(address);\n    const searchKey = {\n      script: lock,\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const cells$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.scan)((acc, resolvedCell) => ({\n      cells: acc.cells.concat(resolvedCell),\n      amount: (0, _helpers.BN)(acc.amount).plus((0, _helpers.BN)((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))))\n    }), {\n      amount: (0, _helpers.BN)(0),\n      cells: []\n    }), (0, _rxjs.takeWhile)(acc => (0, _helpers.BN)(acc.amount).lt(minimalAmount), true) // inclusive last to ensure cells are enough\n    );\n    const acc = await (0, _rxjs.lastValueFrom)(cells$, {\n      defaultValue: {\n        amount: (0, _helpers.BN)(0),\n        cells: []\n      }\n    });\n\n    if ((0, _helpers.BN)(acc.amount).lt(minimalAmount)) {\n      throw new _errors.NoEnoughUdtError({\n        lock,\n        expected: minimalAmount,\n        actual: _helpers.Amount.from(acc.amount).toHex()\n      });\n    }\n\n    return acc.cells;\n  }\n\n  getUdtBalance(address, udt) {\n    const searchKey = {\n      script: this.parseToScript(address),\n      filter: {\n        script: udt\n      },\n      script_type: 'lock'\n    };\n    const balance$ = (0, _rxjs.from)(this.mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _rxjs.expand)(res => this.mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _rxjs.takeWhile)(res => res.objects.length > 0), (0, _rxjs.concatMap)(res => res.objects), (0, _rxjs.reduce)((acc, resolvedCell) => (0, _helpers.BN)(acc).plus((0, _pwCore.toBigUInt128LE)(resolvedCell.output_data.slice(0, 34))), (0, _helpers.BN)(0)));\n    return (0, _rxjs.lastValueFrom)(balance$, {\n      defaultValue: (0, _helpers.BN)(0)\n    }).then(x => '0x' + x.toString(16));\n  }\n\n  async waitForTransactionCommitted(txHash, options = {}) {\n    const {\n      pollIntervalMs = 1000,\n      timeoutMs = 120000\n    } = options;\n    const start = Date.now();\n    let result = null;\n\n    while (Date.now() - start <= timeoutMs) {\n      var _tx$tx_status;\n\n      const tx = await this.rpc.get_transaction(txHash);\n\n      if ((tx === null || tx === void 0 ? void 0 : (_tx$tx_status = tx.tx_status) === null || _tx$tx_status === void 0 ? void 0 : _tx$tx_status.status) === 'committed') {\n        result = tx.transaction;\n        break;\n      }\n\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    const rpcTip = Number(await this.rpc.get_tip_block_number());\n\n    while (Date.now() - start <= timeoutMs) {\n      const mercuryTip = await this.mercury.get_tip();\n      if (Number(mercuryTip.block_number) >= rpcTip) break;\n      await (0, _utils.asyncSleep)(pollIntervalMs);\n    }\n\n    return result;\n  }\n\n  asIndexerCellProvider() {\n    return new _IndexerCellProvider.MercuryCellProvider(this.mercury);\n  }\n\n}\n\nexports.MercuryProvider = MercuryProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractProvider = void 0;\n\nvar _configManager = require(\"@ckb-lumos/config-manager\");\n\nvar _helpers = require(\"@ckb-lumos/helpers\");\n\nvar _typeid = require(\"./typeid\");\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractProvider {\n  constructor() {\n    _defineProperty(this, \"initialized\", false);\n\n    _defineProperty(this, \"_config\", void 0);\n  }\n\n  get config() {\n    if (!this._config) throw new Error('Cannot find the config, maybe provider is not initialied');\n    return this._config;\n  }\n\n  getScriptConfig(key) {\n    return this.config.SCRIPTS[key];\n  }\n\n  newScript(configKey, args) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      code_hash: scriptConfig.CODE_HASH,\n      args,\n      hash_type: scriptConfig.HASH_TYPE\n    };\n  }\n\n  newTypeIdScript(args) {\n    return {\n      code_hash: '0x00000000000000000000000000000000000000000000000000545950455f4944',\n      // Buffer.from('TYPE_ID')\n      hash_type: 'type',\n      args\n    };\n  }\n\n  generateTypeIdScript(input, outputIndex) {\n    return (0, _typeid.generateTypeIdScript)(input, outputIndex);\n  }\n\n  async getCellDep(configKey) {\n    const scriptConfig = this.getScriptConfig(configKey);\n    if (!scriptConfig) return undefined;\n    return {\n      dep_type: scriptConfig.DEP_TYPE,\n      out_point: {\n        tx_hash: scriptConfig.TX_HASH,\n        index: scriptConfig.INDEX\n      }\n    };\n  }\n\n  findCellDepByAddress(address) {\n    const script = this.parseToScript(address);\n    const scriptConfigs = Object.values(this.config.SCRIPTS);\n    if (scriptConfigs == null) return undefined;\n    const index = scriptConfigs.findIndex(scriptConfig => (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.CODE_HASH) === script.code_hash && (scriptConfig === null || scriptConfig === void 0 ? void 0 : scriptConfig.HASH_TYPE) === script.hash_type);\n    const found = scriptConfigs[index];\n    if (!found) return undefined;\n    return {\n      dep_type: found.DEP_TYPE,\n      out_point: {\n        tx_hash: found.TX_HASH,\n        index: found.INDEX\n      }\n    };\n  }\n\n  findCellDepByScript(script) {\n    return this.findCellDepByAddress(this.parseToAddress(script));\n  }\n  /**\n   * init the provider\n   * @param config if no config is provided, {@link getChainInfo} will be called to check the network type, and using the predefined config\n   */\n\n\n  async init(config) {\n    if (this.initialized) return;\n\n    if (config) {\n      const MIN_FEE_RATE = config.MIN_FEE_RATE ? config.MIN_FEE_RATE : (await this.getTxPoolInfo()).min_fee_rate;\n      this._config = { ...config,\n        MIN_FEE_RATE\n      };\n    } else {\n      const chainInfo = await this.getChainInfo();\n      const isMainnet = chainInfo.chain === 'ckb';\n      const txPoolInfo = await this.getTxPoolInfo();\n      this._config = isMainnet ? { ..._configManager.predefined.LINA,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      } : { ..._configManager.predefined.AGGRON4,\n        MIN_FEE_RATE: txPoolInfo.min_fee_rate\n      };\n    }\n\n    this.initialized = true;\n  }\n  /**\n   * parse a script to address, defaults to parse to CKB2019 address\n   * @param script\n   * @param options\n   */\n\n\n  parseToAddress(script, options) {\n    if ((options === null || options === void 0 ? void 0 : options.version) === 'CKB2021') return (0, _helpers.encodeToAddress)(script, {\n      config: this.config\n    });\n    return (0, _helpers.generateAddress)(script, {\n      config: this.config\n    });\n  }\n  /**\n   * parse an {@link Address} to script, throws an error when parsing failed\n   * @param address\n   */\n\n\n  parseToScript(address) {\n    return (0, _helpers.parseAddress)(address, {\n      config: this.config\n    });\n  }\n\n}\n\nexports.AbstractProvider = AbstractProvider;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateTypeIdScript = generateTypeIdScript;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nfunction generateTypeIdScript(input, outputIndex) {\n  return _base.utils.generateTypeIdScript(input, outputIndex);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractWallet = void 0;\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass AbstractWallet {\n  // do **NOT** change the value manually\n  // use {@link getConnectStatus} instead of\n  // do **NOT** change the value manually\n  // use {@link getSigner} instead of\n  constructor() {\n    _defineProperty(this, \"descriptor\", {\n      name: 'Unknown Wallet',\n      features: [],\n      description: 'an unknown wallet'\n    });\n\n    _defineProperty(this, \"connectStatus\", 'disconnected');\n\n    _defineProperty(this, \"signer\", void 0);\n\n    _defineProperty(this, \"emitter\", void 0);\n\n    _defineProperty(this, \"on\", (event, listener) => {\n      this.emitter.on(event, listener);\n    });\n\n    this.emitter = new _eventemitter.default();\n  }\n\n  connect() {\n    const isDisconnected = this.connectStatus === 'disconnected';\n    (0, _utils.invariant)(isDisconnected, `[${this.descriptor.name}]: Do not reconnect the wallet`);\n    if (!isDisconnected) return;\n    this.emitConnectStatusChanged('connecting');\n    void this.tryConnect().then(signer => {\n      this.emitConnectStatusChanged('connected');\n      this.emitChangedSigner(signer);\n    }, e => {\n      this.emitError(e);\n      this.emitConnectStatusChanged('disconnected');\n    });\n  }\n\n  disconnect() {\n    this.emitConnectStatusChanged('disconnected');\n    this.emitter.removeAllListeners();\n  }\n\n  checkSupported(feature) {\n    return this.descriptor.features.includes(feature);\n  }\n\n  getConnectStatus() {\n    return this.connectStatus;\n  }\n\n  getSigner() {\n    return this.signer;\n  }\n\n  emitConnectStatusChanged(status) {\n    this.connectStatus = status;\n    this.emitter.emit('connectStatusChanged', status);\n  }\n\n  emitChangedSigner(signer) {\n    this.signer = signer;\n    this.emitter.emit('signerChanged', signer);\n  }\n\n  emitError(error = new Error(`An unknown error occurred in the ${this.descriptor.name}`)) {\n    this.emitter.emit('error', error);\n  }\n\n  setDescriptor(descriptor) {\n    const {\n      name = this.descriptor.name,\n      features = this.descriptor.features,\n      description = this.descriptor.description\n    } = descriptor;\n    this.descriptor = {\n      name,\n      features,\n      description\n    };\n  }\n\n}\n\nexports.AbstractWallet = AbstractWallet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDebugger = createDebugger;\nexports.debug = void 0;\n\nvar _debug = _interopRequireDefault(require(\"debug\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDebugger(namespace) {\n  if (!namespace.startsWith('ckit-')) namespace = 'ckit-' + namespace;\n  return (0, _debug.default)(namespace);\n}\n\nconst debug = (0, _debug.default)('ckit');\nexports.debug = debug;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"invariant\", {\n  enumerable: true,\n  get: function () {\n    return _tinyInvariant.default;\n  }\n});\n\nvar _tinyInvariant = _interopRequireDefault(require(\"tiny-invariant\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unimplemented = unimplemented;\n\nfunction unimplemented() {\n  throw new Error('unimplemented');\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.concat = concat;\nexports.rm0x = rm0x;\nexports.toHex = toHex;\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isNumberLike(x) {\n  if (typeof x === 'number') return true;\n  if (x === null || x === undefined) return false;\n  return typeof (x === null || x === void 0 ? void 0 : x.toString) === 'function';\n}\n/**\n * concat byte-like into a hex string\n *\n * @example\n * concat('00', '01') // 0x0001\n * @param hexes\n */\n\n\nfunction concat(...hexes) {\n  return '0x' + hexes.map(padToEven).join('');\n}\n/**\n * pad a big-endian string to even length\n * @param x\n */\n\n\nfunction padToEven(x) {\n  let result = rm0x(toHex(x));\n  if (result.length % 2 !== 0) result = '0' + x;\n  return result;\n}\n\nfunction rm0x(hexStringLike) {\n  if (hexStringLike.startsWith('0x')) hexStringLike = hexStringLike.slice(2);\n  return hexStringLike;\n}\n\nfunction toHex(x) {\n  if (typeof x === 'number') {\n    if (x < 0 || !Number.isInteger(x)) throw new Error(`Cannot parse ${x} to a hex string`);\n    return '0x' + x.toString(16);\n  }\n\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) return x;\n    return '0x' + x;\n  }\n\n  if (typeof x === 'bigint') {\n    return '0x' + x.toString(16);\n  }\n\n  if (Buffer.isBuffer(x)) {\n    return '0x' + x.toString('hex');\n  }\n\n  if (isNumberLike(x)) {\n    return '0x' + _jsbi.default.BigInt(x).toString(16);\n  }\n\n  throw new Error(`Cannot parse ${x} to a hex string`);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  internal: true,\n  AcpPwLockWallet: true,\n  NonAcpPwLockWallet: true,\n  RcOwnerWallet: true,\n  RcPwSigner: true,\n  RcAcpWallet: true,\n  RcAcpPwSigner: true\n};\nObject.defineProperty(exports, \"AcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.AcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"NonAcpPwLockWallet\", {\n  enumerable: true,\n  get: function () {\n    return _PwWallet.NonAcpPwLockWallet;\n  }\n});\nObject.defineProperty(exports, \"RcOwnerWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcOwnerWallet;\n  }\n});\nObject.defineProperty(exports, \"RcPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcPwSigner;\n  }\n});\nObject.defineProperty(exports, \"RcAcpWallet\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcAcpWallet;\n  }\n});\nObject.defineProperty(exports, \"RcAcpPwSigner\", {\n  enumerable: true,\n  get: function () {\n    return _RcOwnerWallet.RcAcpPwSigner;\n  }\n});\nexports.internal = void 0;\n\nvar _RcInternalSigner = require(\"./RcInternalSigner\");\n\nvar _Secp256k1Wallet = require(\"./Secp256k1Wallet\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nvar _UnipassWallet = require(\"./UnipassWallet\");\n\nObject.keys(_UnipassWallet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _UnipassWallet[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _UnipassWallet[key];\n    }\n  });\n});\n\nvar _RcOwnerWallet = require(\"./RcOwnerWallet\");\n\nconst internal = {\n  RcSecp256k1Signer: _RcInternalSigner.RcSecp256k1Signer,\n  Secp256k1Signer: _Secp256k1Wallet.Secp256k1Signer,\n  RcEthSigner: _RcInternalSigner.RcEthSigner\n};\nexports.internal = internal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RcEthSigner = exports.RCLockSigner = exports.RC_MODE = exports.RcSecp256k1Signer = void 0;\n\nvar _hd = require(\"@ckb-lumos/hd\");\n\nvar _rcLock = require(\"@ckitjs/rc-lock\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _pwCore = require(\"@lay2/pw-core\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _secp256k = require(\"secp256k1\");\n\nvar _txBuilders = require(\"../tx-builders\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _AbstractSingleEntrySigner = require(\"./AbstractSingleEntrySigner\");\n\nvar _PwWallet = require(\"./PwWallet\");\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _privateKey = /*#__PURE__*/new WeakMap();\n\n/**\n * Please do not use this signer directly in a production environment,\n * as it can only be used for testing purposes.\n */\nclass RcSecp256k1Signer extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey))\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: _utils.bytes.concat(this.getRcIdentity().flag, this.getRcIdentity().pubkeyHash, 0)\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcSecp256k1Signer = RcSecp256k1Signer;\nlet RC_MODE;\nexports.RC_MODE = RC_MODE;\n\n(function (RC_MODE) {\n  RC_MODE[\"PUBKEY_HASH\"] = \"00\";\n  RC_MODE[\"ACP\"] = \"02\";\n})(RC_MODE || (exports.RC_MODE = RC_MODE = {}));\n\nvar _privateKey2 = /*#__PURE__*/new WeakMap();\n\nclass RCLockSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey2.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey2, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.CKB,\n      // pubkeyHash: this.getEthAddress(),\n      pubkeyHash: _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2))\n    };\n  }\n\n  async getAddress() {\n    return await this.getAddressByMode(RC_MODE.ACP);\n  }\n\n  async getAddressByMode(mode) {\n    let pubKeykHash = _hd.key.privateKeyToBlake160(_classPrivateFieldGet(this, _privateKey2));\n\n    if (pubKeykHash.startsWith('0x')) {\n      pubKeykHash = pubKeykHash.substring(2);\n    }\n\n    let rc_args = `0x00${pubKeykHash}00`;\n\n    switch (mode) {\n      case RC_MODE.ACP:\n        rc_args = `0x00${pubKeykHash}020000`;\n        break;\n\n      case RC_MODE.PUBKEY_HASH:\n        rc_args = `0x00${pubKeykHash}00`;\n        break;\n\n      default:\n        return Promise.reject(new Error('invalid rc mode'));\n    }\n\n    const config = await this.ckitProvider.getScriptConfig('RC_LOCK');\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  async signMessage(message) {\n    const signature = _hd.key.signRecoverable(message, _classPrivateFieldGet(this, _privateKey2));\n\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RCLockSigner = RCLockSigner;\n\nvar _privateKey3 = /*#__PURE__*/new WeakMap();\n\nclass RcEthSigner extends _AbstractSingleEntrySigner.AbstractSingleEntrySigner {\n  constructor(privateKey, ckitProvider) {\n    super({\n      provider: ckitProvider\n    });\n    this.ckitProvider = ckitProvider;\n\n    _privateKey3.set(this, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldSet(this, _privateKey3, privateKey);\n  }\n\n  getRcIdentity() {\n    return {\n      flag: _txBuilders.RcIdentityFlag.ETH,\n      pubkeyHash: this.getEthAddress()\n    };\n  }\n\n  getAddress() {\n    const config = this.ckitProvider.getScriptConfig('RC_LOCK');\n    const ethAddress = this.getEthAddress();\n    const rc_args = `0x01${ethAddress.substring(2)}00`;\n    return this.ckitProvider.parseToAddress({\n      code_hash: config.CODE_HASH,\n      hash_type: config.HASH_TYPE,\n      args: rc_args\n    });\n  }\n\n  getEthAddress() {\n    const pubkey = (0, _secp256k.publicKeyCreate)((0, _utils2.hexToBytes)(_classPrivateFieldGet(this, _privateKey3)), false).slice(1);\n    const keccak = new _pwCore.Keccak256Hasher();\n    return '0x' + keccak.update(pubkey.buffer).digest().serializeJson().slice(-40);\n  }\n\n  async signMessage(message) {\n    const result = _hd.key.signRecoverable((0, _PwWallet.hashMessage)(message), _classPrivateFieldGet(this, _privateKey3));\n\n    let v = Number.parseInt(result.slice(-2), 16);\n    if (v >= 27) v -= 27;\n    const sig = result.slice(2, -2);\n    const signature = '0x' + sig + v.toString(16).padStart(2, '0');\n    return Promise.resolve(new _ckbJsToolkit.Reader((0, _rcLock.SerializeRcLockWitnessLock)({\n      signature: new _ckbJsToolkit.Reader(signature)\n    })).serializeJson());\n  }\n\n}\n\nexports.RcEthSigner = RcEthSigner;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SerializeIdentity = SerializeIdentity;\nexports.SerializeRcIdentity = SerializeRcIdentity;\nexports.SerializeRcIdentityOpt = SerializeRcIdentityOpt;\nexports.SerializeRcLockWitnessLock = SerializeRcLockWitnessLock;\nexports.SerializeScriptVec = SerializeScriptVec;\nexports.SerializeScriptVecOpt = SerializeScriptVecOpt;\nexports.SerializeXudtWitnessInput = SerializeXudtWitnessInput;\nexports.SerializeRCRule = SerializeRCRule;\nexports.SerializeRCCellVec = SerializeRCCellVec;\nexports.SerializeRCData = SerializeRCData;\nexports.SerializeSmtProof = SerializeSmtProof;\nexports.SerializeSmtProofEntry = SerializeSmtProofEntry;\nexports.SerializeSmtProofEntryVec = SerializeSmtProofEntryVec;\nexports.SerializeSmtUpdateItem = SerializeSmtUpdateItem;\nexports.SerializeSmtUpdateItemVec = SerializeSmtUpdateItemVec;\nexports.SerializeSmtUpdateAction = SerializeSmtUpdateAction;\nexports.SerializeXudtData = SerializeXudtData;\nexports.SerializeUint32 = SerializeUint32;\nexports.SerializeUint64 = SerializeUint64;\nexports.SerializeUint128 = SerializeUint128;\nexports.SerializeByte32 = SerializeByte32;\nexports.SerializeUint256 = SerializeUint256;\nexports.SerializeBytes = SerializeBytes;\nexports.SerializeBytesOpt = SerializeBytesOpt;\nexports.SerializeBytesVec = SerializeBytesVec;\nexports.SerializeByte32Vec = SerializeByte32Vec;\nexports.SerializeScriptOpt = SerializeScriptOpt;\nexports.SerializeProposalShortId = SerializeProposalShortId;\nexports.SerializeUncleBlockVec = SerializeUncleBlockVec;\nexports.SerializeTransactionVec = SerializeTransactionVec;\nexports.SerializeProposalShortIdVec = SerializeProposalShortIdVec;\nexports.SerializeCellDepVec = SerializeCellDepVec;\nexports.SerializeCellInputVec = SerializeCellInputVec;\nexports.SerializeCellOutputVec = SerializeCellOutputVec;\nexports.SerializeScript = SerializeScript;\nexports.SerializeOutPoint = SerializeOutPoint;\nexports.SerializeCellInput = SerializeCellInput;\nexports.SerializeCellOutput = SerializeCellOutput;\nexports.SerializeCellDep = SerializeCellDep;\nexports.SerializeRawTransaction = SerializeRawTransaction;\nexports.SerializeTransaction = SerializeTransaction;\nexports.SerializeRawHeader = SerializeRawHeader;\nexports.SerializeHeader = SerializeHeader;\nexports.SerializeUncleBlock = SerializeUncleBlock;\nexports.SerializeBlock = SerializeBlock;\nexports.SerializeCellbaseWitness = SerializeCellbaseWitness;\nexports.SerializeWitnessArgs = SerializeWitnessArgs;\nexports.WitnessArgs = exports.CellbaseWitness = exports.Block = exports.UncleBlock = exports.Header = exports.RawHeader = exports.Transaction = exports.RawTransaction = exports.CellDep = exports.CellOutput = exports.CellInput = exports.OutPoint = exports.Script = exports.CellOutputVec = exports.CellInputVec = exports.CellDepVec = exports.ProposalShortIdVec = exports.TransactionVec = exports.UncleBlockVec = exports.ProposalShortId = exports.ScriptOpt = exports.Byte32Vec = exports.BytesVec = exports.BytesOpt = exports.Bytes = exports.Uint256 = exports.Byte32 = exports.Uint128 = exports.Uint64 = exports.Uint32 = exports.XudtData = exports.SmtUpdateAction = exports.SmtUpdateItemVec = exports.SmtUpdateItem = exports.SmtProofEntryVec = exports.SmtProofEntry = exports.SmtProof = exports.RCData = exports.RCCellVec = exports.RCRule = exports.XudtWitnessInput = exports.ScriptVecOpt = exports.ScriptVec = exports.RcLockWitnessLock = exports.RcIdentityOpt = exports.RcIdentity = exports.Identity = void 0;\n\nfunction dataLengthError(actual, required) {\n  throw new Error(`Invalid data length! Required: ${required}, actual: ${actual}`);\n}\n\nfunction assertDataLength(actual, required) {\n  if (actual !== required) {\n    dataLengthError(actual, required);\n  }\n}\n\nfunction assertArrayBuffer(reader) {\n  if (reader instanceof Object && reader.toArrayBuffer instanceof Function) {\n    reader = reader.toArrayBuffer();\n  }\n\n  if (!(reader instanceof ArrayBuffer)) {\n    throw new Error(\"Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!\");\n  }\n\n  return reader;\n}\n\nfunction verifyAndExtractOffsets(view, expectedFieldCount, compatible) {\n  if (view.byteLength < 4) {\n    dataLengthError(view.byteLength, \">4\");\n  }\n\n  const requiredByteLength = view.getUint32(0, true);\n  assertDataLength(view.byteLength, requiredByteLength);\n\n  if (requiredByteLength === 4) {\n    return [requiredByteLength];\n  }\n\n  if (requiredByteLength < 8) {\n    dataLengthError(view.byteLength, \">8\");\n  }\n\n  const firstOffset = view.getUint32(4, true);\n\n  if (firstOffset % 4 !== 0 || firstOffset < 8) {\n    throw new Error(`Invalid first offset: ${firstOffset}`);\n  }\n\n  const itemCount = firstOffset / 4 - 1;\n\n  if (itemCount < expectedFieldCount) {\n    throw new Error(`Item count not enough! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  } else if (!compatible && itemCount > expectedFieldCount) {\n    throw new Error(`Item count is more than required! Required: ${expectedFieldCount}, actual: ${itemCount}`);\n  }\n\n  if (requiredByteLength < firstOffset) {\n    throw new Error(`First offset is larger than byte length: ${firstOffset}`);\n  }\n\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    const start = 4 + i * 4;\n    offsets.push(view.getUint32(start, true));\n  }\n\n  offsets.push(requiredByteLength);\n\n  for (let i = 0; i < offsets.length - 1; i++) {\n    if (offsets[i] > offsets[i + 1]) {\n      throw new Error(`Offset index ${i}: ${offsets[i]} is larger than offset index ${i + 1}: ${offsets[i + 1]}`);\n    }\n  }\n\n  return offsets;\n}\n\nfunction serializeTable(buffers) {\n  const itemCount = buffers.length;\n  let totalSize = 4 * (itemCount + 1);\n  const offsets = [];\n\n  for (let i = 0; i < itemCount; i++) {\n    offsets.push(totalSize);\n    totalSize += buffers[i].byteLength;\n  }\n\n  const buffer = new ArrayBuffer(totalSize);\n  const array = new Uint8Array(buffer);\n  const view = new DataView(buffer);\n  view.setUint32(0, totalSize, true);\n\n  for (let i = 0; i < itemCount; i++) {\n    view.setUint32(4 + i * 4, offsets[i], true);\n    array.set(new Uint8Array(buffers[i]), offsets[i]);\n  }\n\n  return buffer;\n}\n\nclass Identity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 21);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 21;\n  }\n\n}\n\nexports.Identity = Identity;\n\nfunction SerializeIdentity(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 21);\n  return buffer;\n}\n\nclass RcIdentity {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Identity(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProofEntryVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getIdentity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Identity(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProofs() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProofEntryVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcIdentity = RcIdentity;\n\nfunction SerializeRcIdentity(value) {\n  const buffers = [];\n  buffers.push(SerializeIdentity(value.identity));\n  buffers.push(SerializeSmtProofEntryVec(value.proofs));\n  return serializeTable(buffers);\n}\n\nclass RcIdentityOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new RcIdentity(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.RcIdentityOpt = RcIdentityOpt;\n\nfunction SerializeRcIdentityOpt(value) {\n  if (value) {\n    return SerializeRcIdentity(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass RcLockWitnessLock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new RcIdentityOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getSignature() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getRcIdentity() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RcIdentityOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getPreimage() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RcLockWitnessLock = RcLockWitnessLock;\n\nfunction SerializeRcLockWitnessLock(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.signature));\n  buffers.push(SerializeRcIdentityOpt(value.rc_identity));\n  buffers.push(SerializeBytesOpt(value.preimage));\n  return serializeTable(buffers);\n}\n\nclass ScriptVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Script(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.ScriptVec = ScriptVec;\n\nfunction SerializeScriptVec(value) {\n  return serializeTable(value.map(item => SerializeScript(item)));\n}\n\nclass ScriptVecOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new ScriptVec(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptVecOpt = ScriptVecOpt;\n\nfunction SerializeScriptVecOpt(value) {\n  if (value) {\n    return SerializeScriptVec(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass XudtWitnessInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new ScriptVecOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRawExtensionData() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new ScriptVecOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getExtensionData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtWitnessInput = XudtWitnessInput;\n\nfunction SerializeXudtWitnessInput(value) {\n  const buffers = [];\n  buffers.push(SerializeScriptVecOpt(value.raw_extension_data));\n  buffers.push(SerializeBytesVec(value.extension_data));\n  return serializeTable(buffers);\n}\n\nclass RCRule {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSmtRoot() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getFlags() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RCRule.size());\n    this.getSmtRoot().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.RCRule = RCRule;\n\nfunction SerializeRCRule(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.smt_root)), 0);\n  view.setUint8(0 + Byte32.size(), value.flags);\n  return array.buffer;\n}\n\nclass RCCellVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.RCCellVec = RCCellVec;\n\nfunction SerializeRCCellVec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass RCData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      assertDataLength(this.view.byteLength, \">4\");\n    }\n\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      case 1:\n        new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        }).validate();\n        break;\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  unionType() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return \"RCRule\";\n\n      case 1:\n        return \"RCCellVec\";\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n  value() {\n    const t = this.view.getUint32(0, true);\n\n    switch (t) {\n      case 0:\n        return new RCRule(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      case 1:\n        return new RCCellVec(this.view.buffer.slice(4), {\n          validate: false\n        });\n\n      default:\n        throw new Error(`Invalid type: ${t}`);\n    }\n  }\n\n}\n\nexports.RCData = RCData;\n\nfunction SerializeRCData(value) {\n  switch (value.type) {\n    case \"RCRule\":\n      {\n        const itemBuffer = SerializeRCRule(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 0, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    case \"RCCellVec\":\n      {\n        const itemBuffer = SerializeRCCellVec(value.value);\n        const array = new Uint8Array(4 + itemBuffer.byteLength);\n        const view = new DataView(array.buffer);\n        view.setUint32(0, 1, true);\n        array.set(new Uint8Array(itemBuffer), 4);\n        return array.buffer;\n      }\n\n    default:\n      throw new Error(`Invalid type: ${value.type}`);\n  }\n}\n\nclass SmtProof {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtProof = SmtProof;\n\nfunction SerializeSmtProof(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass SmtProofEntry {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    if (offsets[1] - offsets[0] !== 1) {\n      throw new Error(`Invalid offset for mask: ${offsets[0]} - ${offsets[1]}`);\n    }\n\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getMask() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntry = SmtProofEntry;\n\nfunction SerializeSmtProofEntry(value) {\n  const buffers = [];\n  const maskView = new DataView(new ArrayBuffer(1));\n  maskView.setUint8(0, value.mask);\n  buffers.push(maskView.buffer);\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass SmtProofEntryVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new SmtProofEntry(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new SmtProofEntry(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtProofEntryVec = SmtProofEntryVec;\n\nfunction SerializeSmtProofEntryVec(value) {\n  return serializeTable(value.map(item => SerializeSmtProofEntry(item)));\n}\n\nclass SmtUpdateItem {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getKey() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getPackedValues() {\n    return this.view.getUint8(0 + Byte32.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, SmtUpdateItem.size());\n    this.getKey().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + 1;\n  }\n\n}\n\nexports.SmtUpdateItem = SmtUpdateItem;\n\nfunction SerializeSmtUpdateItem(value) {\n  const array = new Uint8Array(0 + Byte32.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.key)), 0);\n  view.setUint8(0 + Byte32.size(), value.packed_values);\n  return array.buffer;\n}\n\nclass SmtUpdateItemVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * SmtUpdateItem.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new SmtUpdateItem(this.view.buffer.slice(4 + i * SmtUpdateItem.size(), 4 + (i + 1) * SmtUpdateItem.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.SmtUpdateItemVec = SmtUpdateItemVec;\n\nfunction SerializeSmtUpdateItemVec(value) {\n  const array = new Uint8Array(4 + SmtUpdateItem.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeSmtUpdateItem(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * SmtUpdateItem.size());\n  }\n\n  return array.buffer;\n}\n\nclass SmtUpdateAction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new SmtUpdateItemVec(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new SmtProof(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getUpdates() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new SmtUpdateItemVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProof() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new SmtProof(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.SmtUpdateAction = SmtUpdateAction;\n\nfunction SerializeSmtUpdateAction(value) {\n  const buffers = [];\n  buffers.push(SerializeSmtUpdateItemVec(value.updates));\n  buffers.push(SerializeSmtProof(value.proof));\n  return serializeTable(buffers);\n}\n\nclass XudtData {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Bytes(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getData() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.XudtData = XudtData;\n\nfunction SerializeXudtData(value) {\n  const buffers = [];\n  buffers.push(SerializeBytes(value.lock));\n  buffers.push(SerializeBytesVec(value.data));\n  return serializeTable(buffers);\n}\n\nclass Uint32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  toBigEndianUint32() {\n    return this.view.getUint32(0, false);\n  }\n\n  toLittleEndianUint32() {\n    return this.view.getUint32(0, true);\n  }\n\n  static size() {\n    return 4;\n  }\n\n}\n\nexports.Uint32 = Uint32;\n\nfunction SerializeUint32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 4);\n  return buffer;\n}\n\nclass Uint64 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 8);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 8;\n  }\n\n}\n\nexports.Uint64 = Uint64;\n\nfunction SerializeUint64(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 8);\n  return buffer;\n}\n\nclass Uint128 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 16);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 16;\n  }\n\n}\n\nexports.Uint128 = Uint128;\n\nfunction SerializeUint128(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 16);\n  return buffer;\n}\n\nclass Byte32 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Byte32 = Byte32;\n\nfunction SerializeByte32(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Uint256 {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 32);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 32;\n  }\n\n}\n\nexports.Uint256 = Uint256;\n\nfunction SerializeUint256(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 32);\n  return buffer;\n}\n\nclass Bytes {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n  }\n\n  raw() {\n    return this.view.buffer.slice(4);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(4 + i);\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Bytes = Bytes;\n\nfunction SerializeBytes(value) {\n  const item = assertArrayBuffer(value);\n  const array = new Uint8Array(4 + item.byteLength);\n  new DataView(array.buffer).setUint32(0, item.byteLength, true);\n  array.set(new Uint8Array(item), 4);\n  return array.buffer;\n}\n\nclass BytesOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Bytes(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.BytesOpt = BytesOpt;\n\nfunction SerializeBytesOpt(value) {\n  if (value) {\n    return SerializeBytes(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass BytesVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Bytes(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.BytesVec = BytesVec;\n\nfunction SerializeBytesVec(value) {\n  return serializeTable(value.map(item => SerializeBytes(item)));\n}\n\nclass Byte32Vec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * Byte32.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new Byte32(this.view.buffer.slice(4 + i * Byte32.size(), 4 + (i + 1) * Byte32.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.Byte32Vec = Byte32Vec;\n\nfunction SerializeByte32Vec(value) {\n  const array = new Uint8Array(4 + Byte32.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeByte32(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * Byte32.size());\n  }\n\n  return array.buffer;\n}\n\nclass ScriptOpt {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.hasValue()) {\n      this.value().validate(compatible);\n    }\n  }\n\n  value() {\n    return new Script(this.view.buffer, {\n      validate: false\n    });\n  }\n\n  hasValue() {\n    return this.view.byteLength > 0;\n  }\n\n}\n\nexports.ScriptOpt = ScriptOpt;\n\nfunction SerializeScriptOpt(value) {\n  if (value) {\n    return SerializeScript(value);\n  } else {\n    return new ArrayBuffer(0);\n  }\n}\n\nclass ProposalShortId {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, 10);\n  }\n\n  indexAt(i) {\n    return this.view.getUint8(i);\n  }\n\n  raw() {\n    return this.view.buffer;\n  }\n\n  static size() {\n    return 10;\n  }\n\n}\n\nexports.ProposalShortId = ProposalShortId;\n\nfunction SerializeProposalShortId(value) {\n  const buffer = assertArrayBuffer(value);\n  assertDataLength(buffer.byteLength, 10);\n  return buffer;\n}\n\nclass UncleBlockVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new UncleBlock(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new UncleBlock(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlockVec = UncleBlockVec;\n\nfunction SerializeUncleBlockVec(value) {\n  return serializeTable(value.map(item => SerializeUncleBlock(item)));\n}\n\nclass TransactionVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new Transaction(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new Transaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.TransactionVec = TransactionVec;\n\nfunction SerializeTransactionVec(value) {\n  return serializeTable(value.map(item => SerializeTransaction(item)));\n}\n\nclass ProposalShortIdVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * ProposalShortId.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new ProposalShortId(this.view.buffer.slice(4 + i * ProposalShortId.size(), 4 + (i + 1) * ProposalShortId.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.ProposalShortIdVec = ProposalShortIdVec;\n\nfunction SerializeProposalShortIdVec(value) {\n  const array = new Uint8Array(4 + ProposalShortId.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeProposalShortId(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * ProposalShortId.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellDepVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellDep.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellDep(this.view.buffer.slice(4 + i * CellDep.size(), 4 + (i + 1) * CellDep.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellDepVec = CellDepVec;\n\nfunction SerializeCellDepVec(value) {\n  const array = new Uint8Array(4 + CellDep.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellDep(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellDep.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellInputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    if (this.view.byteLength < 4) {\n      dataLengthError(this.view.byteLength, \">4\");\n    }\n\n    const requiredByteLength = this.length() * CellInput.size() + 4;\n    assertDataLength(this.view.byteLength, requiredByteLength);\n\n    for (let i = 0; i < 0; i++) {\n      const item = this.indexAt(i);\n      item.validate(compatible);\n    }\n  }\n\n  indexAt(i) {\n    return new CellInput(this.view.buffer.slice(4 + i * CellInput.size(), 4 + (i + 1) * CellInput.size()), {\n      validate: false\n    });\n  }\n\n  length() {\n    return this.view.getUint32(0, true);\n  }\n\n}\n\nexports.CellInputVec = CellInputVec;\n\nfunction SerializeCellInputVec(value) {\n  const array = new Uint8Array(4 + CellInput.size() * value.length);\n  new DataView(array.buffer).setUint32(0, value.length, true);\n\n  for (let i = 0; i < value.length; i++) {\n    const itemBuffer = SerializeCellInput(value[i]);\n    array.set(new Uint8Array(itemBuffer), 4 + i * CellInput.size());\n  }\n\n  return array.buffer;\n}\n\nclass CellOutputVec {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n\n    for (let i = 0; i < len(offsets) - 1; i++) {\n      new CellOutput(this.view.buffer.slice(offsets[i], offsets[i + 1]), {\n        validate: false\n      }).validate();\n    }\n  }\n\n  length() {\n    if (this.view.byteLength < 8) {\n      return 0;\n    } else {\n      return this.view.getUint32(4, true) / 4 - 1;\n    }\n  }\n\n  indexAt(i) {\n    const start = 4 + i * 4;\n    const offset = this.view.getUint32(start, true);\n    let offset_end = this.view.byteLength;\n\n    if (i + 1 < this.length()) {\n      offset_end = this.view.getUint32(start + 4, true);\n    }\n\n    return new CellOutput(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutputVec = CellOutputVec;\n\nfunction SerializeCellOutputVec(value) {\n  return serializeTable(value.map(item => SerializeCellOutput(item)));\n}\n\nclass Script {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Byte32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n\n    if (offsets[2] - offsets[1] !== 1) {\n      throw new Error(`Invalid offset for hash_type: ${offsets[1]} - ${offsets[2]}`);\n    }\n\n    new Bytes(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCodeHash() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHashType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new DataView(this.view.buffer.slice(offset, offset_end)).getUint8(0);\n  }\n\n  getArgs() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Script = Script;\n\nfunction SerializeScript(value) {\n  const buffers = [];\n  buffers.push(SerializeByte32(value.code_hash));\n  const hashTypeView = new DataView(new ArrayBuffer(1));\n  hashTypeView.setUint8(0, value.hash_type);\n  buffers.push(hashTypeView.buffer);\n  buffers.push(SerializeBytes(value.args));\n  return serializeTable(buffers);\n}\n\nclass OutPoint {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getTxHash() {\n    return new Byte32(this.view.buffer.slice(0, 0 + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getIndex() {\n    return new Uint32(this.view.buffer.slice(0 + Byte32.size(), 0 + Byte32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, OutPoint.size());\n    this.getTxHash().validate(compatible);\n    this.getIndex().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Byte32.size() + Uint32.size();\n  }\n\n}\n\nexports.OutPoint = OutPoint;\n\nfunction SerializeOutPoint(value) {\n  const array = new Uint8Array(0 + Byte32.size() + Uint32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeByte32(value.tx_hash)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.index)), 0 + Byte32.size());\n  return array.buffer;\n}\n\nclass CellInput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getSince() {\n    return new Uint64(this.view.buffer.slice(0, 0 + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getPreviousOutput() {\n    return new OutPoint(this.view.buffer.slice(0 + Uint64.size(), 0 + Uint64.size() + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellInput.size());\n    this.getSince().validate(compatible);\n    this.getPreviousOutput().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint64.size() + OutPoint.size();\n  }\n\n}\n\nexports.CellInput = CellInput;\n\nfunction SerializeCellInput(value) {\n  const array = new Uint8Array(0 + Uint64.size() + OutPoint.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint64(value.since)), 0);\n  array.set(new Uint8Array(SerializeOutPoint(value.previous_output)), 0 + Uint64.size());\n  return array.buffer;\n}\n\nclass CellOutput {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint64(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Script(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new ScriptOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getCapacity() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint64(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getLock() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ScriptOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellOutput = CellOutput;\n\nfunction SerializeCellOutput(value) {\n  const buffers = [];\n  buffers.push(SerializeUint64(value.capacity));\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeScriptOpt(value.type_));\n  return serializeTable(buffers);\n}\n\nclass CellDep {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getOutPoint() {\n    return new OutPoint(this.view.buffer.slice(0, 0 + OutPoint.size()), {\n      validate: false\n    });\n  }\n\n  getDepType() {\n    return this.view.getUint8(0 + OutPoint.size());\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, CellDep.size());\n    this.getOutPoint().validate(compatible);\n  }\n\n  static size() {\n    return 0 + OutPoint.size() + 1;\n  }\n\n}\n\nexports.CellDep = CellDep;\n\nfunction SerializeCellDep(value) {\n  const array = new Uint8Array(0 + OutPoint.size() + 1);\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeOutPoint(value.out_point)), 0);\n  view.setUint8(0 + OutPoint.size(), value.dep_type);\n  return array.buffer;\n}\n\nclass RawTransaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Uint32(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new CellDepVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new Byte32Vec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new CellInputVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n    new CellOutputVec(this.view.buffer.slice(offsets[4], offsets[5]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[5], offsets[6]), {\n      validate: false\n    }).validate();\n  }\n\n  getVersion() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Uint32(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getCellDeps() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellDepVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getHeaderDeps() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Byte32Vec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputs() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellInputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputs() {\n    const start = 20;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new CellOutputVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputsData() {\n    const start = 24;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.RawTransaction = RawTransaction;\n\nfunction SerializeRawTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeUint32(value.version));\n  buffers.push(SerializeCellDepVec(value.cell_deps));\n  buffers.push(SerializeByte32Vec(value.header_deps));\n  buffers.push(SerializeCellInputVec(value.inputs));\n  buffers.push(SerializeCellOutputVec(value.outputs));\n  buffers.push(SerializeBytesVec(value.outputs_data));\n  return serializeTable(buffers);\n}\n\nclass Transaction {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new RawTransaction(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getRaw() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new RawTransaction(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getWitnesses() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Transaction = Transaction;\n\nfunction SerializeTransaction(value) {\n  const buffers = [];\n  buffers.push(SerializeRawTransaction(value.raw));\n  buffers.push(SerializeBytesVec(value.witnesses));\n  return serializeTable(buffers);\n}\n\nclass RawHeader {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getVersion() {\n    return new Uint32(this.view.buffer.slice(0, 0 + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getCompactTarget() {\n    return new Uint32(this.view.buffer.slice(0 + Uint32.size(), 0 + Uint32.size() + Uint32.size()), {\n      validate: false\n    });\n  }\n\n  getTimestamp() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getNumber() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getEpoch() {\n    return new Uint64(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size()), {\n      validate: false\n    });\n  }\n\n  getParentHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getTransactionsRoot() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getProposalsHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getUnclesHash() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  getDao() {\n    return new Byte32(this.view.buffer.slice(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size(), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, RawHeader.size());\n    this.getVersion().validate(compatible);\n    this.getCompactTarget().validate(compatible);\n    this.getTimestamp().validate(compatible);\n    this.getNumber().validate(compatible);\n    this.getEpoch().validate(compatible);\n    this.getParentHash().validate(compatible);\n    this.getTransactionsRoot().validate(compatible);\n    this.getProposalsHash().validate(compatible);\n    this.getUnclesHash().validate(compatible);\n    this.getDao().validate(compatible);\n  }\n\n  static size() {\n    return 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size();\n  }\n\n}\n\nexports.RawHeader = RawHeader;\n\nfunction SerializeRawHeader(value) {\n  const array = new Uint8Array(0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeUint32(value.version)), 0);\n  array.set(new Uint8Array(SerializeUint32(value.compact_target)), 0 + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.timestamp)), 0 + Uint32.size() + Uint32.size());\n  array.set(new Uint8Array(SerializeUint64(value.number)), 0 + Uint32.size() + Uint32.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeUint64(value.epoch)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.parent_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size());\n  array.set(new Uint8Array(SerializeByte32(value.transactions_root)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.proposals_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.uncles_hash)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  array.set(new Uint8Array(SerializeByte32(value.dao)), 0 + Uint32.size() + Uint32.size() + Uint64.size() + Uint64.size() + Uint64.size() + Byte32.size() + Byte32.size() + Byte32.size() + Byte32.size());\n  return array.buffer;\n}\n\nclass Header {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  getRaw() {\n    return new RawHeader(this.view.buffer.slice(0, 0 + RawHeader.size()), {\n      validate: false\n    });\n  }\n\n  getNonce() {\n    return new Uint128(this.view.buffer.slice(0 + RawHeader.size(), 0 + RawHeader.size() + Uint128.size()), {\n      validate: false\n    });\n  }\n\n  validate(compatible = false) {\n    assertDataLength(this.view.byteLength, Header.size());\n    this.getRaw().validate(compatible);\n    this.getNonce().validate(compatible);\n  }\n\n  static size() {\n    return 0 + RawHeader.size() + Uint128.size();\n  }\n\n}\n\nexports.Header = Header;\n\nfunction SerializeHeader(value) {\n  const array = new Uint8Array(0 + RawHeader.size() + Uint128.size());\n  const view = new DataView(array.buffer);\n  array.set(new Uint8Array(SerializeRawHeader(value.raw)), 0);\n  array.set(new Uint8Array(SerializeUint128(value.nonce)), 0 + RawHeader.size());\n  return array.buffer;\n}\n\nclass UncleBlock {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.UncleBlock = UncleBlock;\n\nfunction SerializeUncleBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass Block {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Header(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new UncleBlockVec(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new TransactionVec(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n    new ProposalShortIdVec(this.view.buffer.slice(offsets[3], offsets[4]), {\n      validate: false\n    }).validate();\n  }\n\n  getHeader() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Header(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getUncles() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new UncleBlockVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getTransactions() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new TransactionVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getProposals() {\n    const start = 16;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new ProposalShortIdVec(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.Block = Block;\n\nfunction SerializeBlock(value) {\n  const buffers = [];\n  buffers.push(SerializeHeader(value.header));\n  buffers.push(SerializeUncleBlockVec(value.uncles));\n  buffers.push(SerializeTransactionVec(value.transactions));\n  buffers.push(SerializeProposalShortIdVec(value.proposals));\n  return serializeTable(buffers);\n}\n\nclass CellbaseWitness {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new Script(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new Bytes(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new Script(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getMessage() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new Bytes(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.CellbaseWitness = CellbaseWitness;\n\nfunction SerializeCellbaseWitness(value) {\n  const buffers = [];\n  buffers.push(SerializeScript(value.lock));\n  buffers.push(SerializeBytes(value.message));\n  return serializeTable(buffers);\n}\n\nclass WitnessArgs {\n  constructor(reader, {\n    validate = true\n  } = {}) {\n    this.view = new DataView(assertArrayBuffer(reader));\n\n    if (validate) {\n      this.validate();\n    }\n  }\n\n  validate(compatible = false) {\n    const offsets = verifyAndExtractOffsets(this.view, 0, true);\n    new BytesOpt(this.view.buffer.slice(offsets[0], offsets[1]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[1], offsets[2]), {\n      validate: false\n    }).validate();\n    new BytesOpt(this.view.buffer.slice(offsets[2], offsets[3]), {\n      validate: false\n    }).validate();\n  }\n\n  getLock() {\n    const start = 4;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getInputType() {\n    const start = 8;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.getUint32(start + 4, true);\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n  getOutputType() {\n    const start = 12;\n    const offset = this.view.getUint32(start, true);\n    const offset_end = this.view.byteLength;\n    return new BytesOpt(this.view.buffer.slice(offset, offset_end), {\n      validate: false\n    });\n  }\n\n}\n\nexports.WitnessArgs = WitnessArgs;\n\nfunction SerializeWitnessArgs(value) {\n  const buffers = [];\n  buffers.push(SerializeBytesOpt(value.lock));\n  buffers.push(SerializeBytesOpt(value.input_type));\n  buffers.push(SerializeBytesOpt(value.output_type));\n  return serializeTable(buffers);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToRcIdentityFlag = convertToRcIdentityFlag;\nexports.convertToSudtSupplyInfo = convertToSudtSupplyInfo;\nexports.convertToSudtInfo = convertToSudtInfo;\nexports.RcSupplyLockHelper = exports.RcLockFlag = exports.RcIdentityFlag = exports.OmniSupplyOutputData = exports.RcSupplyOutputData = exports.OmniSupplyLockArgs = exports.OmniIdentityLockArgs = exports.RcSupplyLockArgs = exports.RcIdentityLockArgs = exports.RcIdentityAcpLockArgs = void 0;\n\nvar _base = require(\"@ckb-lumos/base\");\n\nvar _easyByte = require(\"@ckitjs/easy-byte\");\n\nvar _utils = require(\"@ckitjs/utils\");\n\nvar _ckbJsToolkit = require(\"ckb-js-toolkit\");\n\nvar _rxjs = require(\"rxjs\");\n\nvar _operators = require(\"rxjs/operators\");\n\nvar _rc_udt_info = require(\"./generated/rc_udt_info\");\n\nfunction Bytes(byteWidth) {\n  return {\n    byteWidth,\n\n    read(buf, offset = 0) {\n      return (0, _easyByte.formatByteLike)(buf.slice(offset, offset + byteWidth), {\n        pad0x: true\n      });\n    },\n\n    write(buf, val, offset = 0) {\n      const byte = (0, _easyByte.formatByteLike)(val, {\n        rm0x: true\n      });\n      buf.write(byte, offset, byteWidth, 'hex');\n    }\n\n  };\n}\n\nconst RcIdentityAcpLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8).field('rc_lock_acp_minimum_ckb', _easyByte.U8).field('rc_lock_acp_minimum_udt', _easyByte.U8);\nexports.RcIdentityAcpLockArgs = RcIdentityAcpLockArgs;\nconst RcIdentityLockArgs = (0, _easyByte.createFixedStruct)().field('rc_identity_flag', (0, _easyByte.createField)(1, (buf, offset) => convertToRcIdentityFlag(buf.readUInt8(offset)), _easyByte.U8.write)).field('rc_identity_pubkey_hash', Bytes(20)).field('rc_lock_flag', _easyByte.U8);\nexports.RcIdentityLockArgs = RcIdentityLockArgs;\nconst RcSupplyLockArgs = RcIdentityLockArgs.field('type_id_hash', Bytes(32));\nexports.RcSupplyLockArgs = RcSupplyLockArgs;\nconst OmniIdentityLockArgs = RcIdentityLockArgs;\nexports.OmniIdentityLockArgs = OmniIdentityLockArgs;\nconst OmniSupplyLockArgs = RcSupplyLockArgs;\n/**\n * @deprecated please migrate to {@link OmniSupplyOutputData}\n */\n\nexports.OmniSupplyLockArgs = OmniSupplyLockArgs;\nconst RcSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LE).field('max_supply', _easyByte.U128LE).field('sudt_script_hash', Bytes(32));\nexports.RcSupplyOutputData = RcSupplyOutputData;\nconst OmniSupplyOutputData = (0, _easyByte.createFixedStruct)().field('version', _easyByte.U8).field('current_supply', _easyByte.U128LEJSBI).field('max_supply', _easyByte.U128LEJSBI).field('sudt_script_hash', Bytes(32));\n/**\n * {@link https://github.com/XuJiandong/ckb-c-stdlib/blob/4eca989f8a/ckb_identity.h#L45-L51 RC Identity}\n */\n\nexports.OmniSupplyOutputData = OmniSupplyOutputData;\nlet RcIdentityFlag;\nexports.RcIdentityFlag = RcIdentityFlag;\n\n(function (RcIdentityFlag) {\n  RcIdentityFlag[RcIdentityFlag[\"CKB\"] = 0] = \"CKB\";\n  RcIdentityFlag[RcIdentityFlag[\"ETH\"] = 1] = \"ETH\";\n})(RcIdentityFlag || (exports.RcIdentityFlag = RcIdentityFlag = {}));\n\nfunction convertToRcIdentityFlag(flag) {\n  const num = Number(_utils.bytes.toHex(flag));\n  if (num === RcIdentityFlag.CKB) return RcIdentityFlag.CKB;\n  if (num === RcIdentityFlag.ETH) return RcIdentityFlag.ETH;\n  throw new Error(`Unknown RC Identity flag: ${num}`);\n}\n\nlet RcLockFlag;\nexports.RcLockFlag = RcLockFlag;\n\n(function (RcLockFlag) {\n  RcLockFlag[RcLockFlag[\"ROOT\"] = 1] = \"ROOT\";\n  RcLockFlag[RcLockFlag[\"ACP_MASK\"] = 2] = \"ACP_MASK\";\n  RcLockFlag[RcLockFlag[\"SINCE_MASK\"] = 4] = \"SINCE_MASK\";\n  RcLockFlag[RcLockFlag[\"SUPPLY_MASK\"] = 8] = \"SUPPLY_MASK\";\n})(RcLockFlag || (exports.RcLockFlag = RcLockFlag = {}));\n\nfunction convertToSudtSupplyInfo(outputData) {\n  const {\n    current_supply,\n    max_supply,\n    version\n  } = OmniSupplyOutputData.decode((0, _easyByte.toBuffer)(outputData));\n  const fixedDataLen = OmniSupplyOutputData.fields.reduce((acc, field) => acc + field[1].byteWidth, 0);\n  const udtInfo = new _rc_udt_info.UdtInfo(new _ckbJsToolkit.Reader(_utils.bytes.toHex(outputData.slice(2\n  /*0x*/\n  + fixedDataLen * 2))));\n  return {\n    version: _utils.bytes.toHex(version),\n    currentSupply: _utils.bytes.toHex(current_supply),\n    maxSupply: _utils.bytes.toHex(max_supply),\n    description: Buffer.from(udtInfo.getDescription().raw()).toString(),\n    symbol: Buffer.from(udtInfo.getSymbol().raw()).toString(),\n    name: Buffer.from(udtInfo.getName().raw()).toString(),\n    decimals: udtInfo.getDecimals()\n  };\n}\n/**\n * convert a resolved rc-udt cell to {@link SudtInfo}\n * @param cell\n */\n\n\nfunction convertToSudtInfo(cell) {\n  const {\n    rc_identity_flag,\n    rc_identity_pubkey_hash,\n    type_id_hash\n  } = RcSupplyLockArgs.decode((0, _easyByte.toBuffer)(cell.output.lock.args));\n  return {\n    rcIdentity: {\n      flag: rc_identity_flag,\n      pubkeyHash: rc_identity_pubkey_hash\n    },\n    udtId: type_id_hash,\n    ...convertToSudtSupplyInfo(cell.output_data)\n  };\n}\n\nclass RcSupplyLockHelper {\n  constructor(indexer, config) {\n    this.indexer = indexer;\n    this.config = config;\n  }\n\n  async listCreatedInfoCells(options) {\n    const {\n      rcIdentity,\n      udtId\n    } = options;\n    const mercury = this.indexer;\n    const searchKey = {\n      script: { ...this.config.rcLock,\n        args: _utils.bytes.concat(rcIdentity.flag, rcIdentity.pubkeyHash, RcLockFlag.SUPPLY_MASK, udtId !== null && udtId !== void 0 ? udtId : '')\n      },\n      script_type: 'lock'\n    };\n    const supplyCells$ = (0, _rxjs.from)(mercury.get_cells({\n      search_key: searchKey\n    })).pipe((0, _operators.expand)(res => mercury.get_cells({\n      search_key: searchKey,\n      after_cursor: res.last_cursor\n    }), 1), (0, _operators.takeWhile)(res => res.objects.length > 0), (0, _operators.concatMap)(res => res.objects), (0, _operators.toArray)());\n    return (0, _rxjs.lastValueFrom)(supplyCells$);\n  }\n\n  async listCreatedSudt(options) {\n    const infoCells = await this.listCreatedInfoCells(options);\n    return infoCells.map(convertToSudtInfo);\n  }\n\n  newRcSupplyLockScript({\n    rcIdentity,\n    udtId\n  }) {\n    return { ...this.config.rcLock,\n      args: _utils.bytes.toHex(RcSupplyLockArgs.encode({\n        rc_identity_flag: rcIdentity.flag,\n        rc_identity_pubkey_hash: rcIdentity.pubkeyHash,\n        rc_lock_flag: RcLockFlag.SUPPLY_MASK,\n        type_id_hash: udtId\n      }))\n    };\n  }\n  /**\n   * generate sudt script which was issued by a rc_lock_supply\n   * @param options\n   */\n\n\n  newSudtScript({\n    rcIdentity,\n    udtId\n  }) {\n    const infoLock = this.newRcSupplyLockScript({\n      rcIdentity,\n      udtId\n    });\n    return { ...this.config.sudtType,\n      args: _base.utils.computeScriptHash(infoLock)\n    };\n  }\n\n}\n\nexports.RcSupplyLockHelper = RcSupplyLockHelper;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createField = createField;\nexports.createFixedStruct = createFixedStruct;\nexports.U128BEJSBI = exports.U128LEJSBI = exports.U64BEJSBI = exports.U64LEJSBI = exports.U128BE = exports.U128LE = exports.I128BE = exports.I128LE = exports.U64BE = exports.U64LE = exports.I64BE = exports.I64LE = exports.U32BE = exports.U32LE = exports.I32BE = exports.I32LE = exports.U16BE = exports.U16LE = exports.I16BE = exports.I16LE = exports.U8 = exports.I8 = exports.FixedStruct = void 0;\n\nvar _buffer = require(\"buffer\");\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction createReader(fnName) {\n  return function (buf, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    return buf[fnName](offset);\n  };\n}\n\nfunction createWriter(fnName) {\n  return function (buf, val, offset = 0) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    buf[fnName](val, offset);\n  };\n}\n\nfunction createField(byteWidth, read, write) {\n  return {\n    byteWidth,\n    read,\n    write\n  };\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass FixedStruct {\n  constructor(fields = []) {\n    _defineProperty(this, \"fields\", void 0);\n\n    _defineProperty(this, \"byteWidth\", void 0);\n\n    this.fields = fields;\n    this.byteWidth = fields.reduce((width, field) => width + field[1].byteWidth, 0);\n  }\n\n  field(name, field) {\n    const namedField = [name, field];\n    return new FixedStruct(this.fields.concat([namedField]));\n  }\n\n  decode(buf) {\n    const result = {};\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      const parsed = field.read(buf, offset);\n      offset += field.byteWidth;\n      result[name] = parsed;\n    });\n    return result;\n  }\n\n  encode(obj) {\n    const byteSize = this.fields.reduce((size, [, field]) => field.byteWidth + size, 0);\n\n    const buf = _buffer.Buffer.alloc(byteSize);\n\n    let offset = 0;\n    this.fields.forEach(([name, field]) => {\n      field.write(buf, obj[name], offset);\n      offset += field.byteWidth;\n    });\n    return buf;\n  }\n\n}\n\nexports.FixedStruct = FixedStruct;\n\nfunction bigIntReader(byteSize, le, signed) {\n  return function (buf, offset = 0) {\n    const byteString = (0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n      byteSize,\n      // when the bytes are marked as little endian,\n      // in order to parse the bytes as the correct BigInt,\n      // the bytes need to be reversed to big endian\n      convertEndian: le,\n      // padding a 0x to ensure that it is considered by BigInt as hexadecimal\n      pad0x: true\n    });\n    const val = BigInt(byteString);\n    if (!signed) return val;\n    const signMask = BigInt(1) << BigInt(byteSize * 8 - 1);\n    const valueMask = signMask - BigInt(1);\n    if ((signMask & val) === BigInt(0)) return val;\n    return (valueMask & val) - signMask;\n  };\n}\n\nfunction bigIntWriter(byteSize, le, signed) {\n  return function (buf, input, offset = 0) {\n    let val = input;\n    if (signed && val < BigInt(0)) val = (BigInt(1) << BigInt(byteSize * 8)) + val;\n    const byteString = (0, _utils.formatByteLike)(val.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nfunction jsbiReader(byteSize, le) {\n  return (buf, offset = 0) => _jsbi.default.BigInt((0, _utils.formatByteLike)(buf.slice(offset, offset + byteSize), {\n    byteSize,\n    convertEndian: le,\n    pad0x: true\n  }));\n}\n\nfunction jsbiWriter(byteSize, le) {\n  return (buf, input, offset = 0) => {\n    const byteString = (0, _utils.formatByteLike)(input.toString(16), {\n      byteSize,\n      convertEndian: le\n    });\n    buf.write(byteString, offset, 'hex');\n  };\n}\n\nconst I8 = createField(1, createReader('readInt8'), createWriter('writeInt8'));\nexports.I8 = I8;\nconst U8 = createField(1, createReader('readUInt8'), createWriter('writeUInt8'));\nexports.U8 = U8;\nconst I16LE = createField(2, createReader('readInt16LE'), createWriter('writeInt16LE'));\nexports.I16LE = I16LE;\nconst I16BE = createField(2, createReader('readInt16BE'), createWriter('writeInt16BE'));\nexports.I16BE = I16BE;\nconst U16LE = createField(2, createReader('readUInt16LE'), createWriter('writeUInt16LE'));\nexports.U16LE = U16LE;\nconst U16BE = createField(2, createReader('readUInt16BE'), createWriter('writeUInt16BE'));\nexports.U16BE = U16BE;\nconst I32LE = createField(4, createReader('readInt32LE'), createWriter('writeInt32LE'));\nexports.I32LE = I32LE;\nconst I32BE = createField(4, createReader('readInt32BE'), createWriter('writeInt32BE'));\nexports.I32BE = I32BE;\nconst U32LE = createField(4, createReader('readUInt32LE'), createWriter('writeUInt32LE'));\nexports.U32LE = U32LE;\nconst U32BE = createField(4, createReader('readUInt32BE'), createWriter('writeUInt32BE'));\nexports.U32BE = U32BE;\nconst I64LE = createField(8, createReader('readBigInt64LE'), createWriter('writeBigInt64LE'));\nexports.I64LE = I64LE;\nconst I64BE = createField(8, createReader('readBigInt64BE'), createWriter('writeBigInt64BE'));\nexports.I64BE = I64BE;\nconst U64LE = createField(8, createReader('readBigUInt64LE'), createWriter('writeBigUInt64LE'));\nexports.U64LE = U64LE;\nconst U64BE = createField(8, createReader('readBigUInt64BE'), createWriter('writeBigUInt64BE'));\nexports.U64BE = U64BE;\nconst I128LE = createField(16, bigIntReader(16, true, true), bigIntWriter(16, true, true));\nexports.I128LE = I128LE;\nconst I128BE = createField(16, bigIntReader(16, false, true), bigIntWriter(16, false, true));\nexports.I128BE = I128BE;\nconst U128LE = createField(16, bigIntReader(16, true, false), bigIntWriter(16, true, false));\nexports.U128LE = U128LE;\nconst U128BE = createField(16, bigIntReader(16, false, false), bigIntWriter(16, false, false));\nexports.U128BE = U128BE;\nconst U64LEJSBI = createField(8, jsbiReader(8, true), jsbiWriter(8, true));\nexports.U64LEJSBI = U64LEJSBI;\nconst U64BEJSBI = createField(8, jsbiReader(8, false), jsbiWriter(8, false));\nexports.U64BEJSBI = U64BEJSBI;\nconst U128LEJSBI = createField(16, jsbiReader(16, true), jsbiWriter(16, true));\nexports.U128LEJSBI = U128LEJSBI;\nconst U128BEJSBI = createField(16, jsbiReader(16, false), jsbiWriter(16, false));\n/**\n * Create a coder for a fixed-length byte\n * that can easily convert a string of bytes into a plain JS object\n * @example\n * ```typescript\n * const struct = createFixedStruct()\n *  .field('messageType', U8)\n *  .field('messageContent', U64);\n *\n * const parsed = struct.decode(Buffer.from('...'))\n * console.log(parsed) // { messageType: 0, messageContent: ...}\n * ```\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\n\nexports.U128BEJSBI = U128BEJSBI;\n\nfunction createFixedStruct() {\n  return new FixedStruct();\n}"],"sourceRoot":""}